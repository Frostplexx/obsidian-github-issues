/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/before-after-hook/lib/register.js
var require_register = __commonJS({
  "node_modules/before-after-hook/lib/register.js"(exports, module2) {
    module2.exports = register;
    function register(state, name, method, options) {
      if (typeof method !== "function") {
        throw new Error("method for before hook must be a function");
      }
      if (!options) {
        options = {};
      }
      if (Array.isArray(name)) {
        return name.reverse().reduce(function(callback, name2) {
          return register.bind(null, state, name2, callback, options);
        }, method)();
      }
      return Promise.resolve().then(function() {
        if (!state.registry[name]) {
          return method(options);
        }
        return state.registry[name].reduce(function(method2, registered) {
          return registered.hook.bind(null, method2, options);
        }, method)();
      });
    }
  }
});

// node_modules/before-after-hook/lib/add.js
var require_add = __commonJS({
  "node_modules/before-after-hook/lib/add.js"(exports, module2) {
    module2.exports = addHook;
    function addHook(state, kind, name, hook2) {
      var orig = hook2;
      if (!state.registry[name]) {
        state.registry[name] = [];
      }
      if (kind === "before") {
        hook2 = function(method, options) {
          return Promise.resolve().then(orig.bind(null, options)).then(method.bind(null, options));
        };
      }
      if (kind === "after") {
        hook2 = function(method, options) {
          var result;
          return Promise.resolve().then(method.bind(null, options)).then(function(result_) {
            result = result_;
            return orig(result, options);
          }).then(function() {
            return result;
          });
        };
      }
      if (kind === "error") {
        hook2 = function(method, options) {
          return Promise.resolve().then(method.bind(null, options)).catch(function(error) {
            return orig(error, options);
          });
        };
      }
      state.registry[name].push({
        hook: hook2,
        orig
      });
    }
  }
});

// node_modules/before-after-hook/lib/remove.js
var require_remove = __commonJS({
  "node_modules/before-after-hook/lib/remove.js"(exports, module2) {
    module2.exports = removeHook;
    function removeHook(state, name, method) {
      if (!state.registry[name]) {
        return;
      }
      var index = state.registry[name].map(function(registered) {
        return registered.orig;
      }).indexOf(method);
      if (index === -1) {
        return;
      }
      state.registry[name].splice(index, 1);
    }
  }
});

// node_modules/before-after-hook/index.js
var require_before_after_hook = __commonJS({
  "node_modules/before-after-hook/index.js"(exports, module2) {
    var register = require_register();
    var addHook = require_add();
    var removeHook = require_remove();
    var bind = Function.bind;
    var bindable = bind.bind(bind);
    function bindApi(hook2, state, name) {
      var removeHookRef = bindable(removeHook, null).apply(
        null,
        name ? [state, name] : [state]
      );
      hook2.api = { remove: removeHookRef };
      hook2.remove = removeHookRef;
      ["before", "error", "after", "wrap"].forEach(function(kind) {
        var args = name ? [state, kind, name] : [state, kind];
        hook2[kind] = hook2.api[kind] = bindable(addHook, null).apply(null, args);
      });
    }
    function HookSingular() {
      var singularHookName = "h";
      var singularHookState = {
        registry: {}
      };
      var singularHook = register.bind(null, singularHookState, singularHookName);
      bindApi(singularHook, singularHookState, singularHookName);
      return singularHook;
    }
    function HookCollection() {
      var state = {
        registry: {}
      };
      var hook2 = register.bind(null, state);
      bindApi(hook2, state);
      return hook2;
    }
    var collectionHookDeprecationMessageDisplayed = false;
    function Hook() {
      if (!collectionHookDeprecationMessageDisplayed) {
        console.warn(
          '[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'
        );
        collectionHookDeprecationMessageDisplayed = true;
      }
      return HookCollection();
    }
    Hook.Singular = HookSingular.bind();
    Hook.Collection = HookCollection.bind();
    module2.exports = Hook;
    module2.exports.Hook = Hook;
    module2.exports.Singular = Hook.Singular;
    module2.exports.Collection = Hook.Collection;
  }
});

// node_modules/node-fetch/browser.js
var require_browser = __commonJS({
  "node_modules/node-fetch/browser.js"(exports, module2) {
    "use strict";
    var getGlobal = function() {
      if (typeof self !== "undefined") {
        return self;
      }
      if (typeof window !== "undefined") {
        return window;
      }
      if (typeof global !== "undefined") {
        return global;
      }
      throw new Error("unable to locate global object");
    };
    var globalObject = getGlobal();
    module2.exports = exports = globalObject.fetch;
    if (globalObject.fetch) {
      exports.default = globalObject.fetch.bind(globalObject);
    }
    exports.Headers = globalObject.Headers;
    exports.Request = globalObject.Request;
    exports.Response = globalObject.Response;
  }
});

// node_modules/wrappy/wrappy.js
var require_wrappy = __commonJS({
  "node_modules/wrappy/wrappy.js"(exports, module2) {
    module2.exports = wrappy;
    function wrappy(fn, cb) {
      if (fn && cb)
        return wrappy(fn)(cb);
      if (typeof fn !== "function")
        throw new TypeError("need wrapper function");
      Object.keys(fn).forEach(function(k) {
        wrapper[k] = fn[k];
      });
      return wrapper;
      function wrapper() {
        var args = new Array(arguments.length);
        for (var i = 0; i < args.length; i++) {
          args[i] = arguments[i];
        }
        var ret = fn.apply(this, args);
        var cb2 = args[args.length - 1];
        if (typeof ret === "function" && ret !== cb2) {
          Object.keys(cb2).forEach(function(k) {
            ret[k] = cb2[k];
          });
        }
        return ret;
      }
    }
  }
});

// node_modules/once/once.js
var require_once = __commonJS({
  "node_modules/once/once.js"(exports, module2) {
    var wrappy = require_wrappy();
    module2.exports = wrappy(once2);
    module2.exports.strict = wrappy(onceStrict);
    once2.proto = once2(function() {
      Object.defineProperty(Function.prototype, "once", {
        value: function() {
          return once2(this);
        },
        configurable: true
      });
      Object.defineProperty(Function.prototype, "onceStrict", {
        value: function() {
          return onceStrict(this);
        },
        configurable: true
      });
    });
    function once2(fn) {
      var f = function() {
        if (f.called)
          return f.value;
        f.called = true;
        return f.value = fn.apply(this, arguments);
      };
      f.called = false;
      return f;
    }
    function onceStrict(fn) {
      var f = function() {
        if (f.called)
          throw new Error(f.onceError);
        f.called = true;
        return f.value = fn.apply(this, arguments);
      };
      var name = fn.name || "Function wrapped with `once`";
      f.onceError = name + " shouldn't be called more than once";
      f.called = false;
      return f;
    }
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  IssueAppearance: () => IssueAppearance,
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian7 = require("obsidian");

// node_modules/universal-user-agent/dist-web/index.js
function getUserAgent() {
  if (typeof navigator === "object" && "userAgent" in navigator) {
    return navigator.userAgent;
  }
  if (typeof process === "object" && "version" in process) {
    return `Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`;
  }
  return "<environment undetectable>";
}

// node_modules/@octokit/core/dist-web/index.js
var import_before_after_hook = __toESM(require_before_after_hook());

// node_modules/is-plain-object/dist/is-plain-object.mjs
function isObject(o) {
  return Object.prototype.toString.call(o) === "[object Object]";
}
function isPlainObject(o) {
  var ctor, prot;
  if (isObject(o) === false)
    return false;
  ctor = o.constructor;
  if (ctor === void 0)
    return true;
  prot = ctor.prototype;
  if (isObject(prot) === false)
    return false;
  if (prot.hasOwnProperty("isPrototypeOf") === false) {
    return false;
  }
  return true;
}

// node_modules/@octokit/endpoint/dist-web/index.js
function lowercaseKeys(object) {
  if (!object) {
    return {};
  }
  return Object.keys(object).reduce((newObj, key) => {
    newObj[key.toLowerCase()] = object[key];
    return newObj;
  }, {});
}
function mergeDeep(defaults, options) {
  const result = Object.assign({}, defaults);
  Object.keys(options).forEach((key) => {
    if (isPlainObject(options[key])) {
      if (!(key in defaults))
        Object.assign(result, { [key]: options[key] });
      else
        result[key] = mergeDeep(defaults[key], options[key]);
    } else {
      Object.assign(result, { [key]: options[key] });
    }
  });
  return result;
}
function removeUndefinedProperties(obj) {
  for (const key in obj) {
    if (obj[key] === void 0) {
      delete obj[key];
    }
  }
  return obj;
}
function merge(defaults, route, options) {
  if (typeof route === "string") {
    let [method, url] = route.split(" ");
    options = Object.assign(url ? { method, url } : { url: method }, options);
  } else {
    options = Object.assign({}, route);
  }
  options.headers = lowercaseKeys(options.headers);
  removeUndefinedProperties(options);
  removeUndefinedProperties(options.headers);
  const mergedOptions = mergeDeep(defaults || {}, options);
  if (defaults && defaults.mediaType.previews.length) {
    mergedOptions.mediaType.previews = defaults.mediaType.previews.filter((preview) => !mergedOptions.mediaType.previews.includes(preview)).concat(mergedOptions.mediaType.previews);
  }
  mergedOptions.mediaType.previews = mergedOptions.mediaType.previews.map((preview) => preview.replace(/-preview/, ""));
  return mergedOptions;
}
function addQueryParameters(url, parameters) {
  const separator = /\?/.test(url) ? "&" : "?";
  const names = Object.keys(parameters);
  if (names.length === 0) {
    return url;
  }
  return url + separator + names.map((name) => {
    if (name === "q") {
      return "q=" + parameters.q.split("+").map(encodeURIComponent).join("+");
    }
    return `${name}=${encodeURIComponent(parameters[name])}`;
  }).join("&");
}
var urlVariableRegex = /\{[^}]+\}/g;
function removeNonChars(variableName) {
  return variableName.replace(/^\W+|\W+$/g, "").split(/,/);
}
function extractUrlVariableNames(url) {
  const matches = url.match(urlVariableRegex);
  if (!matches) {
    return [];
  }
  return matches.map(removeNonChars).reduce((a, b) => a.concat(b), []);
}
function omit(object, keysToOmit) {
  return Object.keys(object).filter((option) => !keysToOmit.includes(option)).reduce((obj, key) => {
    obj[key] = object[key];
    return obj;
  }, {});
}
function encodeReserved(str) {
  return str.split(/(%[0-9A-Fa-f]{2})/g).map(function(part) {
    if (!/%[0-9A-Fa-f]/.test(part)) {
      part = encodeURI(part).replace(/%5B/g, "[").replace(/%5D/g, "]");
    }
    return part;
  }).join("");
}
function encodeUnreserved(str) {
  return encodeURIComponent(str).replace(/[!'()*]/g, function(c) {
    return "%" + c.charCodeAt(0).toString(16).toUpperCase();
  });
}
function encodeValue(operator, value, key) {
  value = operator === "+" || operator === "#" ? encodeReserved(value) : encodeUnreserved(value);
  if (key) {
    return encodeUnreserved(key) + "=" + value;
  } else {
    return value;
  }
}
function isDefined(value) {
  return value !== void 0 && value !== null;
}
function isKeyOperator(operator) {
  return operator === ";" || operator === "&" || operator === "?";
}
function getValues(context, operator, key, modifier) {
  var value = context[key], result = [];
  if (isDefined(value) && value !== "") {
    if (typeof value === "string" || typeof value === "number" || typeof value === "boolean") {
      value = value.toString();
      if (modifier && modifier !== "*") {
        value = value.substring(0, parseInt(modifier, 10));
      }
      result.push(encodeValue(operator, value, isKeyOperator(operator) ? key : ""));
    } else {
      if (modifier === "*") {
        if (Array.isArray(value)) {
          value.filter(isDefined).forEach(function(value2) {
            result.push(encodeValue(operator, value2, isKeyOperator(operator) ? key : ""));
          });
        } else {
          Object.keys(value).forEach(function(k) {
            if (isDefined(value[k])) {
              result.push(encodeValue(operator, value[k], k));
            }
          });
        }
      } else {
        const tmp = [];
        if (Array.isArray(value)) {
          value.filter(isDefined).forEach(function(value2) {
            tmp.push(encodeValue(operator, value2));
          });
        } else {
          Object.keys(value).forEach(function(k) {
            if (isDefined(value[k])) {
              tmp.push(encodeUnreserved(k));
              tmp.push(encodeValue(operator, value[k].toString()));
            }
          });
        }
        if (isKeyOperator(operator)) {
          result.push(encodeUnreserved(key) + "=" + tmp.join(","));
        } else if (tmp.length !== 0) {
          result.push(tmp.join(","));
        }
      }
    }
  } else {
    if (operator === ";") {
      if (isDefined(value)) {
        result.push(encodeUnreserved(key));
      }
    } else if (value === "" && (operator === "&" || operator === "?")) {
      result.push(encodeUnreserved(key) + "=");
    } else if (value === "") {
      result.push("");
    }
  }
  return result;
}
function parseUrl(template) {
  return {
    expand: expand.bind(null, template)
  };
}
function expand(template, context) {
  var operators = ["+", "#", ".", "/", ";", "?", "&"];
  return template.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g, function(_, expression, literal) {
    if (expression) {
      let operator = "";
      const values = [];
      if (operators.indexOf(expression.charAt(0)) !== -1) {
        operator = expression.charAt(0);
        expression = expression.substr(1);
      }
      expression.split(/,/g).forEach(function(variable) {
        var tmp = /([^:\*]*)(?::(\d+)|(\*))?/.exec(variable);
        values.push(getValues(context, operator, tmp[1], tmp[2] || tmp[3]));
      });
      if (operator && operator !== "+") {
        var separator = ",";
        if (operator === "?") {
          separator = "&";
        } else if (operator !== "#") {
          separator = operator;
        }
        return (values.length !== 0 ? operator : "") + values.join(separator);
      } else {
        return values.join(",");
      }
    } else {
      return encodeReserved(literal);
    }
  });
}
function parse(options) {
  let method = options.method.toUpperCase();
  let url = (options.url || "/").replace(/:([a-z]\w+)/g, "{$1}");
  let headers = Object.assign({}, options.headers);
  let body;
  let parameters = omit(options, [
    "method",
    "baseUrl",
    "url",
    "headers",
    "request",
    "mediaType"
  ]);
  const urlVariableNames = extractUrlVariableNames(url);
  url = parseUrl(url).expand(parameters);
  if (!/^http/.test(url)) {
    url = options.baseUrl + url;
  }
  const omittedParameters = Object.keys(options).filter((option) => urlVariableNames.includes(option)).concat("baseUrl");
  const remainingParameters = omit(parameters, omittedParameters);
  const isBinaryRequest = /application\/octet-stream/i.test(headers.accept);
  if (!isBinaryRequest) {
    if (options.mediaType.format) {
      headers.accept = headers.accept.split(/,/).map((preview) => preview.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/, `application/vnd$1$2.${options.mediaType.format}`)).join(",");
    }
    if (options.mediaType.previews.length) {
      const previewsFromAcceptHeader = headers.accept.match(/[\w-]+(?=-preview)/g) || [];
      headers.accept = previewsFromAcceptHeader.concat(options.mediaType.previews).map((preview) => {
        const format = options.mediaType.format ? `.${options.mediaType.format}` : "+json";
        return `application/vnd.github.${preview}-preview${format}`;
      }).join(",");
    }
  }
  if (["GET", "HEAD"].includes(method)) {
    url = addQueryParameters(url, remainingParameters);
  } else {
    if ("data" in remainingParameters) {
      body = remainingParameters.data;
    } else {
      if (Object.keys(remainingParameters).length) {
        body = remainingParameters;
      }
    }
  }
  if (!headers["content-type"] && typeof body !== "undefined") {
    headers["content-type"] = "application/json; charset=utf-8";
  }
  if (["PATCH", "PUT"].includes(method) && typeof body === "undefined") {
    body = "";
  }
  return Object.assign({ method, url, headers }, typeof body !== "undefined" ? { body } : null, options.request ? { request: options.request } : null);
}
function endpointWithDefaults(defaults, route, options) {
  return parse(merge(defaults, route, options));
}
function withDefaults(oldDefaults, newDefaults) {
  const DEFAULTS2 = merge(oldDefaults, newDefaults);
  const endpoint2 = endpointWithDefaults.bind(null, DEFAULTS2);
  return Object.assign(endpoint2, {
    DEFAULTS: DEFAULTS2,
    defaults: withDefaults.bind(null, DEFAULTS2),
    merge: merge.bind(null, DEFAULTS2),
    parse
  });
}
var VERSION = "7.0.5";
var userAgent = `octokit-endpoint.js/${VERSION} ${getUserAgent()}`;
var DEFAULTS = {
  method: "GET",
  baseUrl: "https://api.github.com",
  headers: {
    accept: "application/vnd.github.v3+json",
    "user-agent": userAgent
  },
  mediaType: {
    format: "",
    previews: []
  }
};
var endpoint = withDefaults(null, DEFAULTS);

// node_modules/@octokit/request/dist-web/index.js
var import_node_fetch = __toESM(require_browser());

// node_modules/deprecation/dist-web/index.js
var Deprecation = class extends Error {
  constructor(message) {
    super(message);
    if (Error.captureStackTrace) {
      Error.captureStackTrace(this, this.constructor);
    }
    this.name = "Deprecation";
  }
};

// node_modules/@octokit/request-error/dist-web/index.js
var import_once = __toESM(require_once());
var logOnceCode = (0, import_once.default)((deprecation) => console.warn(deprecation));
var logOnceHeaders = (0, import_once.default)((deprecation) => console.warn(deprecation));
var RequestError = class extends Error {
  constructor(message, statusCode, options) {
    super(message);
    if (Error.captureStackTrace) {
      Error.captureStackTrace(this, this.constructor);
    }
    this.name = "HttpError";
    this.status = statusCode;
    let headers;
    if ("headers" in options && typeof options.headers !== "undefined") {
      headers = options.headers;
    }
    if ("response" in options) {
      this.response = options.response;
      headers = options.response.headers;
    }
    const requestCopy = Object.assign({}, options.request);
    if (options.request.headers.authorization) {
      requestCopy.headers = Object.assign({}, options.request.headers, {
        authorization: options.request.headers.authorization.replace(/ .*$/, " [REDACTED]")
      });
    }
    requestCopy.url = requestCopy.url.replace(/\bclient_secret=\w+/g, "client_secret=[REDACTED]").replace(/\baccess_token=\w+/g, "access_token=[REDACTED]");
    this.request = requestCopy;
    Object.defineProperty(this, "code", {
      get() {
        logOnceCode(new Deprecation("[@octokit/request-error] `error.code` is deprecated, use `error.status`."));
        return statusCode;
      }
    });
    Object.defineProperty(this, "headers", {
      get() {
        logOnceHeaders(new Deprecation("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`."));
        return headers || {};
      }
    });
  }
};

// node_modules/@octokit/request/dist-web/index.js
var VERSION2 = "6.2.5";
function getBufferResponse(response) {
  return response.arrayBuffer();
}
function fetchWrapper(requestOptions) {
  const log = requestOptions.request && requestOptions.request.log ? requestOptions.request.log : console;
  if (isPlainObject(requestOptions.body) || Array.isArray(requestOptions.body)) {
    requestOptions.body = JSON.stringify(requestOptions.body);
  }
  let headers = {};
  let status;
  let url;
  const fetch = requestOptions.request && requestOptions.request.fetch || globalThis.fetch || /* istanbul ignore next */
  import_node_fetch.default;
  return fetch(
    requestOptions.url,
    Object.assign(
      {
        method: requestOptions.method,
        body: requestOptions.body,
        headers: requestOptions.headers,
        redirect: requestOptions.redirect,
        // duplex must be set if request.body is ReadableStream or Async Iterables.
        // See https://fetch.spec.whatwg.org/#dom-requestinit-duplex.
        ...requestOptions.body && { duplex: "half" }
      },
      // `requestOptions.request.agent` type is incompatible
      // see https://github.com/octokit/types.ts/pull/264
      requestOptions.request
    )
  ).then(async (response) => {
    url = response.url;
    status = response.status;
    for (const keyAndValue of response.headers) {
      headers[keyAndValue[0]] = keyAndValue[1];
    }
    if ("deprecation" in headers) {
      const matches = headers.link && headers.link.match(/<([^>]+)>; rel="deprecation"/);
      const deprecationLink = matches && matches.pop();
      log.warn(
        `[@octokit/request] "${requestOptions.method} ${requestOptions.url}" is deprecated. It is scheduled to be removed on ${headers.sunset}${deprecationLink ? `. See ${deprecationLink}` : ""}`
      );
    }
    if (status === 204 || status === 205) {
      return;
    }
    if (requestOptions.method === "HEAD") {
      if (status < 400) {
        return;
      }
      throw new RequestError(response.statusText, status, {
        response: {
          url,
          status,
          headers,
          data: void 0
        },
        request: requestOptions
      });
    }
    if (status === 304) {
      throw new RequestError("Not modified", status, {
        response: {
          url,
          status,
          headers,
          data: await getResponseData(response)
        },
        request: requestOptions
      });
    }
    if (status >= 400) {
      const data = await getResponseData(response);
      const error = new RequestError(toErrorMessage(data), status, {
        response: {
          url,
          status,
          headers,
          data
        },
        request: requestOptions
      });
      throw error;
    }
    return getResponseData(response);
  }).then((data) => {
    return {
      status,
      url,
      headers,
      data
    };
  }).catch((error) => {
    if (error instanceof RequestError)
      throw error;
    else if (error.name === "AbortError")
      throw error;
    throw new RequestError(error.message, 500, {
      request: requestOptions
    });
  });
}
async function getResponseData(response) {
  const contentType = response.headers.get("content-type");
  if (/application\/json/.test(contentType)) {
    return response.json();
  }
  if (!contentType || /^text\/|charset=utf-8$/.test(contentType)) {
    return response.text();
  }
  return getBufferResponse(response);
}
function toErrorMessage(data) {
  if (typeof data === "string")
    return data;
  if ("message" in data) {
    if (Array.isArray(data.errors)) {
      return `${data.message}: ${data.errors.map(JSON.stringify).join(", ")}`;
    }
    return data.message;
  }
  return `Unknown error: ${JSON.stringify(data)}`;
}
function withDefaults2(oldEndpoint, newDefaults) {
  const endpoint2 = oldEndpoint.defaults(newDefaults);
  const newApi = function(route, parameters) {
    const endpointOptions = endpoint2.merge(route, parameters);
    if (!endpointOptions.request || !endpointOptions.request.hook) {
      return fetchWrapper(endpoint2.parse(endpointOptions));
    }
    const request2 = (route2, parameters2) => {
      return fetchWrapper(
        endpoint2.parse(endpoint2.merge(route2, parameters2))
      );
    };
    Object.assign(request2, {
      endpoint: endpoint2,
      defaults: withDefaults2.bind(null, endpoint2)
    });
    return endpointOptions.request.hook(request2, endpointOptions);
  };
  return Object.assign(newApi, {
    endpoint: endpoint2,
    defaults: withDefaults2.bind(null, endpoint2)
  });
}
var request = withDefaults2(endpoint, {
  headers: {
    "user-agent": `octokit-request.js/${VERSION2} ${getUserAgent()}`
  }
});

// node_modules/@octokit/graphql/dist-web/index.js
var VERSION3 = "5.0.6";
function _buildMessageForResponseErrors(data) {
  return `Request failed due to following response errors:
` + data.errors.map((e) => ` - ${e.message}`).join("\n");
}
var GraphqlResponseError = class extends Error {
  constructor(request2, headers, response) {
    super(_buildMessageForResponseErrors(response));
    this.request = request2;
    this.headers = headers;
    this.response = response;
    this.name = "GraphqlResponseError";
    this.errors = response.errors;
    this.data = response.data;
    if (Error.captureStackTrace) {
      Error.captureStackTrace(this, this.constructor);
    }
  }
};
var NON_VARIABLE_OPTIONS = [
  "method",
  "baseUrl",
  "url",
  "headers",
  "request",
  "query",
  "mediaType"
];
var FORBIDDEN_VARIABLE_OPTIONS = ["query", "method", "url"];
var GHES_V3_SUFFIX_REGEX = /\/api\/v3\/?$/;
function graphql(request2, query, options) {
  if (options) {
    if (typeof query === "string" && "query" in options) {
      return Promise.reject(
        new Error(`[@octokit/graphql] "query" cannot be used as variable name`)
      );
    }
    for (const key in options) {
      if (!FORBIDDEN_VARIABLE_OPTIONS.includes(key))
        continue;
      return Promise.reject(
        new Error(`[@octokit/graphql] "${key}" cannot be used as variable name`)
      );
    }
  }
  const parsedOptions = typeof query === "string" ? Object.assign({ query }, options) : query;
  const requestOptions = Object.keys(
    parsedOptions
  ).reduce((result, key) => {
    if (NON_VARIABLE_OPTIONS.includes(key)) {
      result[key] = parsedOptions[key];
      return result;
    }
    if (!result.variables) {
      result.variables = {};
    }
    result.variables[key] = parsedOptions[key];
    return result;
  }, {});
  const baseUrl = parsedOptions.baseUrl || request2.endpoint.DEFAULTS.baseUrl;
  if (GHES_V3_SUFFIX_REGEX.test(baseUrl)) {
    requestOptions.url = baseUrl.replace(GHES_V3_SUFFIX_REGEX, "/api/graphql");
  }
  return request2(requestOptions).then((response) => {
    if (response.data.errors) {
      const headers = {};
      for (const key of Object.keys(response.headers)) {
        headers[key] = response.headers[key];
      }
      throw new GraphqlResponseError(
        requestOptions,
        headers,
        response.data
      );
    }
    return response.data.data;
  });
}
function withDefaults3(request2, newDefaults) {
  const newRequest = request2.defaults(newDefaults);
  const newApi = (query, options) => {
    return graphql(newRequest, query, options);
  };
  return Object.assign(newApi, {
    defaults: withDefaults3.bind(null, newRequest),
    endpoint: newRequest.endpoint
  });
}
var graphql2 = withDefaults3(request, {
  headers: {
    "user-agent": `octokit-graphql.js/${VERSION3} ${getUserAgent()}`
  },
  method: "POST",
  url: "/graphql"
});
function withCustomRequest(customRequest) {
  return withDefaults3(customRequest, {
    method: "POST",
    url: "/graphql"
  });
}

// node_modules/@octokit/auth-token/dist-web/index.js
var REGEX_IS_INSTALLATION_LEGACY = /^v1\./;
var REGEX_IS_INSTALLATION = /^ghs_/;
var REGEX_IS_USER_TO_SERVER = /^ghu_/;
async function auth(token) {
  const isApp = token.split(/\./).length === 3;
  const isInstallation = REGEX_IS_INSTALLATION_LEGACY.test(token) || REGEX_IS_INSTALLATION.test(token);
  const isUserToServer = REGEX_IS_USER_TO_SERVER.test(token);
  const tokenType = isApp ? "app" : isInstallation ? "installation" : isUserToServer ? "user-to-server" : "oauth";
  return {
    type: "token",
    token,
    tokenType
  };
}
function withAuthorizationPrefix(token) {
  if (token.split(/\./).length === 3) {
    return `bearer ${token}`;
  }
  return `token ${token}`;
}
async function hook(token, request2, route, parameters) {
  const endpoint2 = request2.endpoint.merge(route, parameters);
  endpoint2.headers.authorization = withAuthorizationPrefix(token);
  return request2(endpoint2);
}
var createTokenAuth = function createTokenAuth2(token) {
  if (!token) {
    throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");
  }
  if (typeof token !== "string") {
    throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");
  }
  token = token.replace(/^(token|bearer) +/i, "");
  return Object.assign(auth.bind(null, token), {
    hook: hook.bind(null, token)
  });
};

// node_modules/@octokit/core/dist-web/index.js
var VERSION4 = "4.2.1";
var Octokit = class {
  static defaults(defaults) {
    const OctokitWithDefaults = class extends this {
      constructor(...args) {
        const options = args[0] || {};
        if (typeof defaults === "function") {
          super(defaults(options));
          return;
        }
        super(
          Object.assign(
            {},
            defaults,
            options,
            options.userAgent && defaults.userAgent ? {
              userAgent: `${options.userAgent} ${defaults.userAgent}`
            } : null
          )
        );
      }
    };
    return OctokitWithDefaults;
  }
  /**
   * Attach a plugin (or many) to your Octokit instance.
   *
   * @example
   * const API = Octokit.plugin(plugin1, plugin2, plugin3, ...)
   */
  static plugin(...newPlugins) {
    var _a;
    const currentPlugins = this.plugins;
    const NewOctokit = (_a = class extends this {
    }, _a.plugins = currentPlugins.concat(
      newPlugins.filter((plugin) => !currentPlugins.includes(plugin))
    ), _a);
    return NewOctokit;
  }
  constructor(options = {}) {
    const hook2 = new import_before_after_hook.Collection();
    const requestDefaults = {
      baseUrl: request.endpoint.DEFAULTS.baseUrl,
      headers: {},
      request: Object.assign({}, options.request, {
        // @ts-ignore internal usage only, no need to type
        hook: hook2.bind(null, "request")
      }),
      mediaType: {
        previews: [],
        format: ""
      }
    };
    requestDefaults.headers["user-agent"] = [
      options.userAgent,
      `octokit-core.js/${VERSION4} ${getUserAgent()}`
    ].filter(Boolean).join(" ");
    if (options.baseUrl) {
      requestDefaults.baseUrl = options.baseUrl;
    }
    if (options.previews) {
      requestDefaults.mediaType.previews = options.previews;
    }
    if (options.timeZone) {
      requestDefaults.headers["time-zone"] = options.timeZone;
    }
    this.request = request.defaults(requestDefaults);
    this.graphql = withCustomRequest(this.request).defaults(requestDefaults);
    this.log = Object.assign(
      {
        debug: () => {
        },
        info: () => {
        },
        warn: console.warn.bind(console),
        error: console.error.bind(console)
      },
      options.log
    );
    this.hook = hook2;
    if (!options.authStrategy) {
      if (!options.auth) {
        this.auth = async () => ({
          type: "unauthenticated"
        });
      } else {
        const auth2 = createTokenAuth(options.auth);
        hook2.wrap("request", auth2.hook);
        this.auth = auth2;
      }
    } else {
      const { authStrategy, ...otherOptions } = options;
      const auth2 = authStrategy(
        Object.assign(
          {
            request: this.request,
            log: this.log,
            // we pass the current octokit instance as well as its constructor options
            // to allow for authentication strategies that return a new octokit instance
            // that shares the same internal state as the current one. The original
            // requirement for this was the "event-octokit" authentication strategy
            // of https://github.com/probot/octokit-auth-probot.
            octokit: this,
            octokitOptions: otherOptions
          },
          options.auth
        )
      );
      hook2.wrap("request", auth2.hook);
      this.auth = auth2;
    }
    const classConstructor = this.constructor;
    classConstructor.plugins.forEach((plugin) => {
      Object.assign(this, plugin(this, options));
    });
  }
};
Octokit.VERSION = VERSION4;
Octokit.plugins = [];

// src/Issues/Issue.ts
var Issue = class {
  constructor(title, description, author, number, created_at, labels, repo) {
    this.labels = [];
    this.title = title;
    this.description = description;
    this.author = author;
    this.number = number;
    this.created_at = created_at;
    this.repo = repo;
    this.labels = labels;
  }
};

// src/Utils/Utils.ts
function calculateHumanDate(dateString) {
  const date = new Date(dateString);
  return date.toLocaleDateString(void 0);
}
function parseRepoUrl(url) {
  const split = url.split("/");
  return {
    owner: split[3],
    repo: split[4].replace(".git", "")
  };
}
function verifyURL(url) {
  try {
    new URL(url);
    return true;
  } catch (_) {
    return false;
  }
}
function getPasteableTimeDelta(dateString) {
  const date = new Date(dateString);
  const now = new Date();
  const delta = now.getTime() - date.getTime();
  const seconds = Math.floor(delta / 1e3);
  const minutes = Math.floor(seconds / 60);
  const hours = Math.floor(minutes / 60);
  const days = Math.floor(hours / 24);
  const weeks = Math.floor(days / 7);
  if (weeks > 0) {
    return "on " + date.toLocaleDateString(void 0);
  } else if (days > 0) {
    return `${days} days ago`;
  } else if (hours > 0) {
    return `${hours} hours ago`;
  } else if (minutes > 0) {
    return `${minutes} minutes ago`;
  } else {
    return `${seconds} seconds ago`;
  }
}

// src/API/ApiHandler.ts
var import_obsidian = require("obsidian");
async function api_authenticate(token) {
  const octokit = new Octokit({
    auth: token
  });
  const res = await octokit.request("GET /octocat", {});
  console.log(res);
  if (res.status === 200) {
    return octokit;
  } else {
    return null;
  }
}
async function api_get_repos(octokit) {
  const res = await octokit.request("GET /user/repos", {
    headers: {
      "X-GitHub-Api-Version": "2022-11-28"
    }
  });
  console.log(res.data);
  return res.data.map(
    (repo) => {
      return {
        id: repo.id,
        name: repo.name,
        language: repo.language,
        updated_at: repo.updated_at,
        owner: repo.owner.login
      };
    }
  );
}
async function api_get_labels(octokit, repo) {
  const res = await octokit.request("GET /repos/{owner}/{repo}/labels", {
    owner: repo.owner,
    repo: repo.name,
    headers: {
      "X-GitHub-Api-Version": "2022-11-28"
    }
  });
  if (res.status == 200) {
    return res.data.map((label) => {
      return {
        name: label.name,
        color: label.color
      };
    });
  } else {
    return [];
  }
}
async function api_submit_issue(octokit, repo, issue) {
  const res = await octokit.request("POST /repos/{owner}/{repo}/issues", {
    owner: repo.owner,
    repo: repo.name,
    title: issue.title,
    body: issue.description,
    assignees: [
      repo.owner
    ],
    labels: issue.labels,
    headers: {
      "X-GitHub-Api-Version": "2022-11-28"
    }
  });
  return res.status == 201;
}
async function api_get_issues_by_url(octokit, url) {
  var _a, _b, _c;
  const { owner, repo } = parseRepoUrl(url);
  const issues = [];
  try {
    const res = await octokit.request("GET /repos/{owner}/{repo}/issues", {
      owner,
      repo,
      headers: {
        "X-GitHub-Api-Version": "2022-11-28"
      }
    });
    if (res.status == 200) {
      for (const issue of res.data) {
        issues.push(new Issue(
          issue.title,
          (_a = issue.body) != null ? _a : "",
          (_c = (_b = issue.user) == null ? void 0 : _b.login) != null ? _c : "",
          issue.number,
          issue.created_at,
          issue.labels.map((label) => {
            return {
              name: label.name,
              color: label.color
            };
          })
        ));
      }
      return issues;
    } else {
      return [];
    }
  } catch (e) {
    new import_obsidian.Notice("Error while fetching issues: " + e.message);
    return [];
  }
}
async function api_get_own_issues(octokit, repo) {
  var _a, _b, _c;
  const issues = [];
  const res = await octokit.request("GET /repos/{owner}/{repo}/issues", {
    owner: repo.owner,
    repo: repo.name,
    headers: {
      "X-GitHub-Api-Version": "2022-11-28"
    }
  });
  if (res.status == 200) {
    for (const issue of res.data) {
      issues.push(new Issue(
        issue.title,
        (_a = issue.body) != null ? _a : "",
        (_c = (_b = issue.user) == null ? void 0 : _b.login) != null ? _c : "",
        issue.number,
        issue.created_at,
        issue.labels.map((label) => {
          return {
            name: label.name,
            color: label.color
          };
        }),
        repo
      ));
    }
    return issues;
  } else {
    return [];
  }
}
async function api_get_issues_by_id(octokit, repo, issueIDs) {
  const iss = await api_get_own_issues(octokit, repo);
  return iss.filter((issue) => issueIDs.includes(issue.number));
}
async function api_get_issue_details(octokit, issue) {
  var _a, _b, _c, _d;
  if (issue.repo == null)
    return;
  const res = await octokit.request("GET /repos/{owner}/{repo}/issues/{issue_number}", {
    owner: (_a = issue.repo) == null ? void 0 : _a.owner,
    repo: (_b = issue.repo) == null ? void 0 : _b.name,
    issue_number: issue.number,
    headers: {
      "X-GitHub-Api-Version": "2022-11-28"
    }
  });
  if (res.status == 200) {
    return {
      title: res.data.title,
      body: res.data.body,
      labels: res.data.labels.map((label) => {
        var _a2, _b2;
        return {
          name: (_a2 = label.name) != null ? _a2 : "",
          color: (_b2 = label.color) != null ? _b2 : ""
        };
      }),
      state: res.data.state,
      updated_at: res.data.updated_at,
      assignee: {
        avatar_url: (_c = res.data.assignee) == null ? void 0 : _c.avatar_url,
        login: (_d = res.data.assignee) == null ? void 0 : _d.login
      },
      comments: res.data.comments
    };
  } else {
    return null;
  }
}
async function api_comment_on_issue(octokit, issue, comment) {
  var _a, _b;
  if (issue.repo == null)
    return;
  const res = await octokit.request("POST /repos/{owner}/{repo}/issues/{issue_number}/comments", {
    owner: (_a = issue.repo) == null ? void 0 : _a.owner,
    repo: (_b = issue.repo) == null ? void 0 : _b.name,
    issue_number: issue.number,
    body: comment,
    headers: {
      "X-GitHub-Api-Version": "2022-11-28"
    }
  });
  return res.status == 201;
}
async function api_update_issue(octokit, issue, toBeUpdated) {
  var _a, _b;
  if (issue.repo == null)
    return;
  const options = {
    owner: (_a = issue.repo) == null ? void 0 : _a.owner,
    repo: (_b = issue.repo) == null ? void 0 : _b.name,
    issue_number: issue.number,
    headers: {
      "X-GitHub-Api-Version": "2022-11-28"
    }
  };
  Object.assign(options, toBeUpdated);
  const res = await octokit.request("PATCH /repos/{owner}/{repo}/issues/{issue_number}", options);
  return res.status == 200;
}
async function api_get_issue_comments(octokit, issue) {
  var _a, _b;
  if (issue.repo == null)
    return;
  const res = await octokit.request("GET /repos/{owner}/{repo}/issues/{issue_number}/comments", {
    owner: (_a = issue.repo) == null ? void 0 : _a.owner,
    repo: (_b = issue.repo) == null ? void 0 : _b.name,
    issue_number: issue.number,
    headers: {
      "X-GitHub-Api-Version": "2022-11-28"
    }
  });
  if (res.status == 200) {
    return res.data.map((comment) => {
      var _a2, _b2;
      return {
        body: comment.body,
        login: ((_a2 = comment.user) == null ? void 0 : _a2.login) || "",
        avatar_url: ((_b2 = comment.user) == null ? void 0 : _b2.avatar_url) || "",
        created_at: comment.created_at,
        update_at: comment.updated_at,
        author_association: comment.author_association
      };
    });
  } else {
    return [];
  }
}

// src/Elements/Modals/IssuesModal.ts
var import_obsidian3 = require("obsidian");

// src/Utils/Loader.ts
var loadingSpinner = () => {
  const spinner = document.createElement("div");
  spinner.style.border = "4px solid var(--background-secondary)";
  spinner.style.borderTop = "3px solid var(--interactive-accent)";
  spinner.style.borderRadius = "50%";
  spinner.style.width = "30px";
  spinner.style.height = "30px";
  spinner.style.animation = "spin 1s linear infinite";
  spinner.style.margin = "auto";
  spinner.style.marginTop = "12.5px";
  spinner.style.marginBottom = "12.5ypx";
  const spin = document.createElement("style");
  spin.type = "text/css";
  spin.innerHTML = `
		@keyframes spin {
			0% { transform: rotate(0deg); }
			100% { transform: rotate(360deg); }
		}
	`;
  spinner.appendChild(spin);
  return spinner;
};

// src/Issues/Issues.shared.ts
var import_obsidian2 = require("obsidian");
function pasteRepoName(app2, arg) {
  const view = app2.workspace.getActiveViewOfType(import_obsidian2.MarkdownView);
  if (view) {
    const editor = view.editor;
    editor.replaceSelection("```github-issues\n");
    editor.replaceSelection(parseArgToAuthorAndRepoName(arg) + "\n");
    editor.replaceSelection("```\n");
    return true;
  } else {
    return false;
  }
}
function parseArgToAuthorAndRepoName(arg) {
  if (typeof arg === "string") {
    const url = new URL(arg);
    return `${url.pathname.substring(1)}`.replace(".git", "");
  } else {
    return `${arg.owner}/${arg.name}`;
  }
}
function parseIssuesToEmbed(string) {
  const regex = /#\d+([,-]\d+)*/g;
  const resultArray = [];
  const matchArray = string.match(regex);
  if (matchArray !== null) {
    for (const match of matchArray) {
      const issueNums = match.replace("#", "").split(",");
      for (const num of issueNums) {
        if (num.includes("-")) {
          const [start, end] = num.split("-").map(Number);
          for (let i = start; i <= end; i++) {
            if (!resultArray.includes(i)) {
              resultArray.push(i);
            }
          }
        } else {
          const issue = Number(num);
          if (!resultArray.includes(issue)) {
            resultArray.push(issue);
          }
        }
      }
    }
  }
  return resultArray;
}

// src/Elements/Modals/IssuesModal.ts
var IssuesModal = class extends import_obsidian3.Modal {
  constructor(app2, octobundle) {
    super(app2);
    this.octobundle = octobundle;
  }
  async onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h2", { text: "Insert from URL" });
    const urlInput = this.contentEl.createEl("input");
    urlInput.setAttribute("type", "text");
    urlInput.setAttribute("placeholder", "https://github.com/Frostplexx/obsidian-github-issues.git");
    urlInput.classList.add("issues-url-input");
    const urlButton = this.contentEl.createEl("button", { text: "Insert" });
    urlButton.classList.add("issues-url-button");
    urlButton.addEventListener("click", () => {
      pasteRepoName(this.app, urlInput.value);
      this.close();
    });
    contentEl.createEl("h2", { text: "Your Repositories" });
    const searchInput = contentEl.createEl("input");
    searchInput.setAttribute("type", "text");
    searchInput.setAttribute("placeholder", "Search...");
    searchInput.classList.add("issues-search-input");
    searchInput.addEventListener("input", () => {
      const listEl = contentEl.querySelector("ul");
      if (listEl) {
        const items = listEl.querySelectorAll("li");
        for (const item of items) {
          if (item.textContent.toLowerCase().includes(searchInput.value.toLowerCase())) {
            item.style.display = "block";
          } else {
            item.style.display = "none";
          }
        }
      }
    });
    const loadingEl = loadingSpinner();
    contentEl.appendChild(loadingEl);
    api_get_repos(this.octobundle.octokit).then((repos) => {
      loadingEl.remove();
      const listEl = contentEl.createEl("ul");
      listEl.addClass("nav");
      listEl.addClass("nav-list");
      for (const repo of repos) {
        const itemEl = repoItem(repo);
        itemEl.addEventListener("click", () => {
          pasteRepoName(this.app, repo);
          this.close();
        });
        listEl.appendChild(itemEl);
      }
    });
  }
  onClose() {
    const { contentEl } = this;
    contentEl.empty();
  }
};
var repoItem = (repo) => {
  const opacity = "0.7";
  const itemEl = document.createElement("li");
  itemEl.addClass("nav-item");
  itemEl.addClass("nav-link");
  const containter = document.createElement("div");
  containter.classList.add("issues-modal-container");
  containter.style.opacity = opacity;
  itemEl.appendChild(containter);
  const itemTitle = document.createElement("span");
  itemTitle.classList.add("issues-modal-item-title");
  itemTitle.style.opacity = opacity;
  itemTitle.innerText = repo.name;
  containter.appendChild(itemTitle);
  const itemSubtitle = document.createElement("span");
  itemSubtitle.classList.add("issues-item-subtitle");
  itemSubtitle.style.opacity = opacity;
  itemSubtitle.innerText = `${repo.language} \u2022 Updated on ${calculateHumanDate(repo.updated_at)}`;
  containter.appendChild(itemSubtitle);
  itemEl.addEventListener("mouseenter", () => {
    itemTitle.style.opacity = "1";
    containter.style.opacity = "1";
  });
  itemEl.addEventListener("mouseleave", () => {
    itemTitle.style.opacity = opacity;
    containter.style.opacity = opacity;
  });
  return itemEl;
};

// src/Issues/IssueUpdater.ts
var import_obsidian4 = require("obsidian");
async function updateIssues(app2, octokit) {
  let repo = getRepoInFile(app2);
  let view = app2.workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
  if (!checkEditor(view, repo))
    return;
  repo = repo;
  view = view;
  const editor = view.editor;
  const url = "https://github.com/" + repo.name + "/" + repo.repo + ".git";
  if (!verifyURL(url)) {
    new import_obsidian4.Notice("Error building url: " + url);
    return;
  }
  const issues = await fetchIssues(octokit, url);
  if (issues) {
    insertIssues(editor, repo, view, url, issues);
  }
}
function insertIssues(editor, repo, view, url, issues) {
  editor.replaceRange("", { line: repo.start_line, ch: 0 }, { line: repo.end_line + 2, ch: 0 });
  editor.setCursor({ line: repo.start_line, ch: 0 });
  const pasted = pasteRepoName(view, url, issues);
  if (pasted) {
    new import_obsidian4.Notice("Updated issues");
  } else {
    new import_obsidian4.Notice("Some error occurred while pasting the issues");
  }
}
function checkEditor(view, repo) {
  if (!view) {
    new import_obsidian4.Notice("No active view");
    return false;
  }
  if (view.getMode() !== "source") {
    new import_obsidian4.Notice("Please switch to source mode before updating the issues");
    return false;
  }
  if (!repo) {
    new import_obsidian4.Notice("No repo found in file");
    return false;
  }
  return true;
}
async function fetchIssues(octokit, url) {
  const issues = await api_get_issues_by_url(octokit, url);
  if (issues.length === 0) {
    return null;
  }
  return issues;
}
function getRepoInFile(app2) {
  const view = app2.workspace.getActiveViewOfType(import_obsidian4.MarkdownView);
  if (view) {
    const editor = view.editor;
    let start_line = 0;
    let end_line = 0;
    for (let i = 0; i < editor.lineCount(); i++) {
      const line = editor.getLine(i);
      console.log(line);
      if (line.includes("```github-issues")) {
        start_line = i;
      }
      if (line.includes("```")) {
        end_line = i;
      }
    }
    console.log(start_line);
    console.log(end_line);
    const start_line_text = editor.getLine(start_line + 1);
    const name_and_repo_split = start_line_text.split("/");
    const name = name_and_repo_split[0];
    const repo = name_and_repo_split[1];
    console.log(name);
    console.log(repo);
    if (repo != void 0) {
      return {
        name,
        repo,
        start_line,
        end_line
      };
    } else {
      return null;
    }
  }
  return null;
}

// src/Elements/Modals/NewIssueModal.ts
var import_obsidian5 = require("obsidian");
var NewIssueModal = class extends import_obsidian5.Modal {
  constructor(app2, ocotoBundle) {
    super(app2);
    this.ocotoBundle = ocotoBundle;
  }
  async onOpen() {
    const repo = () => {
      const repo2 = getRepoInFile(this.app);
      if (!repo2)
        return null;
      return {
        name: repo2.repo,
        owner: repo2.name
      };
    };
    if (repo()) {
      const { contentEl } = this;
      contentEl.createEl("h2", { text: "New Issue in: " + repo().owner + "/" + repo().name });
      const spinner = loadingSpinner();
      contentEl.appendChild(spinner);
      const labels = (await api_get_labels(this.ocotoBundle.octokit, repo())).map((label) => label.name);
      spinner.remove();
      const titleInput = contentEl.createEl("input");
      titleInput.setAttribute("type", "text");
      titleInput.setAttribute("placeholder", "Title");
      titleInput.style.width = "100%";
      titleInput.style.padding = "5px";
      titleInput.style.marginBottom = "10px";
      const descriptionInput = contentEl.createEl("textarea");
      descriptionInput.setAttribute("type", "text");
      descriptionInput.setAttribute("placeholder", "Description");
      descriptionInput.style.width = "100%";
      descriptionInput.style.maxWidth = "100%";
      descriptionInput.style.minWidth = "100%";
      descriptionInput.style.padding = "5px";
      descriptionInput.style.marginBottom = "10px";
      descriptionInput.style.height = "100px";
      descriptionInput.style.maxHeight = "500px";
      descriptionInput.style.fontFamily = "monospace";
      descriptionInput.style.fontSize = "12px";
      const selectedLabels = contentEl.createEl("div");
      selectedLabels.style.display = "flex";
      selectedLabels.style.flexWrap = "wrap";
      const labelDropdown = contentEl.createEl("select");
      labelDropdown.style.width = "100%";
      labelDropdown.style.padding = "5px";
      labelDropdown.style.marginBottom = "10px";
      labelDropdown.style.height = "30px";
      labelDropdown.style.maxHeight = "30px";
      labelDropdown.style.maxWidth = "100%";
      labelDropdown.style.fontSize = "12px";
      labelDropdown.style.borderRadius = "5px";
      labelDropdown.createEl("option", {
        value: "Select Labels",
        text: "Select Labels"
      });
      for (const label of labels) {
        const option = labelDropdown.createEl("option");
        option.setAttribute("value", label);
        option.text = label;
      }
      let elements = [];
      labelDropdown.addEventListener("change", () => {
        const value = labelDropdown.value;
        labelDropdown.value = "Select Labels";
        const tag = selectedLabels.createEl("div");
        tag.style.display = "flex";
        tag.style.alignItems = "center";
        tag.style.justifyContent = "center";
        tag.style.padding = "5px";
        tag.style.margin = "5px";
        tag.style.marginBottom = "10px";
        tag.style.borderRadius = "5px";
        tag.style.backgroundColor = "var(--background-modifier-form-field)";
        tag.createEl("span", { text: value });
        const removeButton = tag.createEl("button");
        removeButton.style.backgroundColor = "inherit";
        removeButton.style.border = "none";
        removeButton.style.outline = "none";
        removeButton.style.boxShadow = "none";
        removeButton.style.padding = "0";
        removeButton.style.margin = "0";
        (0, import_obsidian5.setIcon)(removeButton, "x");
        removeButton.onclick = () => {
          selectedLabels.removeChild(tag);
          elements = elements.filter((e) => e !== value);
          labelDropdown.childNodes.forEach((node) => {
            if (node instanceof HTMLOptionElement) {
              if (node.value === value) {
                node.disabled = false;
              }
            }
          });
        };
        removeButton.style.marginLeft = "5px";
        elements.push(value);
        labelDropdown.childNodes.forEach((node) => {
          if (node instanceof HTMLOptionElement) {
            if (node.value === value) {
              node.disabled = true;
            }
          }
        });
      });
      const submitButton = contentEl.createEl("button", { text: "Submit" });
      submitButton.addEventListener("click", async () => {
        const submitted = await api_submit_issue(this.ocotoBundle.octokit, repo(), {
          labels: elements,
          title: titleInput.value,
          description: descriptionInput.value
        });
        if (submitted) {
          new import_obsidian5.Notice("Submitted Issue");
          this.close();
          await updateIssues(this.app, this.ocotoBundle.octokit);
        } else {
          new import_obsidian5.Notice("Failed to submit issue");
        }
      });
    } else {
      new import_obsidian5.Notice("You are not in a GitHub repo");
      this.close();
    }
  }
};

// src/Elements/Modals/IssuesDetailsModal.ts
var import_obsidian6 = require("obsidian");

// src/Utils/Color.utils.ts
function getTextColor(hexColor) {
  if (hexColor == void 0)
    return "#000000";
  const color = hexColor.contains("#") ? hexColor.replace("#", "") : hexColor;
  const r = parseInt(color.substring(0, 2), 16);
  const g = parseInt(color.substring(2, 4), 16);
  const b = parseInt(color.substring(4, 6), 16);
  const yiq = (r * 299 + g * 587 + b * 114) / 1e3;
  return yiq >= 128 ? "#000000" : "#ffffff";
}

// src/Elements/Modals/IssuesDetailsModal.ts
var IssuesDetailsModal = class extends import_obsidian6.Modal {
  constructor(app2, issue, octokit) {
    super(app2);
    this.issue = issue;
    this.octokit = octokit;
  }
  async onOpen() {
    var _a, _b;
    const { contentEl } = this;
    const title = contentEl.createEl("h2", { text: this.issue.title + " \u2022 #" + this.issue.number });
    title.style.margin = "0";
    const authorAndSutff = contentEl.createSpan({
      text: `Created by ${this.issue.author} ${getPasteableTimeDelta(this.issue.created_at)}`
    });
    authorAndSutff.classList.add("issues-auhtor");
    contentEl.createEl("br");
    const issueLink = contentEl.createEl("a", { text: "View on GitHub" });
    issueLink.setAttribute("href", "https://github.com/" + ((_a = this.issue.repo) == null ? void 0 : _a.owner) + "/" + ((_b = this.issue.repo) == null ? void 0 : _b.name) + "/issues/" + this.issue.number);
    issueLink.classList.add("issue-link");
    const spinner = loadingSpinner();
    contentEl.appendChild(spinner);
    const details = await api_get_issue_details(this.octokit, this.issue);
    spinner.remove();
    if (!details) {
      contentEl.createEl("h3", { text: "Could not fetch issue details" });
      return;
    }
    const stateAndLabelsContainer = contentEl.createDiv();
    stateAndLabelsContainer.classList.add("issues-state-and-label-container");
    const statePill = stateAndLabelsContainer.createDiv();
    statePill.classList.add("issues-state-pill");
    if ((details == null ? void 0 : details.state) === "open") {
      statePill.style.backgroundColor = "rgba(31, 118, 41, 0.5)";
    } else {
      statePill.style.backgroundColor = "rgba(116, 58, 222, 0.5)";
    }
    const state = statePill.createEl("span", { text: details == null ? void 0 : details.state });
    state.classList.add("issues-state");
    const labels = stateAndLabelsContainer.createDiv();
    labels.classList.add("issues-labels");
    if ((details == null ? void 0 : details.labels.length) > 0) {
      for (const label of details == null ? void 0 : details.labels) {
        const labelPill = labels.createDiv();
        labelPill.classList.add("issues-label-pill");
        labelPill.style.background = "#" + label.color;
        const labelName = labelPill.createEl("span", { text: label.name });
        labelName.classList.add("issues-label-name");
        labelName.style.color = getTextColor(label.color);
      }
    }
    if (details.assignee.login != void 0) {
      const assigneeContainer = contentEl.createDiv();
      assigneeContainer.classList.add("issues-asignee-container");
      const assigneeIcon = assigneeContainer.createEl("img");
      assigneeIcon.classList.add("issues-assignee-icon");
      assigneeIcon.src = details == null ? void 0 : details.assignee.avatar_url;
      const assignee = assigneeContainer.createSpan({
        text: `Assigned to ${details == null ? void 0 : details.assignee.login}`
      });
      assignee.classList.add("issues-assignee");
    }
    const bodyContainer = contentEl.createDiv();
    bodyContainer.classList.add("issues-body-container");
    const containerTitle = bodyContainer.createEl("h3", { text: "Description" });
    containerTitle.classList.add("issues-container-title");
    const body = bodyContainer.createDiv();
    body.classList.add("issues-body");
    body.innerText = details == null ? void 0 : details.body;
    const spinner2 = loadingSpinner();
    contentEl.appendChild(spinner2);
    const comments = await api_get_issue_comments(this.octokit, this.issue);
    spinner2.remove();
    if (!comments) {
      contentEl.createEl("h3", { text: "Could not fetch comments" });
      return;
    }
    if (comments.length > 0) {
      contentEl.createEl("h3", { text: "Comments" });
    }
    comments.forEach((comment) => {
      const commentsContainer = contentEl.createDiv();
      commentsContainer.classList.add("issues-comments-container");
      const authorContainer = commentsContainer.createDiv();
      authorContainer.classList.add("issues-author-container");
      const authorIcon = authorContainer.createEl("img");
      authorIcon.classList.add("issues-author-icon");
      authorIcon.src = comment == null ? void 0 : comment.avatar_url;
      const authorName = authorContainer.createEl("span", { text: comment == null ? void 0 : comment.login });
      authorName.classList.add("issues-author-name");
      const commentBody = commentsContainer.createDiv();
      commentBody.classList.add("issues-comment-body");
      const commentText = commentBody.createEl("span", { text: comment == null ? void 0 : comment.body });
      commentText.classList.add("issues-comment-text");
    });
    const commentsInput = contentEl.createEl("textarea");
    commentsInput.classList.add("issues-comments-input");
    const commentsInputLabel = contentEl.createEl("label", { text: "Write a comment" });
    commentsInputLabel.classList.add("issues-comments-input-label");
    commentsInputLabel.htmlFor = commentsInput.id;
    const buttonsContainer = contentEl.createDiv();
    buttonsContainer.classList.add("issues-buttons-container");
    const commentButton = buttonsContainer.createEl("button", { text: "Comment" });
    commentButton.classList.add("issues-comment-button");
    const closeButton = buttonsContainer.createEl("button", { text: "Close Issue" });
    closeButton.classList.add("issues-close-button");
    commentButton.onclick = async () => {
      const updated = await api_comment_on_issue(this.octokit, this.issue, commentsInput.value);
      if (updated) {
        new import_obsidian6.Notice("Comment posted");
        this.close();
      }
    };
    closeButton.onclick = async () => {
      const updated = await api_update_issue(this.octokit, this.issue, {
        state: "closed"
      });
      if (updated) {
        this.close();
        new import_obsidian6.Notice("Issue closed");
        await updateIssues(this.app, this.octokit);
      } else {
        new import_obsidian6.Notice("Could not close issue");
      }
    };
  }
};

// src/Elements/IssueItems.ts
function createDefaultIssueElement(el, issue, ocotokit, app2) {
  const container = el.createDiv({ cls: "issue-container" });
  container.style.cursor = "pointer";
  container.style.padding = "0";
  container.style.margin = "0";
  container.style.marginBottom = "5px";
  container.style.marginTop = "7px";
  container.style.boxShadow = "var(--embed-block-shadow-hover)";
  container.style.borderRadius = "var(--radius-s)";
  container.style.width = "80%";
  container.style.overflow = "hidden";
  container.style.textOverflow = "ellipsis";
  container.style.whiteSpace = "nowrap";
  const title = container.createEl("h5", { text: issue.title });
  title.style.margin = "0";
  title.style.display = "flex";
  title.style.flexDirection = "row";
  title.style.alignItems = "center";
  title.style.marginLeft = "7px";
  title.style.marginTop = "7px";
  title.style.padding = "0";
  title.style.textOverflow = "ellipsis";
  title.style.whiteSpace = "nowrap";
  title.style.overflow = "hidden";
  const details = container.createDiv({ cls: "issue-details" });
  details.style.padding = "0";
  details.style.margin = "0";
  details.style.display = "flex";
  details.style.flexDirection = "row";
  details.style.alignItems = "top";
  const detailsText = details.createEl("span", { text: `#${issue.number} opened ${getPasteableTimeDelta(issue.created_at)} by ${issue.author}` });
  detailsText.style.margin = "0";
  detailsText.style.fontSize = "14px";
  detailsText.style.marginLeft = "7px";
  detailsText.style.marginBottom = "7px";
  detailsText.style.padding = "0";
  detailsText.style.opacity = "0.7";
  issue.labels.forEach((label) => {
    const labelEl = title.createDiv({ cls: "label" });
    labelEl.style.backgroundColor = `#${label.color}`;
    labelEl.style.color = getTextColor(label.color);
    labelEl.style.padding = "2px";
    labelEl.style.margin = "2px";
    labelEl.style.borderRadius = "var(--radius-s)";
    labelEl.style.fontSize = "10px";
    labelEl.style.opacity = "0.8";
    labelEl.innerText = label.name;
  });
  container.addEventListener("mouseenter", () => {
    container.style.opacity = "0.7";
  });
  container.addEventListener("mouseleave", () => {
    container.style.opacity = "1";
  });
  container.addEventListener("click", () => {
    container.style.opacity = "0.5";
    new IssuesDetailsModal(app2, issue, ocotokit).open();
  });
}
function createCompactIssueElement(el, issue, ocotokit, app2) {
  const container = el.createDiv({ cls: "issue-container" });
  container.style.cursor = "pointer";
  container.style.padding = "0";
  container.style.margin = "0";
  container.style.marginBottom = "5px";
  container.style.marginTop = "5px";
  container.style.boxShadow = "var(--embed-block-shadow-hover)";
  container.style.borderRadius = "var(--radius-s)";
  container.style.width = "80%";
  container.style.overflow = "hidden";
  container.style.textOverflow = "ellipsis";
  container.style.whiteSpace = "nowrap";
  container.style.fontSize = "1.1em";
  const text = container.createSpan({
    text: `#${issue.number} \u2022 ${issue.title} `
  });
  text.style.margin = "0";
  text.style.marginLeft = "5px";
  text.style.padding = "0";
  text.style.textOverflow = "ellipsis";
  text.style.whiteSpace = "nowrap";
  text.style.overflow = "hidden";
  const text2 = container.createSpan({
    text: `opened ${getPasteableTimeDelta(issue.created_at)} by ${issue.author}`
  });
  text2.style.opacity = "0.7";
  container.addEventListener("mouseenter", () => {
    container.style.opacity = "0.7";
  });
  container.addEventListener("mouseleave", () => {
    container.style.opacity = "1";
  });
  container.addEventListener("click", () => {
    container.style.opacity = "0.5";
    new IssuesDetailsModal(app2, issue, ocotokit).open();
  });
}

// src/Messages/Errors.ts
var errors = {
  noCreds: "Please enter your username and password in the settings. You may need to toggle the extension off and on again for the changes to take effect."
};

// src/main.ts
var IssueAppearance = /* @__PURE__ */ ((IssueAppearance2) => {
  IssueAppearance2["DEFAULT"] = "default";
  IssueAppearance2["COMPACT"] = "compact";
  return IssueAppearance2;
})(IssueAppearance || {});
var DEFAULT_SETTINGS = {
  username: "",
  password: "",
  issue_appearance: "default" /* DEFAULT */,
  show_searchbar: true
};
var MyPlugin = class extends import_obsidian7.Plugin {
  constructor() {
    super(...arguments);
    this.octokit = new Octokit({ auth: "" });
  }
  async onload() {
    await this.loadSettings();
    this.addSettingTab(new GithubIssuesSettings(this.app, this));
    if (this.settings.password == "" || this.settings.username == "") {
      new import_obsidian7.Notice("Please enter your username and password in the settings.");
    } else {
      try {
        this.octokit = await api_authenticate(this.settings.password) ? new Octokit({ auth: this.settings.password }) : new Octokit({ auth: "" });
        if (!this.octokit) {
          new import_obsidian7.Notice("Authentication failed. Please check your credentials.");
        }
      } catch (e) {
        new import_obsidian7.Notice("Authentication failed. Please check your credentials.");
      }
    }
    this.registerMarkdownCodeBlockProcessor("github-issues", async (source, el) => {
      const rows = source.split("\n").filter((row) => row.length > 0);
      const repoName = rows[0].split("/")[1].split("#")[0];
      const owner = rows[0].split("/")[0];
      const parsedIssues = parseIssuesToEmbed(rows[0]);
      const repo = {
        owner,
        name: repoName,
        id: 0,
        language: "",
        updated_at: ""
      };
      el.classList.add("issue-container");
      if (this.settings.show_searchbar) {
        const searchfield = el.createEl("input");
        searchfield.setAttribute("type", "text");
        searchfield.setAttribute("placeholder", "Search Titles, Labels,...");
        searchfield.classList.add("issues-searchfield");
        searchfield.addEventListener("input", () => {
          const search = searchfield.value.toLowerCase();
          el.childNodes.forEach((child) => {
            if (child instanceof HTMLElement) {
              if (child.innerText.toLowerCase().includes(search)) {
                child.style.display = "flex";
              } else if (child !== searchfield) {
                child.style.display = "none";
              }
            }
          });
        });
      }
      let issues = [];
      if (parsedIssues.length != 0) {
        issues = await api_get_issues_by_id(this.octokit, repo, parsedIssues);
      } else {
        issues = await api_get_own_issues(this.octokit, repo);
      }
      issues.forEach((issue) => {
        switch (this.settings.issue_appearance) {
          case "default" /* DEFAULT */:
            createDefaultIssueElement(el, issue, this.octokit, app);
            break;
          case "compact" /* COMPACT */:
            createCompactIssueElement(el, issue, this.octokit, app);
            break;
        }
      });
    });
    this.addCommand({
      id: "embed-issues",
      name: "Embed open Issues",
      callback: () => {
        if (this.octokit) {
          new IssuesModal(this.app, {
            octokit: this.octokit,
            plugin_settings: this.settings
          }).open();
        } else {
          new import_obsidian7.Notice(errors.noCreds);
        }
      }
    });
    this.addCommand({
      id: "update-issues",
      name: "Force-update Issues",
      callback: () => {
        if (this.octokit) {
          new import_obsidian7.Notice("Updating issues...");
          updateIssues(this.app, this.octokit);
        } else {
          new import_obsidian7.Notice(errors.noCreds);
        }
      }
    });
    this.addCommand({
      id: "new-issue",
      name: "Create new Issue",
      callback: () => {
        if (this.octokit) {
          new NewIssueModal(this.app, { octokit: this.octokit, plugin_settings: this.settings }).open();
        } else {
          new import_obsidian7.Notice(errors.noCreds);
        }
      }
    });
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var GithubIssuesSettings = class extends import_obsidian7.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Github Authentication" });
    containerEl.createSpan({
      text: "To use this plugin, you need to create a personal access token. You can find a guide on how to do that in the "
    }).createEl("a", {
      text: "README.",
      href: "https://github.com/Frostplexx/obsidian-github-issues#prerequisites"
    });
    new import_obsidian7.Setting(containerEl).setName("Username").setDesc("Your Github Username or Email").addText((text) => text.setPlaceholder("John Doe").setValue(this.plugin.settings.username).onChange(async (value) => {
      console.log("Username: " + value);
      this.plugin.settings.username = value;
      await this.plugin.saveSettings();
      this.plugin.octokit = await api_authenticate(this.plugin.settings.password) ? new Octokit({ auth: this.plugin.settings.password }) : new Octokit({});
      if (this.plugin.octokit && this.plugin.settings.password) {
        new import_obsidian7.Notice("Successfully authenticated!");
      }
    }));
    new import_obsidian7.Setting(containerEl).setName("Personal Authentication Token").setDesc("Personal Authentication Token").addText((text) => text.setPlaceholder("XXXXXXXXXXXXXXX").setValue(this.plugin.settings.password).onChange(async (value) => {
      console.log("Password: " + value);
      this.plugin.settings.password = value;
      await this.plugin.saveSettings();
      this.plugin.octokit = await api_authenticate(this.plugin.settings.password) ? new Octokit({ auth: this.plugin.settings.password }) : new Octokit({});
      if (this.plugin.octokit && this.plugin.settings.username) {
        new import_obsidian7.Notice("Successfully authenticated!");
      }
    }));
    containerEl.createEl("h2", { text: "Appearance" });
    new import_obsidian7.Setting(containerEl).setName("Issues Appearance").setDesc("How should the issues be displayed?").addDropdown((dropdown) => dropdown.addOption("default" /* DEFAULT */, "Default").addOption("compact" /* COMPACT */, "Compact").setValue(this.plugin.settings.issue_appearance).onChange(async (value) => {
      console.log("Appearance: " + value);
      this.plugin.settings.issue_appearance = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian7.Setting(containerEl).setName("Show Searchbar").setDesc("Show a searchbar above the issues in the embed.").addToggle((toggle) => toggle.setValue(this.plugin.settings.show_searchbar).onChange(async (value) => {
      console.log("Show Searchbar: " + value);
      this.plugin.settings.show_searchbar = value;
      await this.plugin.saveSettings();
    }));
  }
};
/*! Bundled license information:

is-plain-object/dist/is-plain-object.mjs:
  (*!
   * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)
*/
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL2JlZm9yZS1hZnRlci1ob29rL2xpYi9yZWdpc3Rlci5qcyIsICJub2RlX21vZHVsZXMvYmVmb3JlLWFmdGVyLWhvb2svbGliL2FkZC5qcyIsICJub2RlX21vZHVsZXMvYmVmb3JlLWFmdGVyLWhvb2svbGliL3JlbW92ZS5qcyIsICJub2RlX21vZHVsZXMvYmVmb3JlLWFmdGVyLWhvb2svaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL25vZGUtZmV0Y2gvYnJvd3Nlci5qcyIsICJub2RlX21vZHVsZXMvd3JhcHB5L3dyYXBweS5qcyIsICJub2RlX21vZHVsZXMvb25jZS9vbmNlLmpzIiwgInNyYy9tYWluLnRzIiwgIm5vZGVfbW9kdWxlcy91bml2ZXJzYWwtdXNlci1hZ2VudC9kaXN0LXNyYy9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvQG9jdG9raXQvY29yZS9kaXN0LXdlYi9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvaXMtcGxhaW4tb2JqZWN0L2Rpc3QvaXMtcGxhaW4tb2JqZWN0Lm1qcyIsICJub2RlX21vZHVsZXMvQG9jdG9raXQvZW5kcG9pbnQvZGlzdC1zcmMvdXRpbC9sb3dlcmNhc2Uta2V5cy5qcyIsICJub2RlX21vZHVsZXMvQG9jdG9raXQvZW5kcG9pbnQvZGlzdC1zcmMvdXRpbC9tZXJnZS1kZWVwLmpzIiwgIm5vZGVfbW9kdWxlcy9Ab2N0b2tpdC9lbmRwb2ludC9kaXN0LXNyYy91dGlsL3JlbW92ZS11bmRlZmluZWQtcHJvcGVydGllcy5qcyIsICJub2RlX21vZHVsZXMvQG9jdG9raXQvZW5kcG9pbnQvZGlzdC1zcmMvbWVyZ2UuanMiLCAibm9kZV9tb2R1bGVzL0BvY3Rva2l0L2VuZHBvaW50L2Rpc3Qtc3JjL3V0aWwvYWRkLXF1ZXJ5LXBhcmFtZXRlcnMuanMiLCAibm9kZV9tb2R1bGVzL0BvY3Rva2l0L2VuZHBvaW50L2Rpc3Qtc3JjL3V0aWwvZXh0cmFjdC11cmwtdmFyaWFibGUtbmFtZXMuanMiLCAibm9kZV9tb2R1bGVzL0BvY3Rva2l0L2VuZHBvaW50L2Rpc3Qtc3JjL3V0aWwvb21pdC5qcyIsICJub2RlX21vZHVsZXMvQG9jdG9raXQvZW5kcG9pbnQvZGlzdC1zcmMvdXRpbC91cmwtdGVtcGxhdGUuanMiLCAibm9kZV9tb2R1bGVzL0BvY3Rva2l0L2VuZHBvaW50L2Rpc3Qtc3JjL3BhcnNlLmpzIiwgIm5vZGVfbW9kdWxlcy9Ab2N0b2tpdC9lbmRwb2ludC9kaXN0LXNyYy9lbmRwb2ludC13aXRoLWRlZmF1bHRzLmpzIiwgIm5vZGVfbW9kdWxlcy9Ab2N0b2tpdC9lbmRwb2ludC9kaXN0LXNyYy93aXRoLWRlZmF1bHRzLmpzIiwgIm5vZGVfbW9kdWxlcy9Ab2N0b2tpdC9lbmRwb2ludC9kaXN0LXNyYy92ZXJzaW9uLmpzIiwgIm5vZGVfbW9kdWxlcy9Ab2N0b2tpdC9lbmRwb2ludC9kaXN0LXNyYy9kZWZhdWx0cy5qcyIsICJub2RlX21vZHVsZXMvQG9jdG9raXQvZW5kcG9pbnQvZGlzdC1zcmMvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL0BvY3Rva2l0L3JlcXVlc3QvZGlzdC13ZWIvaW5kZXguanMiLCAibm9kZV9tb2R1bGVzL2RlcHJlY2F0aW9uL2Rpc3Qtd2ViL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9Ab2N0b2tpdC9yZXF1ZXN0LWVycm9yL2Rpc3Qtc3JjL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9Ab2N0b2tpdC9ncmFwaHFsL2Rpc3Qtd2ViL2luZGV4LmpzIiwgIm5vZGVfbW9kdWxlcy9Ab2N0b2tpdC9hdXRoLXRva2VuL2Rpc3Qtc3JjL2F1dGguanMiLCAibm9kZV9tb2R1bGVzL0BvY3Rva2l0L2F1dGgtdG9rZW4vZGlzdC1zcmMvd2l0aC1hdXRob3JpemF0aW9uLXByZWZpeC5qcyIsICJub2RlX21vZHVsZXMvQG9jdG9raXQvYXV0aC10b2tlbi9kaXN0LXNyYy9ob29rLmpzIiwgIm5vZGVfbW9kdWxlcy9Ab2N0b2tpdC9hdXRoLXRva2VuL2Rpc3Qtc3JjL2luZGV4LmpzIiwgInNyYy9Jc3N1ZXMvSXNzdWUudHMiLCAic3JjL1V0aWxzL1V0aWxzLnRzIiwgInNyYy9BUEkvQXBpSGFuZGxlci50cyIsICJzcmMvRWxlbWVudHMvTW9kYWxzL0lzc3Vlc01vZGFsLnRzIiwgInNyYy9VdGlscy9Mb2FkZXIudHMiLCAic3JjL0lzc3Vlcy9Jc3N1ZXMuc2hhcmVkLnRzIiwgInNyYy9Jc3N1ZXMvSXNzdWVVcGRhdGVyLnRzIiwgInNyYy9FbGVtZW50cy9Nb2RhbHMvTmV3SXNzdWVNb2RhbC50cyIsICJzcmMvRWxlbWVudHMvTW9kYWxzL0lzc3Vlc0RldGFpbHNNb2RhbC50cyIsICJzcmMvVXRpbHMvQ29sb3IudXRpbHMudHMiLCAic3JjL0VsZW1lbnRzL0lzc3VlSXRlbXMudHMiLCAic3JjL01lc3NhZ2VzL0Vycm9ycy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsibW9kdWxlLmV4cG9ydHMgPSByZWdpc3RlcjtcblxuZnVuY3Rpb24gcmVnaXN0ZXIoc3RhdGUsIG5hbWUsIG1ldGhvZCwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIG1ldGhvZCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwibWV0aG9kIGZvciBiZWZvcmUgaG9vayBtdXN0IGJlIGEgZnVuY3Rpb25cIik7XG4gIH1cblxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgIHJldHVybiBuYW1lLnJldmVyc2UoKS5yZWR1Y2UoZnVuY3Rpb24gKGNhbGxiYWNrLCBuYW1lKSB7XG4gICAgICByZXR1cm4gcmVnaXN0ZXIuYmluZChudWxsLCBzdGF0ZSwgbmFtZSwgY2FsbGJhY2ssIG9wdGlvbnMpO1xuICAgIH0sIG1ldGhvZCkoKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXN0YXRlLnJlZ2lzdHJ5W25hbWVdKSB7XG4gICAgICByZXR1cm4gbWV0aG9kKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHJldHVybiBzdGF0ZS5yZWdpc3RyeVtuYW1lXS5yZWR1Y2UoZnVuY3Rpb24gKG1ldGhvZCwgcmVnaXN0ZXJlZCkge1xuICAgICAgcmV0dXJuIHJlZ2lzdGVyZWQuaG9vay5iaW5kKG51bGwsIG1ldGhvZCwgb3B0aW9ucyk7XG4gICAgfSwgbWV0aG9kKSgpO1xuICB9KTtcbn1cbiIsICJtb2R1bGUuZXhwb3J0cyA9IGFkZEhvb2s7XG5cbmZ1bmN0aW9uIGFkZEhvb2soc3RhdGUsIGtpbmQsIG5hbWUsIGhvb2spIHtcbiAgdmFyIG9yaWcgPSBob29rO1xuICBpZiAoIXN0YXRlLnJlZ2lzdHJ5W25hbWVdKSB7XG4gICAgc3RhdGUucmVnaXN0cnlbbmFtZV0gPSBbXTtcbiAgfVxuXG4gIGlmIChraW5kID09PSBcImJlZm9yZVwiKSB7XG4gICAgaG9vayA9IGZ1bmN0aW9uIChtZXRob2QsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAudGhlbihvcmlnLmJpbmQobnVsbCwgb3B0aW9ucykpXG4gICAgICAgIC50aGVuKG1ldGhvZC5iaW5kKG51bGwsIG9wdGlvbnMpKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKGtpbmQgPT09IFwiYWZ0ZXJcIikge1xuICAgIGhvb2sgPSBmdW5jdGlvbiAobWV0aG9kLCBvcHRpb25zKSB7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgIC50aGVuKG1ldGhvZC5iaW5kKG51bGwsIG9wdGlvbnMpKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0Xykge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdF87XG4gICAgICAgICAgcmV0dXJuIG9yaWcocmVzdWx0LCBvcHRpb25zKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICBpZiAoa2luZCA9PT0gXCJlcnJvclwiKSB7XG4gICAgaG9vayA9IGZ1bmN0aW9uIChtZXRob2QsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgICAgICAudGhlbihtZXRob2QuYmluZChudWxsLCBvcHRpb25zKSlcbiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBvcmlnKGVycm9yLCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRlLnJlZ2lzdHJ5W25hbWVdLnB1c2goe1xuICAgIGhvb2s6IGhvb2ssXG4gICAgb3JpZzogb3JpZyxcbiAgfSk7XG59XG4iLCAibW9kdWxlLmV4cG9ydHMgPSByZW1vdmVIb29rO1xuXG5mdW5jdGlvbiByZW1vdmVIb29rKHN0YXRlLCBuYW1lLCBtZXRob2QpIHtcbiAgaWYgKCFzdGF0ZS5yZWdpc3RyeVtuYW1lXSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBpbmRleCA9IHN0YXRlLnJlZ2lzdHJ5W25hbWVdXG4gICAgLm1hcChmdW5jdGlvbiAocmVnaXN0ZXJlZCkge1xuICAgICAgcmV0dXJuIHJlZ2lzdGVyZWQub3JpZztcbiAgICB9KVxuICAgIC5pbmRleE9mKG1ldGhvZCk7XG5cbiAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHN0YXRlLnJlZ2lzdHJ5W25hbWVdLnNwbGljZShpbmRleCwgMSk7XG59XG4iLCAidmFyIHJlZ2lzdGVyID0gcmVxdWlyZShcIi4vbGliL3JlZ2lzdGVyXCIpO1xudmFyIGFkZEhvb2sgPSByZXF1aXJlKFwiLi9saWIvYWRkXCIpO1xudmFyIHJlbW92ZUhvb2sgPSByZXF1aXJlKFwiLi9saWIvcmVtb3ZlXCIpO1xuXG4vLyBiaW5kIHdpdGggYXJyYXkgb2YgYXJndW1lbnRzOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjE3OTI5MTNcbnZhciBiaW5kID0gRnVuY3Rpb24uYmluZDtcbnZhciBiaW5kYWJsZSA9IGJpbmQuYmluZChiaW5kKTtcblxuZnVuY3Rpb24gYmluZEFwaShob29rLCBzdGF0ZSwgbmFtZSkge1xuICB2YXIgcmVtb3ZlSG9va1JlZiA9IGJpbmRhYmxlKHJlbW92ZUhvb2ssIG51bGwpLmFwcGx5KFxuICAgIG51bGwsXG4gICAgbmFtZSA/IFtzdGF0ZSwgbmFtZV0gOiBbc3RhdGVdXG4gICk7XG4gIGhvb2suYXBpID0geyByZW1vdmU6IHJlbW92ZUhvb2tSZWYgfTtcbiAgaG9vay5yZW1vdmUgPSByZW1vdmVIb29rUmVmO1xuICBbXCJiZWZvcmVcIiwgXCJlcnJvclwiLCBcImFmdGVyXCIsIFwid3JhcFwiXS5mb3JFYWNoKGZ1bmN0aW9uIChraW5kKSB7XG4gICAgdmFyIGFyZ3MgPSBuYW1lID8gW3N0YXRlLCBraW5kLCBuYW1lXSA6IFtzdGF0ZSwga2luZF07XG4gICAgaG9va1traW5kXSA9IGhvb2suYXBpW2tpbmRdID0gYmluZGFibGUoYWRkSG9vaywgbnVsbCkuYXBwbHkobnVsbCwgYXJncyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBIb29rU2luZ3VsYXIoKSB7XG4gIHZhciBzaW5ndWxhckhvb2tOYW1lID0gXCJoXCI7XG4gIHZhciBzaW5ndWxhckhvb2tTdGF0ZSA9IHtcbiAgICByZWdpc3RyeToge30sXG4gIH07XG4gIHZhciBzaW5ndWxhckhvb2sgPSByZWdpc3Rlci5iaW5kKG51bGwsIHNpbmd1bGFySG9va1N0YXRlLCBzaW5ndWxhckhvb2tOYW1lKTtcbiAgYmluZEFwaShzaW5ndWxhckhvb2ssIHNpbmd1bGFySG9va1N0YXRlLCBzaW5ndWxhckhvb2tOYW1lKTtcbiAgcmV0dXJuIHNpbmd1bGFySG9vaztcbn1cblxuZnVuY3Rpb24gSG9va0NvbGxlY3Rpb24oKSB7XG4gIHZhciBzdGF0ZSA9IHtcbiAgICByZWdpc3RyeToge30sXG4gIH07XG5cbiAgdmFyIGhvb2sgPSByZWdpc3Rlci5iaW5kKG51bGwsIHN0YXRlKTtcbiAgYmluZEFwaShob29rLCBzdGF0ZSk7XG5cbiAgcmV0dXJuIGhvb2s7XG59XG5cbnZhciBjb2xsZWN0aW9uSG9va0RlcHJlY2F0aW9uTWVzc2FnZURpc3BsYXllZCA9IGZhbHNlO1xuZnVuY3Rpb24gSG9vaygpIHtcbiAgaWYgKCFjb2xsZWN0aW9uSG9va0RlcHJlY2F0aW9uTWVzc2FnZURpc3BsYXllZCkge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgICdbYmVmb3JlLWFmdGVyLWhvb2tdOiBcIkhvb2soKVwiIHJlcHVycG9zaW5nIHdhcm5pbmcsIHVzZSBcIkhvb2suQ29sbGVjdGlvbigpXCIuIFJlYWQgbW9yZTogaHR0cHM6Ly9naXQuaW8vdXBncmFkZS1iZWZvcmUtYWZ0ZXItaG9vay10by0xLjQnXG4gICAgKTtcbiAgICBjb2xsZWN0aW9uSG9va0RlcHJlY2F0aW9uTWVzc2FnZURpc3BsYXllZCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIEhvb2tDb2xsZWN0aW9uKCk7XG59XG5cbkhvb2suU2luZ3VsYXIgPSBIb29rU2luZ3VsYXIuYmluZCgpO1xuSG9vay5Db2xsZWN0aW9uID0gSG9va0NvbGxlY3Rpb24uYmluZCgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEhvb2s7XG4vLyBleHBvc2UgY29uc3RydWN0b3JzIGFzIGEgbmFtZWQgcHJvcGVydHkgZm9yIFR5cGVTY3JpcHRcbm1vZHVsZS5leHBvcnRzLkhvb2sgPSBIb29rO1xubW9kdWxlLmV4cG9ydHMuU2luZ3VsYXIgPSBIb29rLlNpbmd1bGFyO1xubW9kdWxlLmV4cG9ydHMuQ29sbGVjdGlvbiA9IEhvb2suQ29sbGVjdGlvbjtcbiIsICJcInVzZSBzdHJpY3RcIjtcblxuLy8gcmVmOiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1nbG9iYWxcbnZhciBnZXRHbG9iYWwgPSBmdW5jdGlvbiAoKSB7XG5cdC8vIHRoZSBvbmx5IHJlbGlhYmxlIG1lYW5zIHRvIGdldCB0aGUgZ2xvYmFsIG9iamVjdCBpc1xuXHQvLyBgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKWBcblx0Ly8gSG93ZXZlciwgdGhpcyBjYXVzZXMgQ1NQIHZpb2xhdGlvbnMgaW4gQ2hyb21lIGFwcHMuXG5cdGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHsgcmV0dXJuIHNlbGY7IH1cblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiB3aW5kb3c7IH1cblx0aWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBnbG9iYWw7IH1cblx0dGhyb3cgbmV3IEVycm9yKCd1bmFibGUgdG8gbG9jYXRlIGdsb2JhbCBvYmplY3QnKTtcbn1cblxudmFyIGdsb2JhbE9iamVjdCA9IGdldEdsb2JhbCgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBnbG9iYWxPYmplY3QuZmV0Y2g7XG5cbi8vIE5lZWRlZCBmb3IgVHlwZVNjcmlwdCBhbmQgV2VicGFjay5cbmlmIChnbG9iYWxPYmplY3QuZmV0Y2gpIHtcblx0ZXhwb3J0cy5kZWZhdWx0ID0gZ2xvYmFsT2JqZWN0LmZldGNoLmJpbmQoZ2xvYmFsT2JqZWN0KTtcbn1cblxuZXhwb3J0cy5IZWFkZXJzID0gZ2xvYmFsT2JqZWN0LkhlYWRlcnM7XG5leHBvcnRzLlJlcXVlc3QgPSBnbG9iYWxPYmplY3QuUmVxdWVzdDtcbmV4cG9ydHMuUmVzcG9uc2UgPSBnbG9iYWxPYmplY3QuUmVzcG9uc2U7XG4iLCAiLy8gUmV0dXJucyBhIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgd3JhcHBlZCBjYWxsYmFja1xuLy8gVGhlIHdyYXBwZXIgZnVuY3Rpb24gc2hvdWxkIGRvIHNvbWUgc3R1ZmYsIGFuZCByZXR1cm4gYVxuLy8gcHJlc3VtYWJseSBkaWZmZXJlbnQgY2FsbGJhY2sgZnVuY3Rpb24uXG4vLyBUaGlzIG1ha2VzIHN1cmUgdGhhdCBvd24gcHJvcGVydGllcyBhcmUgcmV0YWluZWQsIHNvIHRoYXRcbi8vIGRlY29yYXRpb25zIGFuZCBzdWNoIGFyZSBub3QgbG9zdCBhbG9uZyB0aGUgd2F5LlxubW9kdWxlLmV4cG9ydHMgPSB3cmFwcHlcbmZ1bmN0aW9uIHdyYXBweSAoZm4sIGNiKSB7XG4gIGlmIChmbiAmJiBjYikgcmV0dXJuIHdyYXBweShmbikoY2IpXG5cbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCduZWVkIHdyYXBwZXIgZnVuY3Rpb24nKVxuXG4gIE9iamVjdC5rZXlzKGZuKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgd3JhcHBlcltrXSA9IGZuW2tdXG4gIH0pXG5cbiAgcmV0dXJuIHdyYXBwZXJcblxuICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldXG4gICAgfVxuICAgIHZhciByZXQgPSBmbi5hcHBseSh0aGlzLCBhcmdzKVxuICAgIHZhciBjYiA9IGFyZ3NbYXJncy5sZW5ndGgtMV1cbiAgICBpZiAodHlwZW9mIHJldCA9PT0gJ2Z1bmN0aW9uJyAmJiByZXQgIT09IGNiKSB7XG4gICAgICBPYmplY3Qua2V5cyhjYikuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICByZXRba10gPSBjYltrXVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHJldFxuICB9XG59XG4iLCAidmFyIHdyYXBweSA9IHJlcXVpcmUoJ3dyYXBweScpXG5tb2R1bGUuZXhwb3J0cyA9IHdyYXBweShvbmNlKVxubW9kdWxlLmV4cG9ydHMuc3RyaWN0ID0gd3JhcHB5KG9uY2VTdHJpY3QpXG5cbm9uY2UucHJvdG8gPSBvbmNlKGZ1bmN0aW9uICgpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bmN0aW9uLnByb3RvdHlwZSwgJ29uY2UnLCB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvbmNlKHRoaXMpXG4gICAgfSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVuY3Rpb24ucHJvdG90eXBlLCAnb25jZVN0cmljdCcsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uY2VTdHJpY3QodGhpcylcbiAgICB9LFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxufSlcblxuZnVuY3Rpb24gb25jZSAoZm4pIHtcbiAgdmFyIGYgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGYuY2FsbGVkKSByZXR1cm4gZi52YWx1ZVxuICAgIGYuY2FsbGVkID0gdHJ1ZVxuICAgIHJldHVybiBmLnZhbHVlID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICB9XG4gIGYuY2FsbGVkID0gZmFsc2VcbiAgcmV0dXJuIGZcbn1cblxuZnVuY3Rpb24gb25jZVN0cmljdCAoZm4pIHtcbiAgdmFyIGYgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGYuY2FsbGVkKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGYub25jZUVycm9yKVxuICAgIGYuY2FsbGVkID0gdHJ1ZVxuICAgIHJldHVybiBmLnZhbHVlID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICB9XG4gIHZhciBuYW1lID0gZm4ubmFtZSB8fCAnRnVuY3Rpb24gd3JhcHBlZCB3aXRoIGBvbmNlYCdcbiAgZi5vbmNlRXJyb3IgPSBuYW1lICsgXCIgc2hvdWxkbid0IGJlIGNhbGxlZCBtb3JlIHRoYW4gb25jZVwiXG4gIGYuY2FsbGVkID0gZmFsc2VcbiAgcmV0dXJuIGZcbn1cbiIsICJpbXBvcnQge0FwcCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmd9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCB7YXBpX2F1dGhlbnRpY2F0ZSwgYXBpX2dldF9pc3N1ZXNfYnlfaWQsIGFwaV9nZXRfb3duX2lzc3VlcywgUmVwb0l0ZW19IGZyb20gXCIuL0FQSS9BcGlIYW5kbGVyXCI7XG5pbXBvcnQge0lzc3Vlc01vZGFsfSBmcm9tIFwiLi9FbGVtZW50cy9Nb2RhbHMvSXNzdWVzTW9kYWxcIjtcbmltcG9ydCB7T2N0b2tpdH0gZnJvbSBcIkBvY3Rva2l0L2NvcmVcIjtcbmltcG9ydCB7dXBkYXRlSXNzdWVzfSBmcm9tIFwiLi9Jc3N1ZXMvSXNzdWVVcGRhdGVyXCI7XG5pbXBvcnQge05ld0lzc3VlTW9kYWx9IGZyb20gXCIuL0VsZW1lbnRzL01vZGFscy9OZXdJc3N1ZU1vZGFsXCI7XG5pbXBvcnQge2NyZWF0ZUNvbXBhY3RJc3N1ZUVsZW1lbnQsIGNyZWF0ZURlZmF1bHRJc3N1ZUVsZW1lbnR9IGZyb20gXCIuL0VsZW1lbnRzL0lzc3VlSXRlbXNcIjtcbmltcG9ydCB7SXNzdWV9IGZyb20gXCIuL0lzc3Vlcy9Jc3N1ZVwiO1xuaW1wb3J0IHtlcnJvcnN9IGZyb20gXCIuL01lc3NhZ2VzL0Vycm9yc1wiO1xuaW1wb3J0IHtwYXJzZUlzc3Vlc1RvRW1iZWR9IGZyb20gXCIuL0lzc3Vlcy9Jc3N1ZXMuc2hhcmVkXCI7XG5cbi8vZW51bSBmb3IgdGhlIGFwcGVhcmFuY2Ugb2YgdGhlIGlzc3VlcyB3aGVuIHBhc3RlZCBpbnRvIHRoZSBlZGl0b3JcbmV4cG9ydCBlbnVtIElzc3VlQXBwZWFyYW5jZSB7XG5cdERFRkFVTFQgPSBcImRlZmF1bHRcIixcblx0Q09NUEFDVCA9IFwiY29tcGFjdFwiXG59XG5cbmludGVyZmFjZSBNeVBsdWdpblNldHRpbmdzIHtcblx0dXNlcm5hbWU6IHN0cmluZztcblx0cGFzc3dvcmQ6IHN0cmluZ1xuXHRpc3N1ZV9hcHBlYXJhbmNlOiBJc3N1ZUFwcGVhcmFuY2U7XG5cdHNob3dfc2VhcmNoYmFyOiBib29sZWFuO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBNeVBsdWdpblNldHRpbmdzID0ge1xuXHR1c2VybmFtZTogJycsXG5cdHBhc3N3b3JkOiAnJyxcblx0aXNzdWVfYXBwZWFyYW5jZTogSXNzdWVBcHBlYXJhbmNlLkRFRkFVTFQsXG5cdHNob3dfc2VhcmNoYmFyOiB0cnVlXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE15UGx1Z2luIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IE15UGx1Z2luU2V0dGluZ3M7XG5cdG9jdG9raXQ6IE9jdG9raXQgPSBuZXcgT2N0b2tpdCh7YXV0aDogXCJcIn0pO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXHRcdC8vIFRoaXMgYWRkcyBhIHNldHRpbmdzIHRhYiBzbyB0aGUgdXNlciBjYW4gY29uZmlndXJlIHZhcmlvdXMgYXNwZWN0cyBvZiB0aGUgcGx1Z2luXG5cdFx0dGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBHaXRodWJJc3N1ZXNTZXR0aW5ncyh0aGlzLmFwcCwgdGhpcykpO1xuXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MucGFzc3dvcmQgPT0gXCJcIiB8fCB0aGlzLnNldHRpbmdzLnVzZXJuYW1lID09IFwiXCIpIHtcblx0XHRcdG5ldyBOb3RpY2UoXCJQbGVhc2UgZW50ZXIgeW91ciB1c2VybmFtZSBhbmQgcGFzc3dvcmQgaW4gdGhlIHNldHRpbmdzLlwiKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR0aGlzLm9jdG9raXQgPSBhd2FpdCBhcGlfYXV0aGVudGljYXRlKHRoaXMuc2V0dGluZ3MucGFzc3dvcmQpID8gbmV3IE9jdG9raXQoe2F1dGg6IHRoaXMuc2V0dGluZ3MucGFzc3dvcmR9KSA6IG5ldyBPY3Rva2l0KHthdXRoOiBcIlwifSk7XG5cdFx0XHRcdGlmICghdGhpcy5vY3Rva2l0KSB7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShcIkF1dGhlbnRpY2F0aW9uIGZhaWxlZC4gUGxlYXNlIGNoZWNrIHlvdXIgY3JlZGVudGlhbHMuXCIpXG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0bmV3IE5vdGljZShcIkF1dGhlbnRpY2F0aW9uIGZhaWxlZC4gUGxlYXNlIGNoZWNrIHlvdXIgY3JlZGVudGlhbHMuXCIpXG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0XHQvL3JlZ2lzdGVyIG1hcmtkb3duIHBvc3QgcHJvY2Vzc29yXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKFwiZ2l0aHViLWlzc3Vlc1wiLCBhc3luYyAoc291cmNlLCBlbCkgPT4ge1xuXG5cdFx0XHRjb25zdCByb3dzID0gc291cmNlLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigocm93KSA9PiByb3cubGVuZ3RoID4gMCk7XG5cdFx0XHRjb25zdCByZXBvTmFtZSA9IHJvd3NbMF0uc3BsaXQoXCIvXCIpWzFdLnNwbGl0KFwiI1wiKVswXVxuXHRcdFx0Y29uc3Qgb3duZXIgPSByb3dzWzBdLnNwbGl0KFwiL1wiKVswXVxuXG5cblx0XHRcdC8vcGFyc2UgaWYgdGhlIHVzZXIgb25seSB3YW50cyB0byBlbWJlZCBhIHNpbmdsZS9zb21lIGlzc3VlcyBvciBhbGwgb2YgdGhlbVxuXHRcdFx0Y29uc3QgcGFyc2VkSXNzdWVzID0gcGFyc2VJc3N1ZXNUb0VtYmVkKHJvd3NbMF0pO1xuXHRcdFx0Y29uc3QgcmVwbzogUmVwb0l0ZW0gPSB7XG5cdFx0XHRcdG93bmVyOiBvd25lcixcblx0XHRcdFx0bmFtZTogcmVwb05hbWUsXG5cdFx0XHRcdGlkOiAwLFxuXHRcdFx0XHRsYW5ndWFnZTogXCJcIixcblx0XHRcdFx0dXBkYXRlZF9hdDogXCJcIixcblx0XHRcdH1cblx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoXCJpc3N1ZS1jb250YWluZXJcIilcblxuXHRcdFx0aWYgKHRoaXMuc2V0dGluZ3Muc2hvd19zZWFyY2hiYXIpIHtcblx0XHRcdFx0Y29uc3Qgc2VhcmNoZmllbGQgPSBlbC5jcmVhdGVFbChcImlucHV0XCIpXG5cdFx0XHRcdHNlYXJjaGZpZWxkLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpXG5cdFx0XHRcdHNlYXJjaGZpZWxkLnNldEF0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIsIFwiU2VhcmNoIFRpdGxlcywgTGFiZWxzLC4uLlwiKVxuXHRcdFx0XHRzZWFyY2hmaWVsZC5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLXNlYXJjaGZpZWxkXCIpXG5cblx0XHRcdFx0c2VhcmNoZmllbGQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcblx0XHRcdFx0XHQvL2dvIHRocm91Z2ggdGhlIGNoaWxkcmVuIG9mIFwiZWxcIiBhbmQgaGlkZSBhbGwgdGhhdCBkb24ndCBtYXRjaCB0aGUgc2VhcmNoIGlmIHRoZSBzZWFyY2ggaXMgZW1wdHkgc2hvdyBhbGxcblx0XHRcdFx0XHRjb25zdCBzZWFyY2ggPSBzZWFyY2hmaWVsZC52YWx1ZS50b0xvd2VyQ2FzZSgpXG5cdFx0XHRcdFx0ZWwuY2hpbGROb2Rlcy5mb3JFYWNoKChjaGlsZCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKGNoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGNoaWxkLmlubmVyVGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaCkpIHtcblx0XHRcdFx0XHRcdFx0XHRjaGlsZC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY2hpbGQgIT09IHNlYXJjaGZpZWxkKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2hpbGQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXG5cdFx0XHRsZXQgaXNzdWVzOiBJc3N1ZVtdID0gW11cblx0XHRcdGlmIChwYXJzZWRJc3N1ZXMubGVuZ3RoICE9IDApIHtcblx0XHRcdFx0aXNzdWVzID0gYXdhaXQgIGFwaV9nZXRfaXNzdWVzX2J5X2lkKHRoaXMub2N0b2tpdCwgcmVwbywgcGFyc2VkSXNzdWVzKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aXNzdWVzID0gYXdhaXQgYXBpX2dldF9vd25faXNzdWVzKHRoaXMub2N0b2tpdCwgcmVwbyk7XG5cdFx0XHR9XG5cblx0XHRcdGlzc3Vlcy5mb3JFYWNoKChpc3N1ZSkgPT4ge1xuXHRcdFx0XHRzd2l0Y2ggKHRoaXMuc2V0dGluZ3MuaXNzdWVfYXBwZWFyYW5jZSkge1xuXHRcdFx0XHRcdGNhc2UgSXNzdWVBcHBlYXJhbmNlLkRFRkFVTFQ6XG5cdFx0XHRcdFx0XHRjcmVhdGVEZWZhdWx0SXNzdWVFbGVtZW50KGVsLGlzc3VlLCB0aGlzLm9jdG9raXQsIGFwcCk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIElzc3VlQXBwZWFyYW5jZS5DT01QQUNUOlxuXHRcdFx0XHRcdFx0Y3JlYXRlQ29tcGFjdElzc3VlRWxlbWVudChlbCwgaXNzdWUsIHRoaXMub2N0b2tpdCwgYXBwKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9fSk7XG5cdFx0fSlcblxuXHRcdC8vYWRkIGlzc3VlcyBvZiByZXBvIGNvbW1hbmRcblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICdlbWJlZC1pc3N1ZXMnLFxuXHRcdFx0bmFtZTogJ0VtYmVkIG9wZW4gSXNzdWVzJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGlmICh0aGlzLm9jdG9raXQpe1xuXHRcdFx0XHRcdC8vY2hlY2sgaWYgcmVwbyBhbHJlYWR5IGV4aXN0cyBpbiBmaWxlXG5cdFx0XHRcdFx0XHRuZXcgSXNzdWVzTW9kYWwodGhpcy5hcHAsIHtcblx0XHRcdFx0XHRcdFx0b2N0b2tpdDogdGhpcy5vY3Rva2l0LFxuXHRcdFx0XHRcdFx0XHRwbHVnaW5fc2V0dGluZ3M6IHRoaXMuc2V0dGluZ3Ncblx0XHRcdFx0XHRcdH0gYXMgT2N0b0J1bmRsZSkub3BlbigpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoZXJyb3JzLm5vQ3JlZHMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR0aGlzLmFkZENvbW1hbmQoe1xuXHRcdFx0aWQ6ICd1cGRhdGUtaXNzdWVzJyxcblx0XHRcdG5hbWU6ICdGb3JjZS11cGRhdGUgSXNzdWVzJyxcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdGlmKHRoaXMub2N0b2tpdCl7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShcIlVwZGF0aW5nIGlzc3Vlcy4uLlwiKVxuXHRcdFx0XHRcdHVwZGF0ZUlzc3Vlcyh0aGlzLmFwcCwgdGhpcy5vY3Rva2l0KVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoZXJyb3JzLm5vQ3JlZHMpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJuZXctaXNzdWVcIixcblx0XHRcdG5hbWU6IFwiQ3JlYXRlIG5ldyBJc3N1ZVwiLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0aWYodGhpcy5vY3Rva2l0KXtcblx0XHRcdFx0XHRuZXcgTmV3SXNzdWVNb2RhbCh0aGlzLmFwcCwge29jdG9raXQ6IHRoaXMub2N0b2tpdCwgcGx1Z2luX3NldHRpbmdzOiB0aGlzLnNldHRpbmdzfSBhcyBPY3RvQnVuZGxlKS5vcGVuKClcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKGVycm9ycy5ub0NyZWRzKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pXG5cdH1cblxuXHRvbnVubG9hZCgpIHtcblxuXHR9XG5cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuXHR9XG5cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgR2l0aHViSXNzdWVzU2V0dGluZ3MgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBNeVBsdWdpbjtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBNeVBsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywge3RleHQ6ICdHaXRodWIgQXV0aGVudGljYXRpb24nfSk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVTcGFuKHtcblx0XHRcdHRleHQ6IFwiVG8gdXNlIHRoaXMgcGx1Z2luLCB5b3UgbmVlZCB0byBjcmVhdGUgYSBwZXJzb25hbCBhY2Nlc3MgdG9rZW4uIFlvdSBjYW4gZmluZCBhIGd1aWRlIG9uIGhvdyB0byBkbyB0aGF0IGluIHRoZSBcIlxuXHRcdH0pLmNyZWF0ZUVsKCdhJywge1xuXHRcdFx0dGV4dDogXCJSRUFETUUuXCIsXG5cdFx0XHRocmVmOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9Gcm9zdHBsZXh4L29ic2lkaWFuLWdpdGh1Yi1pc3N1ZXMjcHJlcmVxdWlzaXRlc1wiXG5cdFx0fSlcblxuXHRcdC8vIHVzZXJuYW1lXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnVXNlcm5hbWUnKVxuXHRcdFx0LnNldERlc2MoJ1lvdXIgR2l0aHViIFVzZXJuYW1lIG9yIEVtYWlsJylcblx0XHRcdC5hZGRUZXh0KHRleHQgPT4gdGV4dFxuXHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0pvaG4gRG9lJylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJuYW1lKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ1VzZXJuYW1lOiAnICsgdmFsdWUpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJuYW1lID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ub2N0b2tpdCA9IGF3YWl0IGFwaV9hdXRoZW50aWNhdGUodGhpcy5wbHVnaW4uc2V0dGluZ3MucGFzc3dvcmQpID8gbmV3IE9jdG9raXQoe2F1dGg6IHRoaXMucGx1Z2luLnNldHRpbmdzLnBhc3N3b3JkfSkgOiBuZXcgT2N0b2tpdCh7fSk7XG5cdFx0XHRcdFx0aWYgKHRoaXMucGx1Z2luLm9jdG9raXQgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MucGFzc3dvcmQpIHtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJTdWNjZXNzZnVsbHkgYXV0aGVudGljYXRlZCFcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pKTtcblxuXHRcdC8vIHBhc3N3b3JkXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlBlcnNvbmFsIEF1dGhlbnRpY2F0aW9uIFRva2VuXCIpXG5cdFx0XHQuc2V0RGVzYyhcIlBlcnNvbmFsIEF1dGhlbnRpY2F0aW9uIFRva2VuXCIpXG5cdFx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHRcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiWFhYWFhYWFhYWFhYWFhYXCIpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYXNzd29yZClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlBhc3N3b3JkOiBcIiArIHZhbHVlKVxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnBhc3N3b3JkID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcblx0XHRcdFx0XHQvL3RyaWdnZXIgcmVhdXRoZW50aWNhdGlvblxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLm9jdG9raXQgPSBhd2FpdCBhcGlfYXV0aGVudGljYXRlKHRoaXMucGx1Z2luLnNldHRpbmdzLnBhc3N3b3JkKSA/IG5ldyBPY3Rva2l0KHthdXRoOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5wYXNzd29yZH0pIDogbmV3IE9jdG9raXQoe30pO1xuXHRcdFx0XHRcdGlmICh0aGlzLnBsdWdpbi5vY3Rva2l0ICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZXJuYW1lKXtcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJTdWNjZXNzZnVsbHkgYXV0aGVudGljYXRlZCFcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDJcIix7dGV4dDogXCJBcHBlYXJhbmNlXCJ9KTtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiSXNzdWVzIEFwcGVhcmFuY2VcIilcblx0XHRcdC5zZXREZXNjKFwiSG93IHNob3VsZCB0aGUgaXNzdWVzIGJlIGRpc3BsYXllZD9cIilcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuXHRcdFx0XHQuYWRkT3B0aW9uKElzc3VlQXBwZWFyYW5jZS5ERUZBVUxULCBcIkRlZmF1bHRcIilcblx0XHRcdFx0LmFkZE9wdGlvbihJc3N1ZUFwcGVhcmFuY2UuQ09NUEFDVCwgXCJDb21wYWN0XCIpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5pc3N1ZV9hcHBlYXJhbmNlKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiBJc3N1ZUFwcGVhcmFuY2UpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkFwcGVhcmFuY2U6IFwiICsgdmFsdWUpXG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaXNzdWVfYXBwZWFyYW5jZSA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpXG5cdFx0XHRcdFx0Ly9UT0RPIHRyaWdnZXIgYSByZXJlbmRlciBvZiB0aGUgaXNzdWVzXG5cdFx0XHRcdH0pKTtcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiU2hvdyBTZWFyY2hiYXJcIilcblx0XHRcdC5zZXREZXNjKFwiU2hvdyBhIHNlYXJjaGJhciBhYm92ZSB0aGUgaXNzdWVzIGluIHRoZSBlbWJlZC5cIilcblx0XHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd19zZWFyY2hiYXIpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlNob3cgU2VhcmNoYmFyOiBcIiArIHZhbHVlKVxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dfc2VhcmNoYmFyID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKClcblx0XHRcdFx0XHQvL1RPRE8gdHJpZ2dlciBhIHJlcmVuZGVyIG9mIHRoZSBpc3N1ZXNcblxuXHRcdFx0XHR9KSk7XG5cdH1cbn1cblxuXG5leHBvcnQgaW50ZXJmYWNlIE9jdG9CdW5kbGUge1xuXHRvY3Rva2l0OiBPY3Rva2l0LFxuXHRwbHVnaW5fc2V0dGluZ3M6IE15UGx1Z2luU2V0dGluZ3Ncbn1cbiIsICJleHBvcnQgZnVuY3Rpb24gZ2V0VXNlckFnZW50KCkge1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSBcIm9iamVjdFwiICYmIFwidXNlckFnZW50XCIgaW4gbmF2aWdhdG9yKSB7XG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgXCJ2ZXJzaW9uXCIgaW4gcHJvY2Vzcykge1xuICAgICAgICByZXR1cm4gYE5vZGUuanMvJHtwcm9jZXNzLnZlcnNpb24uc3Vic3RyKDEpfSAoJHtwcm9jZXNzLnBsYXRmb3JtfTsgJHtwcm9jZXNzLmFyY2h9KWA7XG4gICAgfVxuICAgIHJldHVybiBcIjxlbnZpcm9ubWVudCB1bmRldGVjdGFibGU+XCI7XG59XG4iLCAiLy8gcGtnL2Rpc3Qtc3JjL2luZGV4LmpzXG5pbXBvcnQgeyBnZXRVc2VyQWdlbnQgfSBmcm9tIFwidW5pdmVyc2FsLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IENvbGxlY3Rpb24gfSBmcm9tIFwiYmVmb3JlLWFmdGVyLWhvb2tcIjtcbmltcG9ydCB7IHJlcXVlc3QgfSBmcm9tIFwiQG9jdG9raXQvcmVxdWVzdFwiO1xuaW1wb3J0IHsgd2l0aEN1c3RvbVJlcXVlc3QgfSBmcm9tIFwiQG9jdG9raXQvZ3JhcGhxbFwiO1xuaW1wb3J0IHsgY3JlYXRlVG9rZW5BdXRoIH0gZnJvbSBcIkBvY3Rva2l0L2F1dGgtdG9rZW5cIjtcblxuLy8gcGtnL2Rpc3Qtc3JjL3ZlcnNpb24uanNcbnZhciBWRVJTSU9OID0gXCI0LjIuMVwiO1xuXG4vLyBwa2cvZGlzdC1zcmMvaW5kZXguanNcbnZhciBPY3Rva2l0ID0gY2xhc3Mge1xuICBzdGF0aWMgZGVmYXVsdHMoZGVmYXVsdHMpIHtcbiAgICBjb25zdCBPY3Rva2l0V2l0aERlZmF1bHRzID0gY2xhc3MgZXh0ZW5kcyB0aGlzIHtcbiAgICAgIGNvbnN0cnVjdG9yKC4uLmFyZ3MpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGFyZ3NbMF0gfHwge307XG4gICAgICAgIGlmICh0eXBlb2YgZGVmYXVsdHMgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHN1cGVyKGRlZmF1bHRzKG9wdGlvbnMpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoXG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgZGVmYXVsdHMsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9ucy51c2VyQWdlbnQgJiYgZGVmYXVsdHMudXNlckFnZW50ID8ge1xuICAgICAgICAgICAgICB1c2VyQWdlbnQ6IGAke29wdGlvbnMudXNlckFnZW50fSAke2RlZmF1bHRzLnVzZXJBZ2VudH1gXG4gICAgICAgICAgICB9IDogbnVsbFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBPY3Rva2l0V2l0aERlZmF1bHRzO1xuICB9XG4gIC8qKlxuICAgKiBBdHRhY2ggYSBwbHVnaW4gKG9yIG1hbnkpIHRvIHlvdXIgT2N0b2tpdCBpbnN0YW5jZS5cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogY29uc3QgQVBJID0gT2N0b2tpdC5wbHVnaW4ocGx1Z2luMSwgcGx1Z2luMiwgcGx1Z2luMywgLi4uKVxuICAgKi9cbiAgc3RhdGljIHBsdWdpbiguLi5uZXdQbHVnaW5zKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IGN1cnJlbnRQbHVnaW5zID0gdGhpcy5wbHVnaW5zO1xuICAgIGNvbnN0IE5ld09jdG9raXQgPSAoX2EgPSBjbGFzcyBleHRlbmRzIHRoaXMge1xuICAgIH0sIF9hLnBsdWdpbnMgPSBjdXJyZW50UGx1Z2lucy5jb25jYXQoXG4gICAgICBuZXdQbHVnaW5zLmZpbHRlcigocGx1Z2luKSA9PiAhY3VycmVudFBsdWdpbnMuaW5jbHVkZXMocGx1Z2luKSlcbiAgICApLCBfYSk7XG4gICAgcmV0dXJuIE5ld09jdG9raXQ7XG4gIH1cbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgaG9vayA9IG5ldyBDb2xsZWN0aW9uKCk7XG4gICAgY29uc3QgcmVxdWVzdERlZmF1bHRzID0ge1xuICAgICAgYmFzZVVybDogcmVxdWVzdC5lbmRwb2ludC5ERUZBVUxUUy5iYXNlVXJsLFxuICAgICAgaGVhZGVyczoge30sXG4gICAgICByZXF1ZXN0OiBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLnJlcXVlc3QsIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBpbnRlcm5hbCB1c2FnZSBvbmx5LCBubyBuZWVkIHRvIHR5cGVcbiAgICAgICAgaG9vazogaG9vay5iaW5kKG51bGwsIFwicmVxdWVzdFwiKVxuICAgICAgfSksXG4gICAgICBtZWRpYVR5cGU6IHtcbiAgICAgICAgcHJldmlld3M6IFtdLFxuICAgICAgICBmb3JtYXQ6IFwiXCJcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlcXVlc3REZWZhdWx0cy5oZWFkZXJzW1widXNlci1hZ2VudFwiXSA9IFtcbiAgICAgIG9wdGlvbnMudXNlckFnZW50LFxuICAgICAgYG9jdG9raXQtY29yZS5qcy8ke1ZFUlNJT059ICR7Z2V0VXNlckFnZW50KCl9YFxuICAgIF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xuICAgIGlmIChvcHRpb25zLmJhc2VVcmwpIHtcbiAgICAgIHJlcXVlc3REZWZhdWx0cy5iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wcmV2aWV3cykge1xuICAgICAgcmVxdWVzdERlZmF1bHRzLm1lZGlhVHlwZS5wcmV2aWV3cyA9IG9wdGlvbnMucHJldmlld3M7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnRpbWVab25lKSB7XG4gICAgICByZXF1ZXN0RGVmYXVsdHMuaGVhZGVyc1tcInRpbWUtem9uZVwiXSA9IG9wdGlvbnMudGltZVpvbmU7XG4gICAgfVxuICAgIHRoaXMucmVxdWVzdCA9IHJlcXVlc3QuZGVmYXVsdHMocmVxdWVzdERlZmF1bHRzKTtcbiAgICB0aGlzLmdyYXBocWwgPSB3aXRoQ3VzdG9tUmVxdWVzdCh0aGlzLnJlcXVlc3QpLmRlZmF1bHRzKHJlcXVlc3REZWZhdWx0cyk7XG4gICAgdGhpcy5sb2cgPSBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBkZWJ1ZzogKCkgPT4ge1xuICAgICAgICB9LFxuICAgICAgICBpbmZvOiAoKSA9PiB7XG4gICAgICAgIH0sXG4gICAgICAgIHdhcm46IGNvbnNvbGUud2Fybi5iaW5kKGNvbnNvbGUpLFxuICAgICAgICBlcnJvcjogY29uc29sZS5lcnJvci5iaW5kKGNvbnNvbGUpXG4gICAgICB9LFxuICAgICAgb3B0aW9ucy5sb2dcbiAgICApO1xuICAgIHRoaXMuaG9vayA9IGhvb2s7XG4gICAgaWYgKCFvcHRpb25zLmF1dGhTdHJhdGVneSkge1xuICAgICAgaWYgKCFvcHRpb25zLmF1dGgpIHtcbiAgICAgICAgdGhpcy5hdXRoID0gYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICB0eXBlOiBcInVuYXV0aGVudGljYXRlZFwiXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgYXV0aCA9IGNyZWF0ZVRva2VuQXV0aChvcHRpb25zLmF1dGgpO1xuICAgICAgICBob29rLndyYXAoXCJyZXF1ZXN0XCIsIGF1dGguaG9vayk7XG4gICAgICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgYXV0aFN0cmF0ZWd5LCAuLi5vdGhlck9wdGlvbnMgfSA9IG9wdGlvbnM7XG4gICAgICBjb25zdCBhdXRoID0gYXV0aFN0cmF0ZWd5KFxuICAgICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IHRoaXMucmVxdWVzdCxcbiAgICAgICAgICAgIGxvZzogdGhpcy5sb2csXG4gICAgICAgICAgICAvLyB3ZSBwYXNzIHRoZSBjdXJyZW50IG9jdG9raXQgaW5zdGFuY2UgYXMgd2VsbCBhcyBpdHMgY29uc3RydWN0b3Igb3B0aW9uc1xuICAgICAgICAgICAgLy8gdG8gYWxsb3cgZm9yIGF1dGhlbnRpY2F0aW9uIHN0cmF0ZWdpZXMgdGhhdCByZXR1cm4gYSBuZXcgb2N0b2tpdCBpbnN0YW5jZVxuICAgICAgICAgICAgLy8gdGhhdCBzaGFyZXMgdGhlIHNhbWUgaW50ZXJuYWwgc3RhdGUgYXMgdGhlIGN1cnJlbnQgb25lLiBUaGUgb3JpZ2luYWxcbiAgICAgICAgICAgIC8vIHJlcXVpcmVtZW50IGZvciB0aGlzIHdhcyB0aGUgXCJldmVudC1vY3Rva2l0XCIgYXV0aGVudGljYXRpb24gc3RyYXRlZ3lcbiAgICAgICAgICAgIC8vIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9ib3Qvb2N0b2tpdC1hdXRoLXByb2JvdC5cbiAgICAgICAgICAgIG9jdG9raXQ6IHRoaXMsXG4gICAgICAgICAgICBvY3Rva2l0T3B0aW9uczogb3RoZXJPcHRpb25zXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25zLmF1dGhcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIGhvb2sud3JhcChcInJlcXVlc3RcIiwgYXV0aC5ob29rKTtcbiAgICAgIHRoaXMuYXV0aCA9IGF1dGg7XG4gICAgfVxuICAgIGNvbnN0IGNsYXNzQ29uc3RydWN0b3IgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgIGNsYXNzQ29uc3RydWN0b3IucGx1Z2lucy5mb3JFYWNoKChwbHVnaW4pID0+IHtcbiAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgcGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcbiAgICB9KTtcbiAgfVxufTtcbk9jdG9raXQuVkVSU0lPTiA9IFZFUlNJT047XG5PY3Rva2l0LnBsdWdpbnMgPSBbXTtcbmV4cG9ydCB7XG4gIE9jdG9raXRcbn07XG4iLCAiLyohXG4gKiBpcy1wbGFpbi1vYmplY3QgPGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2lzLXBsYWluLW9iamVjdD5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNywgSm9uIFNjaGxpbmtlcnQuXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cblxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvKSB7XG4gIHZhciBjdG9yLHByb3Q7XG5cbiAgaWYgKGlzT2JqZWN0KG8pID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIGhhcyBtb2RpZmllZCBjb25zdHJ1Y3RvclxuICBjdG9yID0gby5jb25zdHJ1Y3RvcjtcbiAgaWYgKGN0b3IgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG5cbiAgLy8gSWYgaGFzIG1vZGlmaWVkIHByb3RvdHlwZVxuICBwcm90ID0gY3Rvci5wcm90b3R5cGU7XG4gIGlmIChpc09iamVjdChwcm90KSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiBjb25zdHJ1Y3RvciBkb2VzIG5vdCBoYXZlIGFuIE9iamVjdC1zcGVjaWZpYyBtZXRob2RcbiAgaWYgKHByb3QuaGFzT3duUHJvcGVydHkoJ2lzUHJvdG90eXBlT2YnKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBNb3N0IGxpa2VseSBhIHBsYWluIE9iamVjdFxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IHsgaXNQbGFpbk9iamVjdCB9O1xuIiwgImV4cG9ydCBmdW5jdGlvbiBsb3dlcmNhc2VLZXlzKG9iamVjdCkge1xuICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdCkucmVkdWNlKChuZXdPYmosIGtleSkgPT4ge1xuICAgICAgICBuZXdPYmpba2V5LnRvTG93ZXJDYXNlKCldID0gb2JqZWN0W2tleV07XG4gICAgICAgIHJldHVybiBuZXdPYmo7XG4gICAgfSwge30pO1xufVxuIiwgImltcG9ydCB7IGlzUGxhaW5PYmplY3QgfSBmcm9tIFwiaXMtcGxhaW4tb2JqZWN0XCI7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VEZWVwKGRlZmF1bHRzLCBvcHRpb25zKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMpO1xuICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBpZiAoaXNQbGFpbk9iamVjdChvcHRpb25zW2tleV0pKSB7XG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gZGVmYXVsdHMpKVxuICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LCB7IFtrZXldOiBvcHRpb25zW2tleV0gfSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZURlZXAoZGVmYXVsdHNba2V5XSwgb3B0aW9uc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LCB7IFtrZXldOiBvcHRpb25zW2tleV0gfSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiByZW1vdmVVbmRlZmluZWRQcm9wZXJ0aWVzKG9iaikge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgICAgICBpZiAob2JqW2tleV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGVsZXRlIG9ialtrZXldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG4iLCAiaW1wb3J0IHsgbG93ZXJjYXNlS2V5cyB9IGZyb20gXCIuL3V0aWwvbG93ZXJjYXNlLWtleXNcIjtcbmltcG9ydCB7IG1lcmdlRGVlcCB9IGZyb20gXCIuL3V0aWwvbWVyZ2UtZGVlcFwiO1xuaW1wb3J0IHsgcmVtb3ZlVW5kZWZpbmVkUHJvcGVydGllcyB9IGZyb20gXCIuL3V0aWwvcmVtb3ZlLXVuZGVmaW5lZC1wcm9wZXJ0aWVzXCI7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoZGVmYXVsdHMsIHJvdXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiByb3V0ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICBsZXQgW21ldGhvZCwgdXJsXSA9IHJvdXRlLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odXJsID8geyBtZXRob2QsIHVybCB9IDogeyB1cmw6IG1ldGhvZCB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCByb3V0ZSk7XG4gICAgfVxuICAgIC8vIGxvd2VyY2FzZSBoZWFkZXIgbmFtZXMgYmVmb3JlIG1lcmdpbmcgd2l0aCBkZWZhdWx0cyB0byBhdm9pZCBkdXBsaWNhdGVzXG4gICAgb3B0aW9ucy5oZWFkZXJzID0gbG93ZXJjYXNlS2V5cyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIC8vIHJlbW92ZSBwcm9wZXJ0aWVzIHdpdGggdW5kZWZpbmVkIHZhbHVlcyBiZWZvcmUgbWVyZ2luZ1xuICAgIHJlbW92ZVVuZGVmaW5lZFByb3BlcnRpZXMob3B0aW9ucyk7XG4gICAgcmVtb3ZlVW5kZWZpbmVkUHJvcGVydGllcyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIGNvbnN0IG1lcmdlZE9wdGlvbnMgPSBtZXJnZURlZXAoZGVmYXVsdHMgfHwge30sIG9wdGlvbnMpO1xuICAgIC8vIG1lZGlhVHlwZS5wcmV2aWV3cyBhcnJheXMgYXJlIG1lcmdlZCwgaW5zdGVhZCBvZiBvdmVyd3JpdHRlblxuICAgIGlmIChkZWZhdWx0cyAmJiBkZWZhdWx0cy5tZWRpYVR5cGUucHJldmlld3MubGVuZ3RoKSB7XG4gICAgICAgIG1lcmdlZE9wdGlvbnMubWVkaWFUeXBlLnByZXZpZXdzID0gZGVmYXVsdHMubWVkaWFUeXBlLnByZXZpZXdzXG4gICAgICAgICAgICAuZmlsdGVyKChwcmV2aWV3KSA9PiAhbWVyZ2VkT3B0aW9ucy5tZWRpYVR5cGUucHJldmlld3MuaW5jbHVkZXMocHJldmlldykpXG4gICAgICAgICAgICAuY29uY2F0KG1lcmdlZE9wdGlvbnMubWVkaWFUeXBlLnByZXZpZXdzKTtcbiAgICB9XG4gICAgbWVyZ2VkT3B0aW9ucy5tZWRpYVR5cGUucHJldmlld3MgPSBtZXJnZWRPcHRpb25zLm1lZGlhVHlwZS5wcmV2aWV3cy5tYXAoKHByZXZpZXcpID0+IHByZXZpZXcucmVwbGFjZSgvLXByZXZpZXcvLCBcIlwiKSk7XG4gICAgcmV0dXJuIG1lcmdlZE9wdGlvbnM7XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGFkZFF1ZXJ5UGFyYW1ldGVycyh1cmwsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCBzZXBhcmF0b3IgPSAvXFw/Ly50ZXN0KHVybCkgPyBcIiZcIiA6IFwiP1wiO1xuICAgIGNvbnN0IG5hbWVzID0gT2JqZWN0LmtleXMocGFyYW1ldGVycyk7XG4gICAgaWYgKG5hbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH1cbiAgICByZXR1cm4gKHVybCArXG4gICAgICAgIHNlcGFyYXRvciArXG4gICAgICAgIG5hbWVzXG4gICAgICAgICAgICAubWFwKChuYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gXCJxXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKFwicT1cIiArIHBhcmFtZXRlcnMucS5zcGxpdChcIitcIikubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIitcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGAke25hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtZXRlcnNbbmFtZV0pfWA7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuam9pbihcIiZcIikpO1xufVxuIiwgImNvbnN0IHVybFZhcmlhYmxlUmVnZXggPSAvXFx7W159XStcXH0vZztcbmZ1bmN0aW9uIHJlbW92ZU5vbkNoYXJzKHZhcmlhYmxlTmFtZSkge1xuICAgIHJldHVybiB2YXJpYWJsZU5hbWUucmVwbGFjZSgvXlxcVyt8XFxXKyQvZywgXCJcIikuc3BsaXQoLywvKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0VXJsVmFyaWFibGVOYW1lcyh1cmwpIHtcbiAgICBjb25zdCBtYXRjaGVzID0gdXJsLm1hdGNoKHVybFZhcmlhYmxlUmVnZXgpO1xuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBtYXRjaGVzLm1hcChyZW1vdmVOb25DaGFycykucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSwgW10pO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBvbWl0KG9iamVjdCwga2V5c1RvT21pdCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpXG4gICAgICAgIC5maWx0ZXIoKG9wdGlvbikgPT4gIWtleXNUb09taXQuaW5jbHVkZXMob3B0aW9uKSlcbiAgICAgICAgLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcbiAgICAgICAgb2JqW2tleV0gPSBvYmplY3Rba2V5XTtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9LCB7fSk7XG59XG4iLCAiLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2JyYW1zdGVpbi91cmwtdGVtcGxhdGUsIGxpY2Vuc2VkIHVuZGVyIEJTRFxuLy8gVE9ETzogY3JlYXRlIHNlcGFyYXRlIHBhY2thZ2UuXG4vL1xuLy8gQ29weXJpZ2h0IChjKSAyMDEyLTIwMTQsIEJyYW0gU3RlaW5cbi8vIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXRcbi8vIG1vZGlmaWNhdGlvbiwgYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uc1xuLy8gYXJlIG1ldDpcbi8vICAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodFxuLy8gICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbi8vICAyLiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodFxuLy8gICAgIG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGVcbi8vICAgICBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuLy8gIDMuIFRoZSBuYW1lIG9mIHRoZSBhdXRob3IgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0c1xuLy8gICAgIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlIHdpdGhvdXQgc3BlY2lmaWMgcHJpb3Igd3JpdHRlbiBwZXJtaXNzaW9uLlxuLy8gVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQVVUSE9SIFwiQVMgSVNcIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRFxuLy8gV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVEIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PXG4vLyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIE9XTkVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsXG4vLyBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORyxcbi8vIEJVVCBOT1QgTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsXG4vLyBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZXG4vLyBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElOR1xuLy8gTkVHTElHRU5DRSBPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLFxuLy8gRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbi8qIGlzdGFuYnVsIGlnbm9yZSBmaWxlICovXG5mdW5jdGlvbiBlbmNvZGVSZXNlcnZlZChzdHIpIHtcbiAgICByZXR1cm4gc3RyXG4gICAgICAgIC5zcGxpdCgvKCVbMC05QS1GYS1mXXsyfSkvZylcbiAgICAgICAgLm1hcChmdW5jdGlvbiAocGFydCkge1xuICAgICAgICBpZiAoIS8lWzAtOUEtRmEtZl0vLnRlc3QocGFydCkpIHtcbiAgICAgICAgICAgIHBhcnQgPSBlbmNvZGVVUkkocGFydCkucmVwbGFjZSgvJTVCL2csIFwiW1wiKS5yZXBsYWNlKC8lNUQvZywgXCJdXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJ0O1xuICAgIH0pXG4gICAgICAgIC5qb2luKFwiXCIpO1xufVxuZnVuY3Rpb24gZW5jb2RlVW5yZXNlcnZlZChzdHIpIHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCkqXS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICByZXR1cm4gXCIlXCIgKyBjLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBlbmNvZGVWYWx1ZShvcGVyYXRvciwgdmFsdWUsIGtleSkge1xuICAgIHZhbHVlID1cbiAgICAgICAgb3BlcmF0b3IgPT09IFwiK1wiIHx8IG9wZXJhdG9yID09PSBcIiNcIlxuICAgICAgICAgICAgPyBlbmNvZGVSZXNlcnZlZCh2YWx1ZSlcbiAgICAgICAgICAgIDogZW5jb2RlVW5yZXNlcnZlZCh2YWx1ZSk7XG4gICAgaWYgKGtleSkge1xuICAgICAgICByZXR1cm4gZW5jb2RlVW5yZXNlcnZlZChrZXkpICsgXCI9XCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIGlzS2V5T3BlcmF0b3Iob3BlcmF0b3IpIHtcbiAgICByZXR1cm4gb3BlcmF0b3IgPT09IFwiO1wiIHx8IG9wZXJhdG9yID09PSBcIiZcIiB8fCBvcGVyYXRvciA9PT0gXCI/XCI7XG59XG5mdW5jdGlvbiBnZXRWYWx1ZXMoY29udGV4dCwgb3BlcmF0b3IsIGtleSwgbW9kaWZpZXIpIHtcbiAgICB2YXIgdmFsdWUgPSBjb250ZXh0W2tleV0sIHJlc3VsdCA9IFtdO1xuICAgIGlmIChpc0RlZmluZWQodmFsdWUpICYmIHZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHxcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiB8fFxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVyICYmIG1vZGlmaWVyICE9PSBcIipcIikge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUuc3Vic3RyaW5nKDAsIHBhcnNlSW50KG1vZGlmaWVyLCAxMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goZW5jb2RlVmFsdWUob3BlcmF0b3IsIHZhbHVlLCBpc0tleU9wZXJhdG9yKG9wZXJhdG9yKSA/IGtleSA6IFwiXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChtb2RpZmllciA9PT0gXCIqXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUuZmlsdGVyKGlzRGVmaW5lZCkuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGVuY29kZVZhbHVlKG9wZXJhdG9yLCB2YWx1ZSwgaXNLZXlPcGVyYXRvcihvcGVyYXRvcikgPyBrZXkgOiBcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZmluZWQodmFsdWVba10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZW5jb2RlVmFsdWUob3BlcmF0b3IsIHZhbHVlW2tdLCBrKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRtcCA9IFtdO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS5maWx0ZXIoaXNEZWZpbmVkKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnB1c2goZW5jb2RlVmFsdWUob3BlcmF0b3IsIHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModmFsdWUpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZmluZWQodmFsdWVba10pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnB1c2goZW5jb2RlVW5yZXNlcnZlZChrKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG1wLnB1c2goZW5jb2RlVmFsdWUob3BlcmF0b3IsIHZhbHVlW2tdLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpc0tleU9wZXJhdG9yKG9wZXJhdG9yKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChlbmNvZGVVbnJlc2VydmVkKGtleSkgKyBcIj1cIiArIHRtcC5qb2luKFwiLFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRtcC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godG1wLmpvaW4oXCIsXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChvcGVyYXRvciA9PT0gXCI7XCIpIHtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZW5jb2RlVW5yZXNlcnZlZChrZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gXCJcIiAmJiAob3BlcmF0b3IgPT09IFwiJlwiIHx8IG9wZXJhdG9yID09PSBcIj9cIikpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGVuY29kZVVucmVzZXJ2ZWQoa2V5KSArIFwiPVwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goXCJcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVybCh0ZW1wbGF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGV4cGFuZDogZXhwYW5kLmJpbmQobnVsbCwgdGVtcGxhdGUpLFxuICAgIH07XG59XG5mdW5jdGlvbiBleHBhbmQodGVtcGxhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgb3BlcmF0b3JzID0gW1wiK1wiLCBcIiNcIiwgXCIuXCIsIFwiL1wiLCBcIjtcIiwgXCI/XCIsIFwiJlwiXTtcbiAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZSgvXFx7KFteXFx7XFx9XSspXFx9fChbXlxce1xcfV0rKS9nLCBmdW5jdGlvbiAoXywgZXhwcmVzc2lvbiwgbGl0ZXJhbCkge1xuICAgICAgICBpZiAoZXhwcmVzc2lvbikge1xuICAgICAgICAgICAgbGV0IG9wZXJhdG9yID0gXCJcIjtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgaWYgKG9wZXJhdG9ycy5pbmRleE9mKGV4cHJlc3Npb24uY2hhckF0KDApKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBvcGVyYXRvciA9IGV4cHJlc3Npb24uY2hhckF0KDApO1xuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBleHByZXNzaW9uLnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cHJlc3Npb24uc3BsaXQoLywvZykuZm9yRWFjaChmdW5jdGlvbiAodmFyaWFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG1wID0gLyhbXjpcXCpdKikoPzo6KFxcZCspfChcXCopKT8vLmV4ZWModmFyaWFibGUpO1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGdldFZhbHVlcyhjb250ZXh0LCBvcGVyYXRvciwgdG1wWzFdLCB0bXBbMl0gfHwgdG1wWzNdKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChvcGVyYXRvciAmJiBvcGVyYXRvciAhPT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VwYXJhdG9yID0gXCIsXCI7XG4gICAgICAgICAgICAgICAgaWYgKG9wZXJhdG9yID09PSBcIj9cIikge1xuICAgICAgICAgICAgICAgICAgICBzZXBhcmF0b3IgPSBcIiZcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAob3BlcmF0b3IgIT09IFwiI1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlcGFyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKHZhbHVlcy5sZW5ndGggIT09IDAgPyBvcGVyYXRvciA6IFwiXCIpICsgdmFsdWVzLmpvaW4oc2VwYXJhdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXMuam9pbihcIixcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlUmVzZXJ2ZWQobGl0ZXJhbCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiIsICJpbXBvcnQgeyBhZGRRdWVyeVBhcmFtZXRlcnMgfSBmcm9tIFwiLi91dGlsL2FkZC1xdWVyeS1wYXJhbWV0ZXJzXCI7XG5pbXBvcnQgeyBleHRyYWN0VXJsVmFyaWFibGVOYW1lcyB9IGZyb20gXCIuL3V0aWwvZXh0cmFjdC11cmwtdmFyaWFibGUtbmFtZXNcIjtcbmltcG9ydCB7IG9taXQgfSBmcm9tIFwiLi91dGlsL29taXRcIjtcbmltcG9ydCB7IHBhcnNlVXJsIH0gZnJvbSBcIi4vdXRpbC91cmwtdGVtcGxhdGVcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZShvcHRpb25zKSB7XG4gICAgLy8gaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI21ldGhvZHNcbiAgICBsZXQgbWV0aG9kID0gb3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICAvLyByZXBsYWNlIDp2YXJuYW1lIHdpdGgge3Zhcm5hbWV9IHRvIG1ha2UgaXQgUkZDIDY1NzAgY29tcGF0aWJsZVxuICAgIGxldCB1cmwgPSAob3B0aW9ucy51cmwgfHwgXCIvXCIpLnJlcGxhY2UoLzooW2Etel1cXHcrKS9nLCBcInskMX1cIik7XG4gICAgbGV0IGhlYWRlcnMgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLmhlYWRlcnMpO1xuICAgIGxldCBib2R5O1xuICAgIGxldCBwYXJhbWV0ZXJzID0gb21pdChvcHRpb25zLCBbXG4gICAgICAgIFwibWV0aG9kXCIsXG4gICAgICAgIFwiYmFzZVVybFwiLFxuICAgICAgICBcInVybFwiLFxuICAgICAgICBcImhlYWRlcnNcIixcbiAgICAgICAgXCJyZXF1ZXN0XCIsXG4gICAgICAgIFwibWVkaWFUeXBlXCIsXG4gICAgXSk7XG4gICAgLy8gZXh0cmFjdCB2YXJpYWJsZSBuYW1lcyBmcm9tIFVSTCB0byBjYWxjdWxhdGUgcmVtYWluaW5nIHZhcmlhYmxlcyBsYXRlclxuICAgIGNvbnN0IHVybFZhcmlhYmxlTmFtZXMgPSBleHRyYWN0VXJsVmFyaWFibGVOYW1lcyh1cmwpO1xuICAgIHVybCA9IHBhcnNlVXJsKHVybCkuZXhwYW5kKHBhcmFtZXRlcnMpO1xuICAgIGlmICghL15odHRwLy50ZXN0KHVybCkpIHtcbiAgICAgICAgdXJsID0gb3B0aW9ucy5iYXNlVXJsICsgdXJsO1xuICAgIH1cbiAgICBjb25zdCBvbWl0dGVkUGFyYW1ldGVycyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpXG4gICAgICAgIC5maWx0ZXIoKG9wdGlvbikgPT4gdXJsVmFyaWFibGVOYW1lcy5pbmNsdWRlcyhvcHRpb24pKVxuICAgICAgICAuY29uY2F0KFwiYmFzZVVybFwiKTtcbiAgICBjb25zdCByZW1haW5pbmdQYXJhbWV0ZXJzID0gb21pdChwYXJhbWV0ZXJzLCBvbWl0dGVkUGFyYW1ldGVycyk7XG4gICAgY29uc3QgaXNCaW5hcnlSZXF1ZXN0ID0gL2FwcGxpY2F0aW9uXFwvb2N0ZXQtc3RyZWFtL2kudGVzdChoZWFkZXJzLmFjY2VwdCk7XG4gICAgaWYgKCFpc0JpbmFyeVJlcXVlc3QpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMubWVkaWFUeXBlLmZvcm1hdCkge1xuICAgICAgICAgICAgLy8gZS5nLiBhcHBsaWNhdGlvbi92bmQuZ2l0aHViLnYzK2pzb24gPT4gYXBwbGljYXRpb24vdm5kLmdpdGh1Yi52My5yYXdcbiAgICAgICAgICAgIGhlYWRlcnMuYWNjZXB0ID0gaGVhZGVycy5hY2NlcHRcbiAgICAgICAgICAgICAgICAuc3BsaXQoLywvKVxuICAgICAgICAgICAgICAgIC5tYXAoKHByZXZpZXcpID0+IHByZXZpZXcucmVwbGFjZSgvYXBwbGljYXRpb25cXC92bmQoXFwuXFx3KykoXFwudjMpPyhcXC5cXHcrKT8oXFwranNvbik/JC8sIGBhcHBsaWNhdGlvbi92bmQkMSQyLiR7b3B0aW9ucy5tZWRpYVR5cGUuZm9ybWF0fWApKVxuICAgICAgICAgICAgICAgIC5qb2luKFwiLFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5tZWRpYVR5cGUucHJldmlld3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aWV3c0Zyb21BY2NlcHRIZWFkZXIgPSBoZWFkZXJzLmFjY2VwdC5tYXRjaCgvW1xcdy1dKyg/PS1wcmV2aWV3KS9nKSB8fCBbXTtcbiAgICAgICAgICAgIGhlYWRlcnMuYWNjZXB0ID0gcHJldmlld3NGcm9tQWNjZXB0SGVhZGVyXG4gICAgICAgICAgICAgICAgLmNvbmNhdChvcHRpb25zLm1lZGlhVHlwZS5wcmV2aWV3cylcbiAgICAgICAgICAgICAgICAubWFwKChwcmV2aWV3KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0ID0gb3B0aW9ucy5tZWRpYVR5cGUuZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgID8gYC4ke29wdGlvbnMubWVkaWFUeXBlLmZvcm1hdH1gXG4gICAgICAgICAgICAgICAgICAgIDogXCIranNvblwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBgYXBwbGljYXRpb24vdm5kLmdpdGh1Yi4ke3ByZXZpZXd9LXByZXZpZXcke2Zvcm1hdH1gO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuam9pbihcIixcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZm9yIEdFVC9IRUFEIHJlcXVlc3RzLCBzZXQgVVJMIHF1ZXJ5IHBhcmFtZXRlcnMgZnJvbSByZW1haW5pbmcgcGFyYW1ldGVyc1xuICAgIC8vIGZvciBQQVRDSC9QT1NUL1BVVC9ERUxFVEUgcmVxdWVzdHMsIHNldCByZXF1ZXN0IGJvZHkgZnJvbSByZW1haW5pbmcgcGFyYW1ldGVyc1xuICAgIGlmIChbXCJHRVRcIiwgXCJIRUFEXCJdLmluY2x1ZGVzKG1ldGhvZCkpIHtcbiAgICAgICAgdXJsID0gYWRkUXVlcnlQYXJhbWV0ZXJzKHVybCwgcmVtYWluaW5nUGFyYW1ldGVycyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoXCJkYXRhXCIgaW4gcmVtYWluaW5nUGFyYW1ldGVycykge1xuICAgICAgICAgICAgYm9keSA9IHJlbWFpbmluZ1BhcmFtZXRlcnMuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhyZW1haW5pbmdQYXJhbWV0ZXJzKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBib2R5ID0gcmVtYWluaW5nUGFyYW1ldGVycztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBkZWZhdWx0IGNvbnRlbnQtdHlwZSBmb3IgSlNPTiBpZiBib2R5IGlzIHNldFxuICAgIGlmICghaGVhZGVyc1tcImNvbnRlbnQtdHlwZVwiXSAmJiB0eXBlb2YgYm9keSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBoZWFkZXJzW1wiY29udGVudC10eXBlXCJdID0gXCJhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04XCI7XG4gICAgfVxuICAgIC8vIEdpdEh1YiBleHBlY3RzICdjb250ZW50LWxlbmd0aDogMCcgaGVhZGVyIGZvciBQVVQvUEFUQ0ggcmVxdWVzdHMgd2l0aG91dCBib2R5LlxuICAgIC8vIGZldGNoIGRvZXMgbm90IGFsbG93IHRvIHNldCBgY29udGVudC1sZW5ndGhgIGhlYWRlciwgYnV0IHdlIGNhbiBzZXQgYm9keSB0byBhbiBlbXB0eSBzdHJpbmdcbiAgICBpZiAoW1wiUEFUQ0hcIiwgXCJQVVRcIl0uaW5jbHVkZXMobWV0aG9kKSAmJiB0eXBlb2YgYm9keSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBib2R5ID0gXCJcIjtcbiAgICB9XG4gICAgLy8gT25seSByZXR1cm4gYm9keS9yZXF1ZXN0IGtleXMgaWYgcHJlc2VudFxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHsgbWV0aG9kLCB1cmwsIGhlYWRlcnMgfSwgdHlwZW9mIGJvZHkgIT09IFwidW5kZWZpbmVkXCIgPyB7IGJvZHkgfSA6IG51bGwsIG9wdGlvbnMucmVxdWVzdCA/IHsgcmVxdWVzdDogb3B0aW9ucy5yZXF1ZXN0IH0gOiBudWxsKTtcbn1cbiIsICJpbXBvcnQgeyBtZXJnZSB9IGZyb20gXCIuL21lcmdlXCI7XG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCIuL3BhcnNlXCI7XG5leHBvcnQgZnVuY3Rpb24gZW5kcG9pbnRXaXRoRGVmYXVsdHMoZGVmYXVsdHMsIHJvdXRlLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHBhcnNlKG1lcmdlKGRlZmF1bHRzLCByb3V0ZSwgb3B0aW9ucykpO1xufVxuIiwgImltcG9ydCB7IGVuZHBvaW50V2l0aERlZmF1bHRzIH0gZnJvbSBcIi4vZW5kcG9pbnQtd2l0aC1kZWZhdWx0c1wiO1xuaW1wb3J0IHsgbWVyZ2UgfSBmcm9tIFwiLi9tZXJnZVwiO1xuaW1wb3J0IHsgcGFyc2UgfSBmcm9tIFwiLi9wYXJzZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhEZWZhdWx0cyhvbGREZWZhdWx0cywgbmV3RGVmYXVsdHMpIHtcbiAgICBjb25zdCBERUZBVUxUUyA9IG1lcmdlKG9sZERlZmF1bHRzLCBuZXdEZWZhdWx0cyk7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBlbmRwb2ludFdpdGhEZWZhdWx0cy5iaW5kKG51bGwsIERFRkFVTFRTKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihlbmRwb2ludCwge1xuICAgICAgICBERUZBVUxUUyxcbiAgICAgICAgZGVmYXVsdHM6IHdpdGhEZWZhdWx0cy5iaW5kKG51bGwsIERFRkFVTFRTKSxcbiAgICAgICAgbWVyZ2U6IG1lcmdlLmJpbmQobnVsbCwgREVGQVVMVFMpLFxuICAgICAgICBwYXJzZSxcbiAgICB9KTtcbn1cbiIsICJleHBvcnQgY29uc3QgVkVSU0lPTiA9IFwiNy4wLjVcIjtcbiIsICJpbXBvcnQgeyBnZXRVc2VyQWdlbnQgfSBmcm9tIFwidW5pdmVyc2FsLXVzZXItYWdlbnRcIjtcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi92ZXJzaW9uXCI7XG5jb25zdCB1c2VyQWdlbnQgPSBgb2N0b2tpdC1lbmRwb2ludC5qcy8ke1ZFUlNJT059ICR7Z2V0VXNlckFnZW50KCl9YDtcbi8vIERFRkFVTFRTIGhhcyBhbGwgcHJvcGVydGllcyBzZXQgdGhhdCBFbmRwb2ludE9wdGlvbnMgaGFzLCBleGNlcHQgdXJsLlxuLy8gU28gd2UgdXNlIFJlcXVlc3RQYXJhbWV0ZXJzIGFuZCBhZGQgbWV0aG9kIGFzIGFkZGl0aW9uYWwgcmVxdWlyZWQgcHJvcGVydHkuXG5leHBvcnQgY29uc3QgREVGQVVMVFMgPSB7XG4gICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbVwiLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYWNjZXB0OiBcImFwcGxpY2F0aW9uL3ZuZC5naXRodWIudjMranNvblwiLFxuICAgICAgICBcInVzZXItYWdlbnRcIjogdXNlckFnZW50LFxuICAgIH0sXG4gICAgbWVkaWFUeXBlOiB7XG4gICAgICAgIGZvcm1hdDogXCJcIixcbiAgICAgICAgcHJldmlld3M6IFtdLFxuICAgIH0sXG59O1xuIiwgImltcG9ydCB7IHdpdGhEZWZhdWx0cyB9IGZyb20gXCIuL3dpdGgtZGVmYXVsdHNcIjtcbmltcG9ydCB7IERFRkFVTFRTIH0gZnJvbSBcIi4vZGVmYXVsdHNcIjtcbmV4cG9ydCBjb25zdCBlbmRwb2ludCA9IHdpdGhEZWZhdWx0cyhudWxsLCBERUZBVUxUUyk7XG4iLCAiLy8gcGtnL2Rpc3Qtc3JjL2luZGV4LmpzXG5pbXBvcnQgeyBlbmRwb2ludCB9IGZyb20gXCJAb2N0b2tpdC9lbmRwb2ludFwiO1xuaW1wb3J0IHsgZ2V0VXNlckFnZW50IH0gZnJvbSBcInVuaXZlcnNhbC11c2VyLWFnZW50XCI7XG5cbi8vIHBrZy9kaXN0LXNyYy92ZXJzaW9uLmpzXG52YXIgVkVSU0lPTiA9IFwiNi4yLjVcIjtcblxuLy8gcGtnL2Rpc3Qtc3JjL2ZldGNoLXdyYXBwZXIuanNcbmltcG9ydCB7IGlzUGxhaW5PYmplY3QgfSBmcm9tIFwiaXMtcGxhaW4tb2JqZWN0XCI7XG5pbXBvcnQgbm9kZUZldGNoIGZyb20gXCJub2RlLWZldGNoXCI7XG5pbXBvcnQgeyBSZXF1ZXN0RXJyb3IgfSBmcm9tIFwiQG9jdG9raXQvcmVxdWVzdC1lcnJvclwiO1xuXG4vLyBwa2cvZGlzdC1zcmMvZ2V0LWJ1ZmZlci1yZXNwb25zZS5qc1xuZnVuY3Rpb24gZ2V0QnVmZmVyUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgcmV0dXJuIHJlc3BvbnNlLmFycmF5QnVmZmVyKCk7XG59XG5cbi8vIHBrZy9kaXN0LXNyYy9mZXRjaC13cmFwcGVyLmpzXG5mdW5jdGlvbiBmZXRjaFdyYXBwZXIocmVxdWVzdE9wdGlvbnMpIHtcbiAgY29uc3QgbG9nID0gcmVxdWVzdE9wdGlvbnMucmVxdWVzdCAmJiByZXF1ZXN0T3B0aW9ucy5yZXF1ZXN0LmxvZyA/IHJlcXVlc3RPcHRpb25zLnJlcXVlc3QubG9nIDogY29uc29sZTtcbiAgaWYgKGlzUGxhaW5PYmplY3QocmVxdWVzdE9wdGlvbnMuYm9keSkgfHwgQXJyYXkuaXNBcnJheShyZXF1ZXN0T3B0aW9ucy5ib2R5KSkge1xuICAgIHJlcXVlc3RPcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShyZXF1ZXN0T3B0aW9ucy5ib2R5KTtcbiAgfVxuICBsZXQgaGVhZGVycyA9IHt9O1xuICBsZXQgc3RhdHVzO1xuICBsZXQgdXJsO1xuICBjb25zdCBmZXRjaCA9IHJlcXVlc3RPcHRpb25zLnJlcXVlc3QgJiYgcmVxdWVzdE9wdGlvbnMucmVxdWVzdC5mZXRjaCB8fCBnbG9iYWxUaGlzLmZldGNoIHx8IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIG5vZGVGZXRjaDtcbiAgcmV0dXJuIGZldGNoKFxuICAgIHJlcXVlc3RPcHRpb25zLnVybCxcbiAgICBPYmplY3QuYXNzaWduKFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IHJlcXVlc3RPcHRpb25zLm1ldGhvZCxcbiAgICAgICAgYm9keTogcmVxdWVzdE9wdGlvbnMuYm9keSxcbiAgICAgICAgaGVhZGVyczogcmVxdWVzdE9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgcmVkaXJlY3Q6IHJlcXVlc3RPcHRpb25zLnJlZGlyZWN0LFxuICAgICAgICAvLyBkdXBsZXggbXVzdCBiZSBzZXQgaWYgcmVxdWVzdC5ib2R5IGlzIFJlYWRhYmxlU3RyZWFtIG9yIEFzeW5jIEl0ZXJhYmxlcy5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZmV0Y2guc3BlYy53aGF0d2cub3JnLyNkb20tcmVxdWVzdGluaXQtZHVwbGV4LlxuICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucy5ib2R5ICYmIHsgZHVwbGV4OiBcImhhbGZcIiB9XG4gICAgICB9LFxuICAgICAgLy8gYHJlcXVlc3RPcHRpb25zLnJlcXVlc3QuYWdlbnRgIHR5cGUgaXMgaW5jb21wYXRpYmxlXG4gICAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL29jdG9raXQvdHlwZXMudHMvcHVsbC8yNjRcbiAgICAgIHJlcXVlc3RPcHRpb25zLnJlcXVlc3RcbiAgICApXG4gICkudGhlbihhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICB1cmwgPSByZXNwb25zZS51cmw7XG4gICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgIGZvciAoY29uc3Qga2V5QW5kVmFsdWUgb2YgcmVzcG9uc2UuaGVhZGVycykge1xuICAgICAgaGVhZGVyc1trZXlBbmRWYWx1ZVswXV0gPSBrZXlBbmRWYWx1ZVsxXTtcbiAgICB9XG4gICAgaWYgKFwiZGVwcmVjYXRpb25cIiBpbiBoZWFkZXJzKSB7XG4gICAgICBjb25zdCBtYXRjaGVzID0gaGVhZGVycy5saW5rICYmIGhlYWRlcnMubGluay5tYXRjaCgvPChbXj5dKyk+OyByZWw9XCJkZXByZWNhdGlvblwiLyk7XG4gICAgICBjb25zdCBkZXByZWNhdGlvbkxpbmsgPSBtYXRjaGVzICYmIG1hdGNoZXMucG9wKCk7XG4gICAgICBsb2cud2FybihcbiAgICAgICAgYFtAb2N0b2tpdC9yZXF1ZXN0XSBcIiR7cmVxdWVzdE9wdGlvbnMubWV0aG9kfSAke3JlcXVlc3RPcHRpb25zLnVybH1cIiBpcyBkZXByZWNhdGVkLiBJdCBpcyBzY2hlZHVsZWQgdG8gYmUgcmVtb3ZlZCBvbiAke2hlYWRlcnMuc3Vuc2V0fSR7ZGVwcmVjYXRpb25MaW5rID8gYC4gU2VlICR7ZGVwcmVjYXRpb25MaW5rfWAgOiBcIlwifWBcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDIwNCB8fCBzdGF0dXMgPT09IDIwNSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdE9wdGlvbnMubWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgaWYgKHN0YXR1cyA8IDQwMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgUmVxdWVzdEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQsIHN0YXR1cywge1xuICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgIHVybCxcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBkYXRhOiB2b2lkIDBcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdE9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSAzMDQpIHtcbiAgICAgIHRocm93IG5ldyBSZXF1ZXN0RXJyb3IoXCJOb3QgbW9kaWZpZWRcIiwgc3RhdHVzLCB7XG4gICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIGRhdGE6IGF3YWl0IGdldFJlc3BvbnNlRGF0YShyZXNwb25zZSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWVzdDogcmVxdWVzdE9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID49IDQwMCkge1xuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldFJlc3BvbnNlRGF0YShyZXNwb25zZSk7XG4gICAgICBjb25zdCBlcnJvciA9IG5ldyBSZXF1ZXN0RXJyb3IodG9FcnJvck1lc3NhZ2UoZGF0YSksIHN0YXR1cywge1xuICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgIHVybCxcbiAgICAgICAgICBzdGF0dXMsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBkYXRhXG4gICAgICAgIH0sXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RPcHRpb25zXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICByZXR1cm4gZ2V0UmVzcG9uc2VEYXRhKHJlc3BvbnNlKTtcbiAgfSkudGhlbigoZGF0YSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXMsXG4gICAgICB1cmwsXG4gICAgICBoZWFkZXJzLFxuICAgICAgZGF0YVxuICAgIH07XG4gIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFJlcXVlc3RFcnJvcilcbiAgICAgIHRocm93IGVycm9yO1xuICAgIGVsc2UgaWYgKGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKVxuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgdGhyb3cgbmV3IFJlcXVlc3RFcnJvcihlcnJvci5tZXNzYWdlLCA1MDAsIHtcbiAgICAgIHJlcXVlc3Q6IHJlcXVlc3RPcHRpb25zXG4gICAgfSk7XG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0UmVzcG9uc2VEYXRhKHJlc3BvbnNlKSB7XG4gIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIik7XG4gIGlmICgvYXBwbGljYXRpb25cXC9qc29uLy50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gIH1cbiAgaWYgKCFjb250ZW50VHlwZSB8fCAvXnRleHRcXC98Y2hhcnNldD11dGYtOCQvLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnRleHQoKTtcbiAgfVxuICByZXR1cm4gZ2V0QnVmZmVyUmVzcG9uc2UocmVzcG9uc2UpO1xufVxuZnVuY3Rpb24gdG9FcnJvck1lc3NhZ2UoZGF0YSkge1xuICBpZiAodHlwZW9mIGRhdGEgPT09IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIGRhdGE7XG4gIGlmIChcIm1lc3NhZ2VcIiBpbiBkYXRhKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5lcnJvcnMpKSB7XG4gICAgICByZXR1cm4gYCR7ZGF0YS5tZXNzYWdlfTogJHtkYXRhLmVycm9ycy5tYXAoSlNPTi5zdHJpbmdpZnkpLmpvaW4oXCIsIFwiKX1gO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YS5tZXNzYWdlO1xuICB9XG4gIHJldHVybiBgVW5rbm93biBlcnJvcjogJHtKU09OLnN0cmluZ2lmeShkYXRhKX1gO1xufVxuXG4vLyBwa2cvZGlzdC1zcmMvd2l0aC1kZWZhdWx0cy5qc1xuZnVuY3Rpb24gd2l0aERlZmF1bHRzKG9sZEVuZHBvaW50LCBuZXdEZWZhdWx0cykge1xuICBjb25zdCBlbmRwb2ludDIgPSBvbGRFbmRwb2ludC5kZWZhdWx0cyhuZXdEZWZhdWx0cyk7XG4gIGNvbnN0IG5ld0FwaSA9IGZ1bmN0aW9uKHJvdXRlLCBwYXJhbWV0ZXJzKSB7XG4gICAgY29uc3QgZW5kcG9pbnRPcHRpb25zID0gZW5kcG9pbnQyLm1lcmdlKHJvdXRlLCBwYXJhbWV0ZXJzKTtcbiAgICBpZiAoIWVuZHBvaW50T3B0aW9ucy5yZXF1ZXN0IHx8ICFlbmRwb2ludE9wdGlvbnMucmVxdWVzdC5ob29rKSB7XG4gICAgICByZXR1cm4gZmV0Y2hXcmFwcGVyKGVuZHBvaW50Mi5wYXJzZShlbmRwb2ludE9wdGlvbnMpKTtcbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdDIgPSAocm91dGUyLCBwYXJhbWV0ZXJzMikgPT4ge1xuICAgICAgcmV0dXJuIGZldGNoV3JhcHBlcihcbiAgICAgICAgZW5kcG9pbnQyLnBhcnNlKGVuZHBvaW50Mi5tZXJnZShyb3V0ZTIsIHBhcmFtZXRlcnMyKSlcbiAgICAgICk7XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKHJlcXVlc3QyLCB7XG4gICAgICBlbmRwb2ludDogZW5kcG9pbnQyLFxuICAgICAgZGVmYXVsdHM6IHdpdGhEZWZhdWx0cy5iaW5kKG51bGwsIGVuZHBvaW50MilcbiAgICB9KTtcbiAgICByZXR1cm4gZW5kcG9pbnRPcHRpb25zLnJlcXVlc3QuaG9vayhyZXF1ZXN0MiwgZW5kcG9pbnRPcHRpb25zKTtcbiAgfTtcbiAgcmV0dXJuIE9iamVjdC5hc3NpZ24obmV3QXBpLCB7XG4gICAgZW5kcG9pbnQ6IGVuZHBvaW50MixcbiAgICBkZWZhdWx0czogd2l0aERlZmF1bHRzLmJpbmQobnVsbCwgZW5kcG9pbnQyKVxuICB9KTtcbn1cblxuLy8gcGtnL2Rpc3Qtc3JjL2luZGV4LmpzXG52YXIgcmVxdWVzdCA9IHdpdGhEZWZhdWx0cyhlbmRwb2ludCwge1xuICBoZWFkZXJzOiB7XG4gICAgXCJ1c2VyLWFnZW50XCI6IGBvY3Rva2l0LXJlcXVlc3QuanMvJHtWRVJTSU9OfSAke2dldFVzZXJBZ2VudCgpfWBcbiAgfVxufSk7XG5leHBvcnQge1xuICByZXF1ZXN0XG59O1xuIiwgImNsYXNzIERlcHJlY2F0aW9uIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgc3VwZXIobWVzc2FnZSk7IC8vIE1haW50YWlucyBwcm9wZXIgc3RhY2sgdHJhY2UgKG9ubHkgYXZhaWxhYmxlIG9uIFY4KVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cblxuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgfVxuXG4gICAgdGhpcy5uYW1lID0gJ0RlcHJlY2F0aW9uJztcbiAgfVxuXG59XG5cbmV4cG9ydCB7IERlcHJlY2F0aW9uIH07XG4iLCAiaW1wb3J0IHsgRGVwcmVjYXRpb24gfSBmcm9tIFwiZGVwcmVjYXRpb25cIjtcbmltcG9ydCBvbmNlIGZyb20gXCJvbmNlXCI7XG5jb25zdCBsb2dPbmNlQ29kZSA9IG9uY2UoKGRlcHJlY2F0aW9uKSA9PiBjb25zb2xlLndhcm4oZGVwcmVjYXRpb24pKTtcbmNvbnN0IGxvZ09uY2VIZWFkZXJzID0gb25jZSgoZGVwcmVjYXRpb24pID0+IGNvbnNvbGUud2FybihkZXByZWNhdGlvbikpO1xuLyoqXG4gKiBFcnJvciB3aXRoIGV4dHJhIHByb3BlcnRpZXMgdG8gaGVscCB3aXRoIGRlYnVnZ2luZ1xuICovXG5leHBvcnQgY2xhc3MgUmVxdWVzdEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1c0NvZGUsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIC8vIE1haW50YWlucyBwcm9wZXIgc3RhY2sgdHJhY2UgKG9ubHkgYXZhaWxhYmxlIG9uIFY4KVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHRoaXMuY29uc3RydWN0b3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSHR0cEVycm9yXCI7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzQ29kZTtcbiAgICAgICAgbGV0IGhlYWRlcnM7XG4gICAgICAgIGlmIChcImhlYWRlcnNcIiBpbiBvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zLmhlYWRlcnMgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwicmVzcG9uc2VcIiBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNlID0gb3B0aW9ucy5yZXNwb25zZTtcbiAgICAgICAgICAgIGhlYWRlcnMgPSBvcHRpb25zLnJlc3BvbnNlLmhlYWRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVkYWN0IHJlcXVlc3QgY3JlZGVudGlhbHMgd2l0aG91dCBtdXRhdGluZyBvcmlnaW5hbCByZXF1ZXN0IG9wdGlvbnNcbiAgICAgICAgY29uc3QgcmVxdWVzdENvcHkgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zLnJlcXVlc3QpO1xuICAgICAgICBpZiAob3B0aW9ucy5yZXF1ZXN0LmhlYWRlcnMuYXV0aG9yaXphdGlvbikge1xuICAgICAgICAgICAgcmVxdWVzdENvcHkuaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMucmVxdWVzdC5oZWFkZXJzLCB7XG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogb3B0aW9ucy5yZXF1ZXN0LmhlYWRlcnMuYXV0aG9yaXphdGlvbi5yZXBsYWNlKC8gLiokLywgXCIgW1JFREFDVEVEXVwiKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlcXVlc3RDb3B5LnVybCA9IHJlcXVlc3RDb3B5LnVybFxuICAgICAgICAgICAgLy8gY2xpZW50X2lkICYgY2xpZW50X3NlY3JldCBjYW4gYmUgcGFzc2VkIGFzIFVSTCBxdWVyeSBwYXJhbWV0ZXJzIHRvIGluY3JlYXNlIHJhdGUgbGltaXRcbiAgICAgICAgICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5naXRodWIuY29tL3YzLyNpbmNyZWFzaW5nLXRoZS11bmF1dGhlbnRpY2F0ZWQtcmF0ZS1saW1pdC1mb3Itb2F1dGgtYXBwbGljYXRpb25zXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxiY2xpZW50X3NlY3JldD1cXHcrL2csIFwiY2xpZW50X3NlY3JldD1bUkVEQUNURURdXCIpXG4gICAgICAgICAgICAvLyBPQXV0aCB0b2tlbnMgY2FuIGJlIHBhc3NlZCBhcyBVUkwgcXVlcnkgcGFyYW1ldGVycywgYWx0aG91Z2ggaXQgaXMgbm90IHJlY29tbWVuZGVkXG4gICAgICAgICAgICAvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuZ2l0aHViLmNvbS92My8jb2F1dGgyLXRva2VuLXNlbnQtaW4tYS1oZWFkZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXGJhY2Nlc3NfdG9rZW49XFx3Ky9nLCBcImFjY2Vzc190b2tlbj1bUkVEQUNURURdXCIpO1xuICAgICAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0Q29weTtcbiAgICAgICAgLy8gZGVwcmVjYXRpb25zXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvZGVcIiwge1xuICAgICAgICAgICAgZ2V0KCkge1xuICAgICAgICAgICAgICAgIGxvZ09uY2VDb2RlKG5ldyBEZXByZWNhdGlvbihcIltAb2N0b2tpdC9yZXF1ZXN0LWVycm9yXSBgZXJyb3IuY29kZWAgaXMgZGVwcmVjYXRlZCwgdXNlIGBlcnJvci5zdGF0dXNgLlwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1c0NvZGU7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiaGVhZGVyc1wiLCB7XG4gICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgbG9nT25jZUhlYWRlcnMobmV3IERlcHJlY2F0aW9uKFwiW0BvY3Rva2l0L3JlcXVlc3QtZXJyb3JdIGBlcnJvci5oZWFkZXJzYCBpcyBkZXByZWNhdGVkLCB1c2UgYGVycm9yLnJlc3BvbnNlLmhlYWRlcnNgLlwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnMgfHwge307XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCAiLy8gcGtnL2Rpc3Qtc3JjL2luZGV4LmpzXG5pbXBvcnQgeyByZXF1ZXN0IH0gZnJvbSBcIkBvY3Rva2l0L3JlcXVlc3RcIjtcbmltcG9ydCB7IGdldFVzZXJBZ2VudCB9IGZyb20gXCJ1bml2ZXJzYWwtdXNlci1hZ2VudFwiO1xuXG4vLyBwa2cvZGlzdC1zcmMvdmVyc2lvbi5qc1xudmFyIFZFUlNJT04gPSBcIjUuMC42XCI7XG5cbi8vIHBrZy9kaXN0LXNyYy9lcnJvci5qc1xuZnVuY3Rpb24gX2J1aWxkTWVzc2FnZUZvclJlc3BvbnNlRXJyb3JzKGRhdGEpIHtcbiAgcmV0dXJuIGBSZXF1ZXN0IGZhaWxlZCBkdWUgdG8gZm9sbG93aW5nIHJlc3BvbnNlIGVycm9yczpcbmAgKyBkYXRhLmVycm9ycy5tYXAoKGUpID0+IGAgLSAke2UubWVzc2FnZX1gKS5qb2luKFwiXFxuXCIpO1xufVxudmFyIEdyYXBocWxSZXNwb25zZUVycm9yID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHJlcXVlc3QyLCBoZWFkZXJzLCByZXNwb25zZSkge1xuICAgIHN1cGVyKF9idWlsZE1lc3NhZ2VGb3JSZXNwb25zZUVycm9ycyhyZXNwb25zZSkpO1xuICAgIHRoaXMucmVxdWVzdCA9IHJlcXVlc3QyO1xuICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMubmFtZSA9IFwiR3JhcGhxbFJlc3BvbnNlRXJyb3JcIjtcbiAgICB0aGlzLmVycm9ycyA9IHJlc3BvbnNlLmVycm9ycztcbiAgICB0aGlzLmRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gICAgfVxuICB9XG59O1xuXG4vLyBwa2cvZGlzdC1zcmMvZ3JhcGhxbC5qc1xudmFyIE5PTl9WQVJJQUJMRV9PUFRJT05TID0gW1xuICBcIm1ldGhvZFwiLFxuICBcImJhc2VVcmxcIixcbiAgXCJ1cmxcIixcbiAgXCJoZWFkZXJzXCIsXG4gIFwicmVxdWVzdFwiLFxuICBcInF1ZXJ5XCIsXG4gIFwibWVkaWFUeXBlXCJcbl07XG52YXIgRk9SQklEREVOX1ZBUklBQkxFX09QVElPTlMgPSBbXCJxdWVyeVwiLCBcIm1ldGhvZFwiLCBcInVybFwiXTtcbnZhciBHSEVTX1YzX1NVRkZJWF9SRUdFWCA9IC9cXC9hcGlcXC92M1xcLz8kLztcbmZ1bmN0aW9uIGdyYXBocWwocmVxdWVzdDIsIHF1ZXJ5LCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zKSB7XG4gICAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gXCJzdHJpbmdcIiAmJiBcInF1ZXJ5XCIgaW4gb3B0aW9ucykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBuZXcgRXJyb3IoYFtAb2N0b2tpdC9ncmFwaHFsXSBcInF1ZXJ5XCIgY2Fubm90IGJlIHVzZWQgYXMgdmFyaWFibGUgbmFtZWApXG4gICAgICApO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAoIUZPUkJJRERFTl9WQVJJQUJMRV9PUFRJT05TLmluY2x1ZGVzKGtleSkpXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICBuZXcgRXJyb3IoYFtAb2N0b2tpdC9ncmFwaHFsXSBcIiR7a2V5fVwiIGNhbm5vdCBiZSB1c2VkIGFzIHZhcmlhYmxlIG5hbWVgKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgcGFyc2VkT3B0aW9ucyA9IHR5cGVvZiBxdWVyeSA9PT0gXCJzdHJpbmdcIiA/IE9iamVjdC5hc3NpZ24oeyBxdWVyeSB9LCBvcHRpb25zKSA6IHF1ZXJ5O1xuICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5rZXlzKFxuICAgIHBhcnNlZE9wdGlvbnNcbiAgKS5yZWR1Y2UoKHJlc3VsdCwga2V5KSA9PiB7XG4gICAgaWYgKE5PTl9WQVJJQUJMRV9PUFRJT05TLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgIHJlc3VsdFtrZXldID0gcGFyc2VkT3B0aW9uc1trZXldO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaWYgKCFyZXN1bHQudmFyaWFibGVzKSB7XG4gICAgICByZXN1bHQudmFyaWFibGVzID0ge307XG4gICAgfVxuICAgIHJlc3VsdC52YXJpYWJsZXNba2V5XSA9IHBhcnNlZE9wdGlvbnNba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG4gIGNvbnN0IGJhc2VVcmwgPSBwYXJzZWRPcHRpb25zLmJhc2VVcmwgfHwgcmVxdWVzdDIuZW5kcG9pbnQuREVGQVVMVFMuYmFzZVVybDtcbiAgaWYgKEdIRVNfVjNfU1VGRklYX1JFR0VYLnRlc3QoYmFzZVVybCkpIHtcbiAgICByZXF1ZXN0T3B0aW9ucy51cmwgPSBiYXNlVXJsLnJlcGxhY2UoR0hFU19WM19TVUZGSVhfUkVHRVgsIFwiL2FwaS9ncmFwaHFsXCIpO1xuICB9XG4gIHJldHVybiByZXF1ZXN0MihyZXF1ZXN0T3B0aW9ucykudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICBpZiAocmVzcG9uc2UuZGF0YS5lcnJvcnMpIHtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHJlc3BvbnNlLmhlYWRlcnMpKSB7XG4gICAgICAgIGhlYWRlcnNba2V5XSA9IHJlc3BvbnNlLmhlYWRlcnNba2V5XTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBHcmFwaHFsUmVzcG9uc2VFcnJvcihcbiAgICAgICAgcmVxdWVzdE9wdGlvbnMsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlLmRhdGFcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGE7XG4gIH0pO1xufVxuXG4vLyBwa2cvZGlzdC1zcmMvd2l0aC1kZWZhdWx0cy5qc1xuZnVuY3Rpb24gd2l0aERlZmF1bHRzKHJlcXVlc3QyLCBuZXdEZWZhdWx0cykge1xuICBjb25zdCBuZXdSZXF1ZXN0ID0gcmVxdWVzdDIuZGVmYXVsdHMobmV3RGVmYXVsdHMpO1xuICBjb25zdCBuZXdBcGkgPSAocXVlcnksIG9wdGlvbnMpID0+IHtcbiAgICByZXR1cm4gZ3JhcGhxbChuZXdSZXF1ZXN0LCBxdWVyeSwgb3B0aW9ucyk7XG4gIH07XG4gIHJldHVybiBPYmplY3QuYXNzaWduKG5ld0FwaSwge1xuICAgIGRlZmF1bHRzOiB3aXRoRGVmYXVsdHMuYmluZChudWxsLCBuZXdSZXF1ZXN0KSxcbiAgICBlbmRwb2ludDogbmV3UmVxdWVzdC5lbmRwb2ludFxuICB9KTtcbn1cblxuLy8gcGtnL2Rpc3Qtc3JjL2luZGV4LmpzXG52YXIgZ3JhcGhxbDIgPSB3aXRoRGVmYXVsdHMocmVxdWVzdCwge1xuICBoZWFkZXJzOiB7XG4gICAgXCJ1c2VyLWFnZW50XCI6IGBvY3Rva2l0LWdyYXBocWwuanMvJHtWRVJTSU9OfSAke2dldFVzZXJBZ2VudCgpfWBcbiAgfSxcbiAgbWV0aG9kOiBcIlBPU1RcIixcbiAgdXJsOiBcIi9ncmFwaHFsXCJcbn0pO1xuZnVuY3Rpb24gd2l0aEN1c3RvbVJlcXVlc3QoY3VzdG9tUmVxdWVzdCkge1xuICByZXR1cm4gd2l0aERlZmF1bHRzKGN1c3RvbVJlcXVlc3QsIHtcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgIHVybDogXCIvZ3JhcGhxbFwiXG4gIH0pO1xufVxuZXhwb3J0IHtcbiAgR3JhcGhxbFJlc3BvbnNlRXJyb3IsXG4gIGdyYXBocWwyIGFzIGdyYXBocWwsXG4gIHdpdGhDdXN0b21SZXF1ZXN0XG59O1xuIiwgImNvbnN0IFJFR0VYX0lTX0lOU1RBTExBVElPTl9MRUdBQ1kgPSAvXnYxXFwuLztcbmNvbnN0IFJFR0VYX0lTX0lOU1RBTExBVElPTiA9IC9eZ2hzXy87XG5jb25zdCBSRUdFWF9JU19VU0VSX1RPX1NFUlZFUiA9IC9eZ2h1Xy87XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXV0aCh0b2tlbikge1xuICAgIGNvbnN0IGlzQXBwID0gdG9rZW4uc3BsaXQoL1xcLi8pLmxlbmd0aCA9PT0gMztcbiAgICBjb25zdCBpc0luc3RhbGxhdGlvbiA9IFJFR0VYX0lTX0lOU1RBTExBVElPTl9MRUdBQ1kudGVzdCh0b2tlbikgfHxcbiAgICAgICAgUkVHRVhfSVNfSU5TVEFMTEFUSU9OLnRlc3QodG9rZW4pO1xuICAgIGNvbnN0IGlzVXNlclRvU2VydmVyID0gUkVHRVhfSVNfVVNFUl9UT19TRVJWRVIudGVzdCh0b2tlbik7XG4gICAgY29uc3QgdG9rZW5UeXBlID0gaXNBcHBcbiAgICAgICAgPyBcImFwcFwiXG4gICAgICAgIDogaXNJbnN0YWxsYXRpb25cbiAgICAgICAgICAgID8gXCJpbnN0YWxsYXRpb25cIlxuICAgICAgICAgICAgOiBpc1VzZXJUb1NlcnZlclxuICAgICAgICAgICAgICAgID8gXCJ1c2VyLXRvLXNlcnZlclwiXG4gICAgICAgICAgICAgICAgOiBcIm9hdXRoXCI7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJ0b2tlblwiLFxuICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgIHRva2VuVHlwZSxcbiAgICB9O1xufVxuIiwgIi8qKlxuICogUHJlZml4IHRva2VuIGZvciB1c2FnZSBpbiB0aGUgQXV0aG9yaXphdGlvbiBoZWFkZXJcbiAqXG4gKiBAcGFyYW0gdG9rZW4gT0F1dGggdG9rZW4gb3IgSlNPTiBXZWIgVG9rZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhBdXRob3JpemF0aW9uUHJlZml4KHRva2VuKSB7XG4gICAgaWYgKHRva2VuLnNwbGl0KC9cXC4vKS5sZW5ndGggPT09IDMpIHtcbiAgICAgICAgcmV0dXJuIGBiZWFyZXIgJHt0b2tlbn1gO1xuICAgIH1cbiAgICByZXR1cm4gYHRva2VuICR7dG9rZW59YDtcbn1cbiIsICJpbXBvcnQgeyB3aXRoQXV0aG9yaXphdGlvblByZWZpeCB9IGZyb20gXCIuL3dpdGgtYXV0aG9yaXphdGlvbi1wcmVmaXhcIjtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBob29rKHRva2VuLCByZXF1ZXN0LCByb3V0ZSwgcGFyYW1ldGVycykge1xuICAgIGNvbnN0IGVuZHBvaW50ID0gcmVxdWVzdC5lbmRwb2ludC5tZXJnZShyb3V0ZSwgcGFyYW1ldGVycyk7XG4gICAgZW5kcG9pbnQuaGVhZGVycy5hdXRob3JpemF0aW9uID0gd2l0aEF1dGhvcml6YXRpb25QcmVmaXgodG9rZW4pO1xuICAgIHJldHVybiByZXF1ZXN0KGVuZHBvaW50KTtcbn1cbiIsICJpbXBvcnQgeyBhdXRoIH0gZnJvbSBcIi4vYXV0aFwiO1xuaW1wb3J0IHsgaG9vayB9IGZyb20gXCIuL2hvb2tcIjtcbmV4cG9ydCBjb25zdCBjcmVhdGVUb2tlbkF1dGggPSBmdW5jdGlvbiBjcmVhdGVUb2tlbkF1dGgodG9rZW4pIHtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIltAb2N0b2tpdC9hdXRoLXRva2VuXSBObyB0b2tlbiBwYXNzZWQgdG8gY3JlYXRlVG9rZW5BdXRoXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRva2VuICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIltAb2N0b2tpdC9hdXRoLXRva2VuXSBUb2tlbiBwYXNzZWQgdG8gY3JlYXRlVG9rZW5BdXRoIGlzIG5vdCBhIHN0cmluZ1wiKTtcbiAgICB9XG4gICAgdG9rZW4gPSB0b2tlbi5yZXBsYWNlKC9eKHRva2VufGJlYXJlcikgKy9pLCBcIlwiKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihhdXRoLmJpbmQobnVsbCwgdG9rZW4pLCB7XG4gICAgICAgIGhvb2s6IGhvb2suYmluZChudWxsLCB0b2tlbiksXG4gICAgfSk7XG59O1xuIiwgImltcG9ydCB7TGFiZWwsIFJlcG9JdGVtfSBmcm9tIFwiLi4vQVBJL0FwaUhhbmRsZXJcIjtcblxuLyoqXG4gKiBJc3N1ZSBjbGFzc1xuICovXG5leHBvcnQgY2xhc3MgSXNzdWUge1xuXHRudW1iZXI6IG51bWJlcjtcblx0dGl0bGU6IHN0cmluZztcblx0ZGVzY3JpcHRpb246IHN0cmluZztcblx0YXV0aG9yOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cdGNyZWF0ZWRfYXQ6IHN0cmluZztcblx0bGFiZWxzOiBMYWJlbFtdID0gW107XG4gICAgcmVwbzogUmVwb0l0ZW0gfCB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IodGl0bGU6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgYXV0aG9yOiBzdHJpbmcsIG51bWJlcjogbnVtYmVyLCBjcmVhdGVkX2F0OiBzdHJpbmcsbGFiZWxzOiBMYWJlbFtdLCByZXBvPzogUmVwb0l0ZW0pIHtcblx0XHR0aGlzLnRpdGxlID0gdGl0bGU7XG5cdFx0dGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuXHRcdHRoaXMuYXV0aG9yID0gYXV0aG9yO1xuXHRcdHRoaXMubnVtYmVyID0gbnVtYmVyO1xuXHRcdHRoaXMuY3JlYXRlZF9hdCA9IGNyZWF0ZWRfYXQ7XG4gICAgICAgIHRoaXMucmVwbyA9IHJlcG87XG5cdFx0dGhpcy5sYWJlbHMgPSBsYWJlbHM7XG5cdH1cbn1cblxuLyoqXG4gKiBJc3N1ZSBjbGFzcyBmb3IgQ1NWXG4gKi9cbmV4cG9ydCBjbGFzcyBDU1ZJc3N1ZSBleHRlbmRzIElzc3VlIHtcbiAgICBjb25zdHJ1Y3Rvcihjc3Y6IHN0cmluZywgcmVwbzogUmVwb0l0ZW0pe1xuICAgICAgICBzdXBlcihcIlwiLCBcIlwiLCBcIlwiLCAwLCBcIlwiLCBbXSwgcmVwbyk7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gY3N2LnNwbGl0KCcsJyk7XG4gICAgICAgIHRoaXMubnVtYmVyID0gcGFyc2VJbnQoc3BsaXRbMF0pO1xuICAgICAgICB0aGlzLnRpdGxlID0gc3BsaXRbMV07XG4gICAgICAgIHRoaXMuYXV0aG9yID0gc3BsaXRbMl07XG4gICAgICAgIHRoaXMuY3JlYXRlZF9hdCA9IHNwbGl0WzNdO1xuXHRcdHRoaXMubGFiZWxzID0gc3BsaXRbNF0uc3BsaXQoJzsnKS5tYXAoKGxhYmVsOiBzdHJpbmcpID0+IHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdG5hbWU6IGxhYmVsLnNwbGl0KCcjJylbMF0sXG5cdFx0XHRcdGNvbG9yOiBsYWJlbC5zcGxpdCgnIycpWzFdXG5cdFx0XHR9IGFzIExhYmVsXG5cdFx0fSk7XG4gICAgfVxufVxuIiwgIi8qKlxuICogUGFyc2VzIHRoZSBnaXZlbiBkYXRlIHN0cmluZyBpbnRvIGEgaHVtYW4gcmVhZGFibGUgZGF0ZVxuICogQHBhcmFtIGRhdGVTdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUh1bWFuRGF0ZShkYXRlU3RyaW5nOiBzdHJpbmcpe1xuXHRjb25zdCBkYXRlID0gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG5cdHJldHVybiBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh1bmRlZmluZWQgKTtcbn1cblxuLyoqXG4gKiBQYXJzZXMgYSByZXBvIHVybCBpbnRvIG93bmVyIGFuZCByZXBvXG4gKiBAcGFyYW0gdXJsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJlcG9VcmwodXJsOiBzdHJpbmcpOiB7b3duZXI6IHN0cmluZywgcmVwbzogc3RyaW5nfSB7XG5cdGNvbnN0IHNwbGl0ID0gdXJsLnNwbGl0KCcvJyk7XG5cdHJldHVybiB7XG5cdFx0b3duZXI6IHNwbGl0WzNdLFxuXHRcdHJlcG86IHNwbGl0WzRdLnJlcGxhY2UoXCIuZ2l0XCIsIFwiXCIpXG5cdH1cbn1cblxuLyoqXG4gKiBWZXJmaXlzIHRoYXQgdGhlIGdpdmVuIHVybCBpcyBhbiBhY3R1YWwgdmFsaWQgdXJsXG4gKiBAcGFyYW0gdXJsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2ZXJpZnlVUkwodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcblx0dHJ5IHtcblx0XHRuZXcgVVJMKHVybCk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gY2F0Y2ggKF8pIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cbi8qXG4gKiBQYXJzZXMgdGhlIGdpdmVuIGRhdGUgc3RyaW5nIGludG8gYSBodW1hbiByZWFkYWJsZSBkZWx0YSBlLmcuIDEgZGF5LCAyIGhvdXJzLCA1IG1pbiBhZ28gb3IgYSBodW1hbiByZWFkYWJsZSBkYXRlIGlmIHRoZSBkYXRlIGlzIG9sZGVyIHRoYW4gMSB3ZWVrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXN0ZWFibGVUaW1lRGVsdGEoZGF0ZVN0cmluZzogc3RyaW5nKXtcblx0Y29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuXHRjb25zdCBkZWx0YSA9IG5vdy5nZXRUaW1lKCkgLSBkYXRlLmdldFRpbWUoKTtcblx0Y29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IoZGVsdGEgLyAxMDAwKTtcblx0Y29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTtcblx0Y29uc3QgaG91cnMgPSBNYXRoLmZsb29yKG1pbnV0ZXMgLyA2MCk7XG5cdGNvbnN0IGRheXMgPSBNYXRoLmZsb29yKGhvdXJzIC8gMjQpO1xuXHRjb25zdCB3ZWVrcyA9IE1hdGguZmxvb3IoZGF5cyAvIDcpO1xuXHRpZiAod2Vla3MgPiAwKSB7XG5cdFx0cmV0dXJuIFwib24gXCIgKyBkYXRlLnRvTG9jYWxlRGF0ZVN0cmluZyh1bmRlZmluZWQgKTtcblx0fSBlbHNlIGlmIChkYXlzID4gMCkge1xuXHRcdHJldHVybiBgJHtkYXlzfSBkYXlzIGFnb2A7XG5cdH0gZWxzZSBpZiAoaG91cnMgPiAwKSB7XG5cdFx0cmV0dXJuIGAke2hvdXJzfSBob3VycyBhZ29gO1xuXHR9IGVsc2UgaWYgKG1pbnV0ZXMgPiAwKSB7XG5cdFx0cmV0dXJuIGAke21pbnV0ZXN9IG1pbnV0ZXMgYWdvYDtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gYCR7c2Vjb25kc30gc2Vjb25kcyBhZ29gO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgT2N0b2tpdCB9IGZyb20gXCJAb2N0b2tpdC9jb3JlXCI7XG5pbXBvcnQge0lzc3VlfSBmcm9tIFwiLi4vSXNzdWVzL0lzc3VlXCI7XG5pbXBvcnQge3BhcnNlUmVwb1VybH0gZnJvbSBcIi4uL1V0aWxzL1V0aWxzXCI7XG5pbXBvcnQge09jdG9raXRSZXNwb25zZX0gZnJvbSBcIkBvY3Rva2l0L3R5cGVzXCI7XG5pbXBvcnQge05vdGljZX0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cblxuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdGh1YiBhcGkgaXMgcmVhY2hhYmxlIHdpdGggdGhlIGdpdmVuIHRva2VuXG4gKiBAcGFyYW0gdG9rZW5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwaV9hdXRoZW50aWNhdGUodG9rZW46IHN0cmluZyk6IFByb21pc2U8T2N0b2tpdCB8IG51bGw+IHtcblx0Y29uc3Qgb2N0b2tpdCA9IG5ldyBPY3Rva2l0KHtcblx0XHRhdXRoOiB0b2tlblxuXHR9KTtcblxuXHRjb25zdCByZXM6IE9jdG9raXRSZXNwb25zZTxuZXZlcj4gPSBhd2FpdCBvY3Rva2l0LnJlcXVlc3QoXCJHRVQgL29jdG9jYXRcIiwge30pO1xuXHRjb25zb2xlLmxvZyhyZXMpXG5cdGlmIChyZXMuc3RhdHVzID09PSAyMDApIHtcblx0XHRyZXR1cm4gb2N0b2tpdDtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgYWxsIHRoZSByZXBvcyBvZiBhIHVzZXIgc3BlY2lmaWVkIGJ5IHRoZSB1c2VybmFtZVxuICogQHBhcmFtIG9jdG9raXRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwaV9nZXRfcmVwb3Mob2N0b2tpdDogT2N0b2tpdCkge1xuXHRjb25zdCByZXMgPSBhd2FpdCBvY3Rva2l0LnJlcXVlc3QoJ0dFVCAvdXNlci9yZXBvcycsIHtcblx0XHRoZWFkZXJzOiB7XG5cdFx0XHQnWC1HaXRIdWItQXBpLVZlcnNpb24nOiAnMjAyMi0xMS0yOCdcblx0XHR9XG5cdH0pXG5cdGNvbnNvbGUubG9nKHJlcy5kYXRhKTtcblx0Ly9yZXR1cm4gYW4gYXJyYXkgb2YgdGhlIHJlcG8gbmFtZXMgYW5kIGlkc1xuXHRyZXR1cm4gcmVzLmRhdGEubWFwKChyZXBvKSA9PiB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGlkOiByZXBvLmlkLFxuXHRcdFx0bmFtZTogcmVwby5uYW1lLFxuXHRcdFx0bGFuZ3VhZ2U6IHJlcG8ubGFuZ3VhZ2UsXG5cdFx0XHR1cGRhdGVkX2F0OiByZXBvLnVwZGF0ZWRfYXQsXG5cdFx0XHRvd25lcjogcmVwby5vd25lci5sb2dpblxuXHRcdH0gYXMgUmVwb0l0ZW1cblx0fVxuXHQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYWxsIHRoZSBsYWJlbHMgb2YgYSByZXBvIGFzIGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGVpciBuYW1lc1xuICogQHBhcmFtIG9jdG9raXRcbiAqIEBwYXJhbSByZXBvXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcGlfZ2V0X2xhYmVscyhvY3Rva2l0OiBPY3Rva2l0LCByZXBvOiBSZXBvSXRlbSk6IFByb21pc2U8YW55W10+e1xuXG5cdGNvbnN0IHJlcyA9IGF3YWl0IG9jdG9raXQucmVxdWVzdCgnR0VUIC9yZXBvcy97b3duZXJ9L3tyZXBvfS9sYWJlbHMnLCB7XG5cdFx0b3duZXI6IHJlcG8ub3duZXIsXG5cdFx0cmVwbzogcmVwby5uYW1lLFxuXHRcdGhlYWRlcnM6IHtcblx0XHRcdCdYLUdpdEh1Yi1BcGktVmVyc2lvbic6ICcyMDIyLTExLTI4J1xuXHRcdH1cblx0fSlcblxuXHRpZihyZXMuc3RhdHVzID09IDIwMCl7XG5cdFx0cmV0dXJuIHJlcy5kYXRhLm1hcCgobGFiZWwpID0+IHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRuYW1lOiBsYWJlbC5uYW1lLFxuXHRcdFx0XHRcdGNvbG9yOiBsYWJlbC5jb2xvclxuXHRcdFx0XHR9O1xuXHRcdH0pXG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG59XG5cbi8qKlxuICogU3VibWl0IGFuIGlzc3VlIHRvIGEgcmVwb1xuICogQHBhcmFtIG9jdG9raXRcbiAqIEBwYXJhbSByZXBvXG4gKiBAcGFyYW0gaXNzdWVcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGlzc3VlIHdhcyBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcGlfc3VibWl0X2lzc3VlKG9jdG9raXQ6IE9jdG9raXQsIHJlcG86IFJlcG9JdGVtLCBpc3N1ZTogU3VibWl0dGFibGVJc3N1ZSkge1xuXHRjb25zdCByZXMgPSBhd2FpdCBvY3Rva2l0LnJlcXVlc3QoJ1BPU1QgL3JlcG9zL3tvd25lcn0ve3JlcG99L2lzc3VlcycsIHtcblx0XHRvd25lcjogcmVwby5vd25lcixcblx0XHRyZXBvOiByZXBvLm5hbWUsXG5cdFx0dGl0bGU6IGlzc3VlLnRpdGxlLFxuXHRcdGJvZHk6IGlzc3VlLmRlc2NyaXB0aW9uLFxuXHRcdGFzc2lnbmVlczogW1xuXHRcdFx0cmVwby5vd25lclxuXHRcdF0sXG5cdFx0bGFiZWxzOiBpc3N1ZS5sYWJlbHMsXG5cdFx0aGVhZGVyczoge1xuXHRcdFx0J1gtR2l0SHViLUFwaS1WZXJzaW9uJzogJzIwMjItMTEtMjgnXG5cdFx0fVxuXHR9KVxuXG5cdHJldHVybiByZXMuc3RhdHVzID09IDIwMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFsbCB0aGUgaXNzdWVzIG9mIGEgcmVwbyBhcyBhbiBhcnJheSBvZiBJc3N1ZSBvYmplY3RzIG9mIGEgcmVwbyBzcGVjaWZpZWQgYnkgdGhlIHVybFxuICogQHBhcmFtIG9jdG9raXRcbiAqIEBwYXJhbSB1cmxcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwaV9nZXRfaXNzdWVzX2J5X3VybChvY3Rva2l0OiBPY3Rva2l0LCB1cmw6IHN0cmluZyk6IFByb21pc2U8SXNzdWVbXT4ge1xuXG5cdGNvbnN0IHtvd25lciwgcmVwb30gPSBwYXJzZVJlcG9VcmwodXJsKTtcblx0Y29uc3QgaXNzdWVzOiBJc3N1ZVtdID0gW107XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzID0gYXdhaXQgb2N0b2tpdC5yZXF1ZXN0KCdHRVQgL3JlcG9zL3tvd25lcn0ve3JlcG99L2lzc3VlcycsIHtcblx0XHRcdG93bmVyOiBvd25lcixcblx0XHRcdHJlcG86IHJlcG8sXG5cdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdCdYLUdpdEh1Yi1BcGktVmVyc2lvbic6ICcyMDIyLTExLTI4J1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRpZihyZXMuc3RhdHVzID09IDIwMCl7XG5cdFx0XHRmb3IgKGNvbnN0IGlzc3VlIG9mIHJlcy5kYXRhKSB7XG5cdFx0XHRcdGlzc3Vlcy5wdXNoKCBuZXcgSXNzdWUoXG5cdFx0XHRcdFx0aXNzdWUudGl0bGUsXG5cdFx0XHRcdFx0aXNzdWUuYm9keSA/PyBcIlwiLFxuXHRcdFx0XHRcdGlzc3VlLnVzZXI/LmxvZ2luID8/IFwiXCIsXG5cdFx0XHRcdFx0aXNzdWUubnVtYmVyLFxuXHRcdFx0XHRcdGlzc3VlLmNyZWF0ZWRfYXQsXG5cdFx0XHRcdFx0aXNzdWUubGFiZWxzLm1hcCgobGFiZWw6IGFueSkgPT4ge1xuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRuYW1lOiBsYWJlbC5uYW1lLFxuXHRcdFx0XHRcdFx0Y29sb3I6IGxhYmVsLmNvbG9yXG5cdFx0XHRcdFx0fSBhcyBMYWJlbCA/PyBbXTtcblx0XHRcdFx0fSkpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGlzc3Vlcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblxuXHR9IGNhdGNoIChlKSB7XG5cdFx0bmV3IE5vdGljZShcIkVycm9yIHdoaWxlIGZldGNoaW5nIGlzc3VlczogXCIgKyBlLm1lc3NhZ2UpO1xuXHRcdHJldHVybiBbXTtcblx0fVxuXG5cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFsbCB0aGUgaXNzdWVzIG9mIGEgcmVwbyBhcyBhbiBhcnJheSBvZiBJc3N1ZSBvYmplY3RzXG4gKiBAcGFyYW0gb2N0b2tpdFxuICogQHBhcmFtIHJlcG9cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwaV9nZXRfb3duX2lzc3VlcyhvY3Rva2l0OiBPY3Rva2l0LCByZXBvOiBSZXBvSXRlbSk6IFByb21pc2U8SXNzdWVbXT4ge1xuXHRjb25zdCBpc3N1ZXM6IElzc3VlW10gPSBbXTtcblx0Y29uc3QgcmVzID0gYXdhaXQgb2N0b2tpdC5yZXF1ZXN0KCdHRVQgL3JlcG9zL3tvd25lcn0ve3JlcG99L2lzc3VlcycsIHtcblx0XHRvd25lcjogcmVwby5vd25lcixcblx0XHRyZXBvOiByZXBvLm5hbWUsXG5cdFx0aGVhZGVyczoge1xuXHRcdFx0J1gtR2l0SHViLUFwaS1WZXJzaW9uJzogJzIwMjItMTEtMjgnXG5cdFx0fVxuXHR9KVxuXG5cdGlmKHJlcy5zdGF0dXMgPT0gMjAwKXtcblx0XHRmb3IgKGNvbnN0IGlzc3VlIG9mIHJlcy5kYXRhKSB7XG5cdFx0XHRpc3N1ZXMucHVzaCggbmV3IElzc3VlKFxuXHRcdFx0XHRpc3N1ZS50aXRsZSxcblx0XHRcdFx0aXNzdWUuYm9keSA/PyBcIlwiLFxuXHRcdFx0XHRpc3N1ZS51c2VyPy5sb2dpbiA/PyBcIlwiLFxuXHRcdFx0XHRpc3N1ZS5udW1iZXIsXG5cdFx0XHRcdGlzc3VlLmNyZWF0ZWRfYXQsXG5cdFx0XHRcdGlzc3VlLmxhYmVscy5tYXAoKGxhYmVsOiBhbnkpID0+IHtcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0bmFtZTogbGFiZWwubmFtZSxcblx0XHRcdFx0XHRcdGNvbG9yOiBsYWJlbC5jb2xvclxuXHRcdFx0XHRcdH0gYXMgTGFiZWwgPz8gW107XG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRyZXBvXG5cdFx0XHQpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaXNzdWVzO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBbXTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBpX2dldF9pc3N1ZXNfYnlfaWQob2N0b2tpdDogT2N0b2tpdCwgcmVwbzogUmVwb0l0ZW0sIGlzc3VlSURzOiBudW1iZXJbXSk6IFByb21pc2U8SXNzdWVbXT4ge1xuXHRjb25zdCBpc3MgPSBhd2FpdCBhcGlfZ2V0X293bl9pc3N1ZXMob2N0b2tpdCwgcmVwbyk7XG5cdC8vZmlsdGVyIHRoZSBpc3N1ZXMgdG8gb25seSBpbmNsdWRlIHRoZSBzcGVjaWZpZWQgb25lc1xuXHRyZXR1cm4gaXNzLmZpbHRlcihpc3N1ZSA9PiBpc3N1ZUlEcy5pbmNsdWRlcyhpc3N1ZS5udW1iZXIpKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwaV9nZXRfaXNzdWVfZGV0YWlscyhvY3Rva2l0OiBPY3Rva2l0LCBpc3N1ZTpJc3N1ZSl7XG5cdGlmIChpc3N1ZS5yZXBvID09IG51bGwpIHJldHVybjtcblxuXHRjb25zdCByZXMgPSBhd2FpdCBvY3Rva2l0LnJlcXVlc3QoJ0dFVCAvcmVwb3Mve293bmVyfS97cmVwb30vaXNzdWVzL3tpc3N1ZV9udW1iZXJ9Jywge1xuXHRcdG93bmVyOiBpc3N1ZS5yZXBvPy5vd25lcixcblx0XHRyZXBvOiBpc3N1ZS5yZXBvPy5uYW1lLFxuXHRcdGlzc3VlX251bWJlcjogaXNzdWUubnVtYmVyLFxuXHRcdGhlYWRlcnM6IHtcblx0XHRcdCdYLUdpdEh1Yi1BcGktVmVyc2lvbic6ICcyMDIyLTExLTI4J1xuXHRcdH1cblx0fSlcblxuXHRpZiAocmVzLnN0YXR1cyA9PSAyMDApIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0dGl0bGU6IHJlcy5kYXRhLnRpdGxlLFxuXHRcdFx0Ym9keTogcmVzLmRhdGEuYm9keSxcblx0XHRcdGxhYmVsczogcmVzLmRhdGEubGFiZWxzLm1hcCgobGFiZWw6IGFueSkgPT4ge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdG5hbWU6IGxhYmVsLm5hbWUgPz8gXCJcIixcblx0XHRcdFx0XHRjb2xvcjogbGFiZWwuY29sb3IgPz8gXCJcIlxuXHRcdFx0XHR9XG5cdFx0XHR9KSxcblx0XHRcdHN0YXRlOiByZXMuZGF0YS5zdGF0ZSxcblx0XHRcdHVwZGF0ZWRfYXQ6IHJlcy5kYXRhLnVwZGF0ZWRfYXQsXG5cdFx0XHRhc3NpZ25lZToge1xuXHRcdFx0XHRhdmF0YXJfdXJsOiByZXMuZGF0YS5hc3NpZ25lZT8uYXZhdGFyX3VybCxcblx0XHRcdFx0bG9naW46IHJlcy5kYXRhLmFzc2lnbmVlPy5sb2dpblxuXHRcdFx0fSBhcyBBc3NpZ25lZSxcblx0XHRcdGNvbW1lbnRzOiByZXMuZGF0YS5jb21tZW50c1xuXHRcdH0gYXMgUmVwb0RldGFpbHM7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFwaV9jb21tZW50X29uX2lzc3VlKG9jdG9raXQ6IE9jdG9raXQsIGlzc3VlOiBJc3N1ZSwgY29tbWVudDogc3RyaW5nKSB7XG5cdGlmIChpc3N1ZS5yZXBvID09IG51bGwpIHJldHVybjtcblx0Y29uc3QgcmVzID0gYXdhaXQgb2N0b2tpdC5yZXF1ZXN0KCdQT1NUIC9yZXBvcy97b3duZXJ9L3tyZXBvfS9pc3N1ZXMve2lzc3VlX251bWJlcn0vY29tbWVudHMnLCB7XG5cdFx0b3duZXI6IGlzc3VlLnJlcG8/Lm93bmVyLFxuXHRcdHJlcG86IGlzc3VlLnJlcG8/Lm5hbWUsXG5cdFx0aXNzdWVfbnVtYmVyOiBpc3N1ZS5udW1iZXIsXG5cdFx0Ym9keTogY29tbWVudCxcblx0XHRoZWFkZXJzOiB7XG5cdFx0XHQnWC1HaXRIdWItQXBpLVZlcnNpb24nOiAnMjAyMi0xMS0yOCdcblx0XHR9XG5cdH0pXG5cblx0cmV0dXJuIHJlcy5zdGF0dXMgPT0gMjAxO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgYW4gaXNzdWVcbiAqIEBwYXJhbSBvY3Rva2l0XG4gKiBAcGFyYW0gaXNzdWVcbiAqIEBwYXJhbSB0b0JlVXBkYXRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBpX3VwZGF0ZV9pc3N1ZShvY3Rva2l0OiBPY3Rva2l0LCBpc3N1ZTogSXNzdWUsIHRvQmVVcGRhdGVkOiBhbnkpIHtcblx0aWYgKGlzc3VlLnJlcG8gPT0gbnVsbCkgcmV0dXJuO1xuXG5cdGNvbnN0IG9wdGlvbnMgPSB7XG5cdFx0b3duZXI6IGlzc3VlLnJlcG8/Lm93bmVyLFxuXHRcdHJlcG86IGlzc3VlLnJlcG8/Lm5hbWUsXG5cdFx0aXNzdWVfbnVtYmVyOiBpc3N1ZS5udW1iZXIsXG5cdFx0aGVhZGVyczoge1xuXHRcdFx0J1gtR2l0SHViLUFwaS1WZXJzaW9uJzogJzIwMjItMTEtMjgnXG5cdFx0fVxuXHR9XG5cblx0Ly9hcHBlbmQgdGhlIHRvQmVVcGRhdGVkIG9iamVjdCB0byB0aGUgb3B0aW9ucyBvYmplY3Rcblx0T2JqZWN0LmFzc2lnbihvcHRpb25zLCB0b0JlVXBkYXRlZCk7XG5cblx0Y29uc3QgcmVzID0gYXdhaXQgb2N0b2tpdC5yZXF1ZXN0KCdQQVRDSCAvcmVwb3Mve293bmVyfS97cmVwb30vaXNzdWVzL3tpc3N1ZV9udW1iZXJ9Jywgb3B0aW9ucylcblx0cmV0dXJuIHJlcy5zdGF0dXMgPT0gMjAwO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBpX2dldF9pc3N1ZV9jb21tZW50cyhvY3Rva2l0OiBPY3Rva2l0LCBpc3N1ZTogSXNzdWUpIHtcblx0aWYgKGlzc3VlLnJlcG8gPT0gbnVsbCkgcmV0dXJuO1xuXHRjb25zdCByZXMgPSBhd2FpdCBvY3Rva2l0LnJlcXVlc3QoJ0dFVCAvcmVwb3Mve293bmVyfS97cmVwb30vaXNzdWVzL3tpc3N1ZV9udW1iZXJ9L2NvbW1lbnRzJywge1xuXHRcdG93bmVyOiAgaXNzdWUucmVwbz8ub3duZXIsXG5cdFx0cmVwbzogaXNzdWUucmVwbz8ubmFtZSxcblx0XHRpc3N1ZV9udW1iZXI6IGlzc3VlLm51bWJlcixcblx0XHRoZWFkZXJzOiB7XG5cdFx0XHQnWC1HaXRIdWItQXBpLVZlcnNpb24nOiAnMjAyMi0xMS0yOCdcblx0XHR9XG5cdH0pXG5cblx0aWYocmVzLnN0YXR1cyA9PSAyMDApe1xuXHRcdC8vcmV0dXJuIHRoZSBjb21tZW50cyBhcnJheSBhcyBSZXBvQ29tbWVudFtdXG5cdFx0cmV0dXJuIHJlcy5kYXRhLm1hcCgoY29tbWVudCkgPT4ge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Ym9keTogY29tbWVudC5ib2R5LFxuXHRcdFx0XHRsb2dpbjogY29tbWVudC51c2VyPy5sb2dpbiB8fCBcIlwiLFxuXHRcdFx0XHRhdmF0YXJfdXJsOiBjb21tZW50LnVzZXI/LmF2YXRhcl91cmwgfHwgXCJcIixcblx0XHRcdFx0Y3JlYXRlZF9hdDogY29tbWVudC5jcmVhdGVkX2F0LFxuXHRcdFx0XHR1cGRhdGVfYXQ6IGNvbW1lbnQudXBkYXRlZF9hdCxcblx0XHRcdFx0YXV0aG9yX2Fzc29jaWF0aW9uOiBjb21tZW50LmF1dGhvcl9hc3NvY2lhdGlvblxuXHRcdFx0fSBhcyBSZXBvQ29tbWVudDtcblx0XHR9KVxuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBbXTtcblx0fVxufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVwb0NvbW1lbnQge1xuXHRib2R5OiBzdHJpbmc7XG5cdGxvZ2luOiBzdHJpbmc7XG5cdGF2YXRhcl91cmw6IHN0cmluZztcblx0Y3JlYXRlZF9hdDogc3RyaW5nO1xuXHR1cGRhdGVfYXQ6IHN0cmluZztcblx0YXV0aG9yX2Fzc29jaWF0aW9uOiBzdHJpbmc7XG5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXBvSXRlbSB7XG5cdGlkOiBudW1iZXI7XG5cdG5hbWU6IHN0cmluZztcblx0bGFuZ3VhZ2U6IHN0cmluZztcblx0dXBkYXRlZF9hdDogc3RyaW5nO1xuXHRvd25lcjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlcG9EZXRhaWxzIHtcblx0dGl0bGU6IHN0cmluZztcblx0Ym9keTogc3RyaW5nO1xuXHRsYWJlbHM6IExhYmVsW107XG5cdHN0YXRlOiBzdHJpbmc7XG5cdHVwZGF0ZWRfYXQ6IHN0cmluZztcblx0YXNzaWduZWU6IEFzc2lnbmVlO1xuXHRjb21tZW50czogbnVtYmVyO1xufVxuXG5leHBvcnQgIGludGVyZmFjZSBMYWJlbCB7XG5cdG5hbWU6IHN0cmluZztcblx0Y29sb3I6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBc3NpZ25lZSB7XG5cdGF2YXRhcl91cmw6IHN0cmluZztcblx0bG9naW46IHN0cmluZztcblxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1Ym1pdHRhYmxlSXNzdWUge1xuXHR0aXRsZTogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbjogc3RyaW5nO1xuXHRsYWJlbHM6IHN0cmluZ1tdO1xufVxuIiwgImltcG9ydCB7QXBwLCBNb2RhbH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge2FwaV9nZXRfcmVwb3MsIFJlcG9JdGVtfSBmcm9tIFwiLi4vLi4vQVBJL0FwaUhhbmRsZXJcIjtcbmltcG9ydCB7T2N0b0J1bmRsZX0gZnJvbSBcIi4uLy4uL21haW5cIjtcbmltcG9ydCB7Y2FsY3VsYXRlSHVtYW5EYXRlfSBmcm9tIFwiLi4vLi4vVXRpbHMvVXRpbHNcIjtcbmltcG9ydCB7bG9hZGluZ1NwaW5uZXJ9IGZyb20gXCIuLi8uLi9VdGlscy9Mb2FkZXJcIjtcbmltcG9ydCB7cGFzdGVSZXBvTmFtZX0gZnJvbSBcIi4uLy4uL0lzc3Vlcy9Jc3N1ZXMuc2hhcmVkXCI7XG5cbi8qXG4qIE1vZGFsIGZvciBjaG9vc2luZyBhbmQgaW5zZXJ0aW5nIGlzc3Vlc1xuICovXG5leHBvcnQgY2xhc3MgSXNzdWVzTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cblx0b2N0b2J1bmRsZTogT2N0b0J1bmRsZTtcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIG9jdG9idW5kbGU6IE9jdG9CdW5kbGUpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMub2N0b2J1bmRsZSA9IG9jdG9idW5kbGU7XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKSB7XG5cblx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XG5cblx0XHQvL2luc2VydCBmcm9tIHVybFxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ0luc2VydCBmcm9tIFVSTCd9KTtcblx0XHRjb25zdCB1cmxJbnB1dCA9IHRoaXMuY29udGVudEVsLmNyZWF0ZUVsKCdpbnB1dCcpO1xuXHRcdHVybElucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG5cdFx0dXJsSW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdodHRwczovL2dpdGh1Yi5jb20vRnJvc3RwbGV4eC9vYnNpZGlhbi1naXRodWItaXNzdWVzLmdpdCcpO1xuXHRcdHVybElucHV0LmNsYXNzTGlzdC5hZGQoXCJpc3N1ZXMtdXJsLWlucHV0XCIpXG5cblx0XHRjb25zdCB1cmxCdXR0b24gPSB0aGlzLmNvbnRlbnRFbC5jcmVhdGVFbCgnYnV0dG9uJywge3RleHQ6ICdJbnNlcnQnfSk7XG5cdFx0dXJsQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJpc3N1ZXMtdXJsLWJ1dHRvblwiKVxuXHRcdHVybEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdHBhc3RlUmVwb05hbWUodGhpcy5hcHAsIHVybElucHV0LnZhbHVlKVxuXHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdH0pO1xuXG5cdFx0Ly90aXRsZSBcIlNlbGVjdCBhIHJlcG9cIlxuXHRcdGNvbnRlbnRFbC5jcmVhdGVFbCgnaDInLCB7dGV4dDogJ1lvdXIgUmVwb3NpdG9yaWVzJ30pO1xuXG5cdFx0Ly9hZGQgc2VhcmNoIGJhclxuXHRcdGNvbnN0IHNlYXJjaElucHV0ID0gY29udGVudEVsLmNyZWF0ZUVsKCdpbnB1dCcpO1xuXHRcdHNlYXJjaElucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG5cdFx0c2VhcmNoSW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdTZWFyY2guLi4nKTtcblx0XHRzZWFyY2hJbnB1dC5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLXNlYXJjaC1pbnB1dFwiKVxuXHRcdHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuXHRcdFx0Y29uc3QgbGlzdEVsID0gY29udGVudEVsLnF1ZXJ5U2VsZWN0b3IoJ3VsJyk7XG5cdFx0XHRpZiAobGlzdEVsKSB7XG5cdFx0XHRcdGNvbnN0IGl0ZW1zID0gbGlzdEVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpJyk7XG5cdFx0XHRcdC8vIEB0cy1pZ25vcmVcblx0XHRcdFx0Zm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG5cdFx0XHRcdFx0aWYgKGl0ZW0udGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hJbnB1dC52YWx1ZS50b0xvd2VyQ2FzZSgpKSkge1xuXHRcdFx0XHRcdFx0aXRlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aXRlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly9sb2FkaW5nIGluZGljYXRvciBmb3IgcmVwb3Ncblx0XHRjb25zdCBsb2FkaW5nRWwgPSBsb2FkaW5nU3Bpbm5lcigpO1xuXHRcdGNvbnRlbnRFbC5hcHBlbmRDaGlsZChsb2FkaW5nRWwpO1xuXG5cdFx0YXBpX2dldF9yZXBvcyh0aGlzLm9jdG9idW5kbGUub2N0b2tpdCkudGhlbigocmVwb3MpID0+IHtcblx0XHRcdGxvYWRpbmdFbC5yZW1vdmUoKTtcblx0XHRcdC8vY3JlYXRlIGEgbGlzdCBvZiBjbGlja2FibGUgcmVwbyBuYW1lc1xuXHRcdFx0Y29uc3QgbGlzdEVsID0gY29udGVudEVsLmNyZWF0ZUVsKCd1bCcpO1xuXHRcdFx0bGlzdEVsLmFkZENsYXNzKCduYXYnKTtcblx0XHRcdGxpc3RFbC5hZGRDbGFzcygnbmF2LWxpc3QnKTtcblxuXHRcdFx0Ly9yZW1vdmUgdGhlICogZnJvbSB0aGUgbGlzdCBhbmQgYWRkIG1vcmUgcGFkZGluZ1xuXG5cdFx0XHRmb3IgKGNvbnN0IHJlcG8gb2YgcmVwb3MpIHtcblx0XHRcdFx0Y29uc3QgaXRlbUVsID0gcmVwb0l0ZW0ocmVwbyk7XG5cdFx0XHRcdGl0ZW1FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0XHRwYXN0ZVJlcG9OYW1lKHRoaXMuYXBwLCByZXBvKVxuXHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxpc3RFbC5hcHBlbmRDaGlsZChpdGVtRWwpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxuXG59XG5cbi8vIHJlcG8gbGlzdCBpdGVtXG5jb25zdCByZXBvSXRlbSA9IChyZXBvOiBSZXBvSXRlbSkgPT4ge1xuXHRjb25zdCBvcGFjaXR5ID0gJzAuNyc7XG5cdGNvbnN0IGl0ZW1FbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG5cdGl0ZW1FbC5hZGRDbGFzcygnbmF2LWl0ZW0nKTtcblx0aXRlbUVsLmFkZENsYXNzKCduYXYtbGluaycpO1xuXG5cdGNvbnN0IGNvbnRhaW50ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0Y29udGFpbnRlci5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLW1vZGFsLWNvbnRhaW5lclwiKVxuXHRjb250YWludGVyLnN0eWxlLm9wYWNpdHkgPSBvcGFjaXR5O1xuXHRpdGVtRWwuYXBwZW5kQ2hpbGQoY29udGFpbnRlcik7XG5cblx0Y29uc3QgaXRlbVRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuXHRpdGVtVGl0bGUuY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1tb2RhbC1pdGVtLXRpdGxlXCIpXG5cdGl0ZW1UaXRsZS5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eTtcblx0aXRlbVRpdGxlLmlubmVyVGV4dCA9IHJlcG8ubmFtZTtcblx0Y29udGFpbnRlci5hcHBlbmRDaGlsZChpdGVtVGl0bGUpO1xuXG5cdGNvbnN0IGl0ZW1TdWJ0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblx0aXRlbVN1YnRpdGxlLmNsYXNzTGlzdC5hZGQoXCJpc3N1ZXMtaXRlbS1zdWJ0aXRsZVwiKVxuXHRpdGVtU3VidGl0bGUuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHk7XG5cdGl0ZW1TdWJ0aXRsZS5pbm5lclRleHQgPSBgJHtyZXBvLmxhbmd1YWdlfSBcdTIwMjIgVXBkYXRlZCBvbiAke2NhbGN1bGF0ZUh1bWFuRGF0ZShyZXBvLnVwZGF0ZWRfYXQpfWBcblxuXHRjb250YWludGVyLmFwcGVuZENoaWxkKGl0ZW1TdWJ0aXRsZSk7XG5cblx0aXRlbUVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XG5cdFx0aXRlbVRpdGxlLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG5cdFx0Y29udGFpbnRlci5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuXHR9KTtcblxuXHRpdGVtRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcblx0XHRpdGVtVGl0bGUuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHk7XG5cdFx0Y29udGFpbnRlci5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eTtcblx0fSk7XG5cblx0cmV0dXJuIGl0ZW1FbDtcbn1cblxuIiwgIi8qKlxuICogTG9hZGluZyBzcGlubmVyXG4gKi9cbmV4cG9ydCBjb25zdCBsb2FkaW5nU3Bpbm5lciA9ICgpID0+IHtcblx0Y29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRzcGlubmVyLnN0eWxlLmJvcmRlciA9ICc0cHggc29saWQgdmFyKC0tYmFja2dyb3VuZC1zZWNvbmRhcnkpJztcblx0c3Bpbm5lci5zdHlsZS5ib3JkZXJUb3AgPSAnM3B4IHNvbGlkIHZhcigtLWludGVyYWN0aXZlLWFjY2VudCknO1xuXHRzcGlubmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1MCUnO1xuXHRzcGlubmVyLnN0eWxlLndpZHRoID0gJzMwcHgnO1xuXHRzcGlubmVyLnN0eWxlLmhlaWdodCA9ICczMHB4Jztcblx0c3Bpbm5lci5zdHlsZS5hbmltYXRpb24gPSAnc3BpbiAxcyBsaW5lYXIgaW5maW5pdGUnO1xuXHRzcGlubmVyLnN0eWxlLm1hcmdpbiA9ICdhdXRvJztcblx0c3Bpbm5lci5zdHlsZS5tYXJnaW5Ub3AgPSAnMTIuNXB4Jztcblx0c3Bpbm5lci5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTIuNXlweCc7XG5cblx0Ly9kZWZpbmUgdGhlIHNwaW4ga2V5ZnJhbWVzXG5cdGNvbnN0IHNwaW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuXHRzcGluLnR5cGUgPSAndGV4dC9jc3MnO1xuXHRzcGluLmlubmVySFRNTCA9IGBcblx0XHRAa2V5ZnJhbWVzIHNwaW4ge1xuXHRcdFx0MCUgeyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfVxuXHRcdFx0MTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH1cblx0XHR9XG5cdGA7XG5cblx0c3Bpbm5lci5hcHBlbmRDaGlsZChzcGluKTtcblx0cmV0dXJuIHNwaW5uZXI7XG59XG4iLCAiaW1wb3J0IHtBcHAsIE1hcmtkb3duVmlld30gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge1JlcG9JdGVtfSBmcm9tIFwiLi4vQVBJL0FwaUhhbmRsZXJcIjtcblxuLyoqXG4gKiBJbnNlcnRzIGF1dGhvci9yZXBvIGNvbWJpbmF0aW9uIGludG8gdGhlIGFjdGl2ZSBNYXJrZG93biBlZGl0b3IuXG4gKiBPbmx5IHdvcmtzIHdpdGggTWFya2Rvd25WaWV3LlxuICpcbiAqIEBwYXJhbSB7QXBwfSBhcHAgLSBUaGUgT2JzaWRpYW4gYXBwIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nIHwgUmVwb0l0ZW19IGFyZyAtIFRoZSBHaXRIdWIgcmVwb3NpdG9yeSBuYW1lIG9yIGF1dGhvci9yZXBvIGNvbWJpbmF0aW9uLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSAtIFJldHVybnMgdHJ1ZSBpZiB0aGUgcmVwb3NpdG9yeSBuYW1lIGlzIHN1Y2Nlc3NmdWxseSBpbnNlcnRlZCwgb3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXN0ZVJlcG9OYW1lKGFwcDogQXBwLCBhcmc6IHN0cmluZyB8IFJlcG9JdGVtKSB7XG5cdGNvbnN0IHZpZXcgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxuXHRpZiAodmlldykge1xuXHRcdGNvbnN0IGVkaXRvciA9IHZpZXcuZWRpdG9yO1xuXG5cdFx0Ly9pbnNlcnQgdGV4dCB0byBkZXRlY3Qgd2hlcmUgaXNzdWVzIHN0YXJ0XG5cdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oXCJgYGBnaXRodWItaXNzdWVzXFxuXCIpXG5cdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24ocGFyc2VBcmdUb0F1dGhvckFuZFJlcG9OYW1lKGFyZykgKyBcIlxcblwiKTtcblxuXHRcdC8vaW5zZXJ0IHRleHQgdG8gZGV0ZWN0IHdoZXJlIGlzc3VlcyBzdG9wXG5cdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24oXCJgYGBcXG5cIik7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cblxuZnVuY3Rpb24gcGFyc2VBcmdUb0F1dGhvckFuZFJlcG9OYW1lKGFyZzogc3RyaW5nIHwgUmVwb0l0ZW0pOiBzdHJpbmd7XG5cdGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykge1xuXHRcdGNvbnN0IHVybCA9IG5ldyBVUkwoYXJnKTtcblx0XHRyZXR1cm4gYCR7dXJsLnBhdGhuYW1lLnN1YnN0cmluZygxKX1gLnJlcGxhY2UoXCIuZ2l0XCIsIFwiXCIpO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiBgJHthcmcub3duZXJ9LyR7YXJnLm5hbWV9YDtcblx0fVxufVxuXG4vKipcbiAqIFBhcnNlcyBhIHN0cmluZyB0byBleHRyYWN0IGlzc3VlIG51bWJlcnMgYW5kIHJldHVybnMgdGhlbSBhcyBhbiBhcnJheSBvZiBudW1iZXJzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgLSBUaGUgaW5wdXQgc3RyaW5nIHRvIHBhcnNlLlxuICogQHJldHVybiB7bnVtYmVyW119IC0gQW4gYXJyYXkgY29udGFpbmluZyBleHRyYWN0ZWQgaXNzdWUgbnVtYmVycy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSXNzdWVzVG9FbWJlZChzdHJpbmc6IHN0cmluZyk6IG51bWJlcltdIHtcblx0Y29uc3QgcmVnZXggPSAvI1xcZCsoWywtXVxcZCspKi9nO1xuXHRjb25zdCByZXN1bHRBcnJheTogbnVtYmVyW10gPSBbXTtcblx0Y29uc3QgbWF0Y2hBcnJheSA9IHN0cmluZy5tYXRjaChyZWdleCk7XG5cblx0aWYgKG1hdGNoQXJyYXkgIT09IG51bGwpIHtcblx0XHRmb3IoY29uc3QgbWF0Y2ggb2YgbWF0Y2hBcnJheSkge1xuXHRcdFx0Y29uc3QgaXNzdWVOdW1zID0gbWF0Y2gucmVwbGFjZSgnIycsICcnKS5zcGxpdCgnLCcpO1xuXG5cdFx0XHRmb3IoY29uc3QgbnVtIG9mIGlzc3VlTnVtcykge1xuXHRcdFx0XHRpZiAobnVtLmluY2x1ZGVzKCctJykpIHtcblx0XHRcdFx0XHRjb25zdCBbc3RhcnQsIGVuZF0gPSBudW0uc3BsaXQoJy0nKS5tYXAoTnVtYmVyKTtcblx0XHRcdFx0XHRmb3IobGV0IGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuXHRcdFx0XHRcdFx0aWYoIXJlc3VsdEFycmF5LmluY2x1ZGVzKGkpKSB7XG5cdFx0XHRcdFx0XHRcdHJlc3VsdEFycmF5LnB1c2goaSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnN0IGlzc3VlID0gTnVtYmVyKG51bSk7XG5cdFx0XHRcdFx0aWYoIXJlc3VsdEFycmF5LmluY2x1ZGVzKGlzc3VlKSkge1xuXHRcdFx0XHRcdFx0cmVzdWx0QXJyYXkucHVzaChpc3N1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHRBcnJheTtcbn1cblxuXG4iLCAiaW1wb3J0IHtBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBOb3RpY2V9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHthcGlfZ2V0X2lzc3Vlc19ieV91cmwsIFJlcG9JdGVtfSBmcm9tIFwiLi4vQVBJL0FwaUhhbmRsZXJcIjtcbmltcG9ydCB7dmVyaWZ5VVJMfSBmcm9tIFwiLi4vVXRpbHMvVXRpbHNcIjtcbmltcG9ydCB7cGFzdGVSZXBvTmFtZX0gZnJvbSBcIi4vSXNzdWVzLnNoYXJlZFwiO1xuaW1wb3J0IHtPY3Rva2l0fSBmcm9tIFwiQG9jdG9raXQvY29yZVwiO1xuaW1wb3J0IHtDU1ZJc3N1ZSwgSXNzdWV9IGZyb20gXCIuL0lzc3VlXCI7XG5cbi8qKlxuICogRmV0Y2hlcyBpc3N1ZXMgZnJvbSB0aGUgZ2l2ZW4gdXJsIGFuZCB1cGRhdGVzIHRoZW0gaW4gdGhlIGN1cnJlbnQgZWRpdG9yXG4gKiBAcGFyYW0gYXBwXG4gKiBAcGFyYW0gb2N0b2tpdFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlSXNzdWVzKGFwcDogQXBwLCBvY3Rva2l0OiBPY3Rva2l0KSB7XG5cdGxldCByZXBvID0gZ2V0UmVwb0luRmlsZShhcHApO1xuXHRsZXQgdmlldyA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpXG5cblx0aWYoIWNoZWNrRWRpdG9yKHZpZXcsIHJlcG8pKSByZXR1cm47XG5cdC8vIEkga25vdyB0aGF0IHRoaXMgaXMgc3R1cGlkLCBidXQgaXQgZ2V0cyBhc3NlcnRlZCBpbiB0aGUgY2hlY2tFZGl0b3IgZnVuY3Rpb24gc28gaXQncyBmaW5lLi4ucHJvYmFibHlcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0cmVwbyA9IHJlcG8hO1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuXHR2aWV3ID0gdmlldyE7XG5cdGNvbnN0IGVkaXRvciA9IHZpZXcuZWRpdG9yO1xuXHRjb25zdCB1cmwgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9cIiArIHJlcG8ubmFtZSArIFwiL1wiICsgcmVwby5yZXBvICsgXCIuZ2l0XCI7XG5cblx0Ly92ZXJpZnkgdGhlIHVybFxuXHRpZighdmVyaWZ5VVJMKHVybCkpe1xuXHRcdG5ldyBOb3RpY2UoXCJFcnJvciBidWlsZGluZyB1cmw6IFwiICsgdXJsKVxuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IGlzc3VlcyA9IGF3YWl0IGZldGNoSXNzdWVzKG9jdG9raXQsIHVybCk7XG5cblx0aWYgKGlzc3Vlcykge1xuXHRcdGluc2VydElzc3VlcyhlZGl0b3IsIHJlcG8sIHZpZXcsIHVybCwgaXNzdWVzKTtcblx0fVxufVxuXG4vKipcbiAqIEFjdHVhbGx5IGluc2VydHMgdGhlIGlzc3VlcyBieSByZXBsYWNpbmcgdGhlIGxpbmVzIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQgbGluZSBvZiB0aGUgcmVwbyBhbmQgdGhlbiBwYXN0aW5nIHRoZSBpc3N1ZXNcbiAqIEBwYXJhbSBlZGl0b3JcbiAqIEBwYXJhbSByZXBvXG4gKiBAcGFyYW0gdmlld1xuICogQHBhcmFtIHVybFxuICogQHBhcmFtIGlzc3Vlc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaW5zZXJ0SXNzdWVzKGVkaXRvcjogRWRpdG9yLCByZXBvOiBGaWxlUmVwbywgdmlldzogTWFya2Rvd25WaWV3IHwgbnVsbCwgdXJsOiBzdHJpbmcsIGlzc3VlczogSXNzdWVbXSkge1xuXHQvLyBcdC8vZGVsZXRlIHRoZSBsaW5lcyBiZXR3ZWVuIHRoZSBzdGFydCBhbmQgZW5kIGxpbmVcblx0ZWRpdG9yLnJlcGxhY2VSYW5nZShcIlwiLCB7bGluZTogcmVwby5zdGFydF9saW5lLCBjaDogMH0sIHtsaW5lOiByZXBvLmVuZF9saW5lICsgMiwgY2g6IDB9KTtcblxuXHQvL3NldCB0aGUgY3Vyc29yIHRvIHRoZSBzdGFydCBsaW5lXG5cdGVkaXRvci5zZXRDdXJzb3Ioe2xpbmU6IHJlcG8uc3RhcnRfbGluZSwgY2g6IDB9KTtcblxuXHQvL2luc2VydCB0aGUgaXNzdWVzXG5cdGNvbnN0IHBhc3RlZCA9IHBhc3RlUmVwb05hbWUodmlldywgdXJsLCBpc3N1ZXMpO1xuXHRpZiAocGFzdGVkKSB7XG5cdFx0bmV3IE5vdGljZShcIlVwZGF0ZWQgaXNzdWVzXCIpO1xuXHR9IGVsc2Uge1xuXHRcdG5ldyBOb3RpY2UoXCJTb21lIGVycm9yIG9jY3VycmVkIHdoaWxlIHBhc3RpbmcgdGhlIGlzc3Vlc1wiKVxuXHR9XG59XG5cbmxldCBsYXN0VXBkYXRlOiBEYXRlIHwgbnVsbCA9IG51bGw7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc29mdFVwZGF0ZUlzc3VlcyhhcHA6IEFwcCwgb2N0b2tpdDogT2N0b2tpdCkge1xuXHQvL2NoZWNrIGlmIHRoZSBsYXN0IHVwZGF0ZSB3YXMgbW9yZSB0aGFuIDE1IHNlYyBhZ28gdG8gcHJldmVudCBzcGFtbWluZyB0aGUgYXBpXG5cdGlmIChsYXN0VXBkYXRlICYmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGxhc3RVcGRhdGUuZ2V0VGltZSgpKSA8IDE1MDAwKSB7XG5cdFx0Ly8gbmV3IE5vdGljZShcIlVwZGF0ZSB0b28gc29vblwiKVxuXHRcdHJldHVybjtcblx0fVxuXG5cdC8vIG5ldyBOb3RpY2UoXCJVcGRhdGUgdHJpZ2dlcmVkIG9uIFwiICsgbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoKSlcblxuXHRsZXQgcmVwbyA9IGdldFJlcG9JbkZpbGUoYXBwKTtcblx0bGV0IHZpZXcgPSBhcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KVxuXG5cdGlmKCFjaGVja0VkaXRvcih2aWV3LCByZXBvKSkgcmV0dXJuO1xuXHQvLyBJIGtub3cgdGhhdCB0aGlzIGlzIHN0dXBpZCwgYnV0IGl0IGdldHMgYXNzZXJ0ZWQgaW4gdGhlIGNoZWNrRWRpdG9yIGZ1bmN0aW9uIHNvIGl0J3MgZmluZS4uLnByb2JhYmx5XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG5cdHJlcG8gPSByZXBvITtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0dmlldyA9IHZpZXchO1xuXHRjb25zdCBlZGl0b3IgPSB2aWV3LmVkaXRvcjtcblx0Y29uc3QgdXJsID0gXCJodHRwczovL2dpdGh1Yi5jb20vXCIgKyByZXBvLm5hbWUgKyBcIi9cIiArIHJlcG8ucmVwbyArIFwiLmdpdFwiO1xuXG5cdC8vdmVyaWZ5IHRoZSB1cmxcblx0aWYoIXZlcmlmeVVSTCh1cmwpKXtcblx0XHRuZXcgTm90aWNlKFwiRXJyb3IgYnVpbGRpbmcgdXJsOiBcIiArIHVybClcblx0XHRyZXR1cm47XG5cdH1cblxuXHQvL2dldCB0aGUgbG9jYWwgaXNzdWVzIGJ5IHBhcnNpbmcgdGhlIHNlY29uZCBsaW5lIGFmdGVyIHRoZSBgYGBnaXRodWItaXNzdWVzIHVudGlsIHRoZSBsaW5lIHdpdGggYGBgXG5cdGNvbnN0IGxvY2FsX2lzc3VlczogQ1NWSXNzdWVbXSA9IFtdO1xuXHRmb3IgKGxldCBpID0gcmVwby5zdGFydF9saW5lICsgMjsgaSA8IHJlcG8uZW5kX2xpbmU7IGkrKykge1xuXHRcdGNvbnN0IGxpbmUgPSBlZGl0b3IuZ2V0TGluZShpKTtcblx0XHRpZiAobGluZSA9PT0gXCJgYGBcIikge1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXHRcdGxvY2FsX2lzc3Vlcy5wdXNoKG5ldyBDU1ZJc3N1ZShsaW5lLCB7fSBhcyBSZXBvSXRlbSkpO1xuXHR9XG5cblx0Ly8gY29uc29sZS5sb2coXCJMb2NhbCBpc3N1ZXM6IFwiICsgbG9jYWxfaXNzdWVzLm1hcChpc3N1ZSA9PiBpc3N1ZS50aXRsZSkuam9pbihcIiwgXCIpKTtcblxuXHRjb25zdCBpc3N1ZXMgPSBhd2FpdCBmZXRjaElzc3VlcyhvY3Rva2l0LCB1cmwpO1xuXG5cdC8vIGNvbnNvbGUubG9nKFwiUmVtb3RlIGlzc3VlczogXCIgKyBpc3N1ZXMhLm1hcChpc3N1ZSA9PiBpc3N1ZS50aXRsZSkuam9pbihcIiwgXCIpKTtcblxuXHQvL2NoZWNrIGlmIHRoZSBpc3N1ZXMgYXJlIHRoZSBzYW1lXG5cdC8vaWYgdGhlIGlzc3VlcyBhcmUgZW1wdHkgdGhlbiBzdG9wXG5cdGxldCBzYW1lID0gdHJ1ZTtcblx0aWYgKGlzc3Vlcykge1xuXHRcdC8vaWYgdGhlIGlzc3VlIGxlbmd0aHMgYXJlIGRpZmZlcmVudCB3ZSBrbm93IHRoZSBpc3N1ZXMgYXJlIG5vdCB0aGUgc2FtZVxuXHRcdGlmIChpc3N1ZXMubGVuZ3RoID09IGxvY2FsX2lzc3Vlcy5sZW5ndGgpIHtcblx0XHRcdC8vbG9vcCB0cm91Z2ggdGhlIGlzc3VlcyBhbmQgY2hlY2sgaWYgdGhlIHRpdGxlcyBhcmUgdGhlIHNhbWVcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgaXNzdWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmIChpc3N1ZXNbaV0udGl0bGUgIT09IGxvY2FsX2lzc3Vlc1tpXS50aXRsZSkge1xuXHRcdFx0XHRcdHNhbWUgPSBmYWxzZTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzYW1lID0gZmFsc2U7XG5cdFx0fVxuXHRcdGlmIChzYW1lKSB7XG5cdFx0XHRuZXcgTm90aWNlKFwiTm8gSXNzdWUgdXBkYXRlcyBmb3VuZFwiKVxuXHRcdFx0cmV0dXJuO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpbnNlcnRJc3N1ZXMoZWRpdG9yLCByZXBvLCB2aWV3LCB1cmwsIGlzc3Vlcyk7XG5cdFx0fVxuXHR9XG5cdC8vdXBkYXRlIHRoZSBsYXN0IHVwZGF0ZSB0aW1lXG5cdGxhc3RVcGRhdGUgPSBuZXcgRGF0ZSgpO1xufVxuXG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBlZGl0b3IgaXMgaW4gdGhlIGNvcnJlY3QgbW9kZSBhbmQgaWYgYSByZXBvIGlzIGZvdW5kIGluIHRoZSBmaWxlXG4gKiBAcGFyYW0gdmlld1xuICogQHBhcmFtIHJlcG9cbiAqL1xuZnVuY3Rpb24gY2hlY2tFZGl0b3IodmlldzpNYXJrZG93blZpZXcgfG51bGwsIHJlcG86IEZpbGVSZXBvIHwgbnVsbCl7XG5cdGlmKCF2aWV3KXtcblx0XHRuZXcgTm90aWNlKFwiTm8gYWN0aXZlIHZpZXdcIik7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdC8vZ2V0IHRoZSBjdXJyZW50IGVkaXRvciBtb2RlXG5cdGlmICh2aWV3LmdldE1vZGUoKSAhPT0gXCJzb3VyY2VcIil7XG5cdFx0bmV3IE5vdGljZShcIlBsZWFzZSBzd2l0Y2ggdG8gc291cmNlIG1vZGUgYmVmb3JlIHVwZGF0aW5nIHRoZSBpc3N1ZXNcIik7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0aWYoIXJlcG8pe1xuXHRcdG5ldyBOb3RpY2UoXCJObyByZXBvIGZvdW5kIGluIGZpbGVcIik7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogRmV0Y2hlcyBpc3N1ZXMgZnJvbSB0aGUgZ2l2ZW4gdXJsXG4gKiBAcGFyYW0gb2N0b2tpdFxuICogQHBhcmFtIHVybFxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaElzc3VlcyhvY3Rva2l0OiBPY3Rva2l0LCB1cmw6IHN0cmluZykge1xuXHRjb25zdCBpc3N1ZXMgPSBhd2FpdCBhcGlfZ2V0X2lzc3Vlc19ieV91cmwob2N0b2tpdCwgdXJsKTtcblx0aWYgKGlzc3Vlcy5sZW5ndGggPT09IDApe1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cdHJldHVybiBpc3N1ZXM7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcmVwbyBuYW1lIGFuZCByZXBvIGZyb20gdGhlIGN1cnJlbnQgZmlsZVxuICogVGhpcyBpcyB2ZXJ5IGhhY2t5IGFuZCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCBhIGJldHRlciBzb2x1dGlvblxuICogQHBhcmFtIGFwcFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVwb0luRmlsZShhcHA6IEFwcCkge1xuXHQvL2dldCB0aGUgY3VycmVudCBlZGl0b3Jcblx0Y29uc3QgdmlldyA9IGFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpXG5cdGlmICh2aWV3KSB7XG5cdFx0Y29uc3QgZWRpdG9yID0gdmlldy5lZGl0b3I7XG5cblx0XHQvL2xvb3AgdHJvdWdoIHRoZSBkb2N1bWVudCBhbmQgcHJpbnQgZXZlcnkgbGluZVxuXHRcdGxldCBzdGFydF9saW5lID0gMDtcblx0XHRsZXQgZW5kX2xpbmUgPSAwO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgZWRpdG9yLmxpbmVDb3VudCgpOyBpKyspIHtcblx0XHRcdGNvbnN0IGxpbmUgPSBlZGl0b3IuZ2V0TGluZShpKTtcblx0XHRcdGNvbnNvbGUubG9nKGxpbmUpO1xuXHRcdFx0aWYgKGxpbmUuaW5jbHVkZXMoXCJgYGBnaXRodWItaXNzdWVzXCIpKSB7XG5cdFx0XHRcdHN0YXJ0X2xpbmUgPSBpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGxpbmUuaW5jbHVkZXMoXCJgYGBcIikpIHtcblx0XHRcdFx0ZW5kX2xpbmUgPSBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvL3ByaW50IHRoZSBzdGFydCBhbmQgZW5kIGxpbmVcblx0XHRjb25zb2xlLmxvZyhzdGFydF9saW5lKTtcblx0XHRjb25zb2xlLmxvZyhlbmRfbGluZSk7XG5cblx0XHQvL3BhcnNlIHRoZSBuYW1lIGFuZCB0aGUgcmVwbyBmcm9tIHRoZSBzdGFydCBsaW5lXG5cdFx0Y29uc3Qgc3RhcnRfbGluZV90ZXh0ID0gZWRpdG9yLmdldExpbmUoc3RhcnRfbGluZSArIDEpO1xuXHRcdGNvbnN0IG5hbWVfYW5kX3JlcG9fc3BsaXQgPSBzdGFydF9saW5lX3RleHQuc3BsaXQoXCIvXCIpO1xuXHRcdGNvbnN0IG5hbWUgPSBuYW1lX2FuZF9yZXBvX3NwbGl0WzBdO1xuXHRcdGNvbnN0IHJlcG8gPSBuYW1lX2FuZF9yZXBvX3NwbGl0WzFdO1xuXHRcdGNvbnNvbGUubG9nKG5hbWUpO1xuXHRcdGNvbnNvbGUubG9nKHJlcG8pO1xuXG5cdFx0aWYocmVwbyAhPSB1bmRlZmluZWQpe1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdFx0cmVwbzogcmVwbyxcblx0XHRcdFx0c3RhcnRfbGluZTogc3RhcnRfbGluZSxcblx0XHRcdFx0ZW5kX2xpbmU6IGVuZF9saW5lXG5cdFx0XHR9IGFzIEZpbGVSZXBvXG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBudWxsXG5cdFx0fVxuXHR9XG5cdHJldHVybiBudWxsO1xufVxuXG5pbnRlcmZhY2UgRmlsZVJlcG8ge1xuXHRuYW1lOiBzdHJpbmcsXG5cdHJlcG86IHN0cmluZyxcblx0c3RhcnRfbGluZTogbnVtYmVyLFxuXHRlbmRfbGluZTogbnVtYmVyXG59XG4iLCAiaW1wb3J0IHtBcHAsIE1vZGFsLCBOb3RpY2UsIHNldEljb259IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHtPY3RvQnVuZGxlfSBmcm9tIFwiLi4vLi4vbWFpblwiO1xuaW1wb3J0IHtnZXRSZXBvSW5GaWxlLCB1cGRhdGVJc3N1ZXN9IGZyb20gXCIuLi8uLi9Jc3N1ZXMvSXNzdWVVcGRhdGVyXCI7XG5pbXBvcnQge2FwaV9nZXRfbGFiZWxzLCBhcGlfc3VibWl0X2lzc3VlLCBSZXBvSXRlbSwgU3VibWl0dGFibGVJc3N1ZX0gZnJvbSBcIi4uLy4uL0FQSS9BcGlIYW5kbGVyXCI7XG5pbXBvcnQge2xvYWRpbmdTcGlubmVyfSBmcm9tIFwiLi4vLi4vVXRpbHMvTG9hZGVyXCI7XG5cbi8qXG4qIE1vZGFsIGZvciBjcmVhdGluZyBhIG5ldyBpc3N1ZSBpbnNpZGUgb2JzaWRpYW5cbiAqL1xuZXhwb3J0IGNsYXNzIE5ld0lzc3VlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdG9jb3RvQnVuZGxlOiBPY3RvQnVuZGxlO1xuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgb2NvdG9CdW5kbGU6IE9jdG9CdW5kbGUpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMub2NvdG9CdW5kbGUgPSBvY290b0J1bmRsZTtcblx0fVxuXG5cdGFzeW5jIG9uT3BlbigpIHtcblxuXHRcdC8vZ2V0IHRoZSByZXBvIG5hbWUgZnJvbSB0aGUgY3VycmVudCBmaWxlXG5cdFx0Y29uc3QgcmVwbzogKCkgPT4gKFJlcG9JdGVtIHwgbnVsbCkgPSAoKSA9PiB7XG5cdFx0XHRjb25zdCByZXBvID0gZ2V0UmVwb0luRmlsZSh0aGlzLmFwcCk7XG5cdFx0XHRpZiAoIXJlcG8pIHJldHVybiBudWxsO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bmFtZTogcmVwby5yZXBvLFxuXHRcdFx0XHRvd25lcjogcmVwby5uYW1lLFxuXHRcdFx0fSBhcyBSZXBvSXRlbTtcblx0XHR9XG5cblx0XHRpZiAocmVwbygpKSB7XG5cblx0XHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpc1xuXHRcdFx0Y29udGVudEVsLmNyZWF0ZUVsKCdoMicsIHt0ZXh0OiAnTmV3IElzc3VlIGluOiAnICsgcmVwbygpIS5vd25lciArIFwiL1wiICsgcmVwbygpIS5uYW1lfSlcblx0XHRcdGNvbnN0IHNwaW5uZXIgPSBsb2FkaW5nU3Bpbm5lcigpO1xuXHRcdFx0Y29udGVudEVsLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuXHRcdFx0Ly9nZXQgdGhlIGxhYmVsc1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0XHRcdGNvbnN0IGxhYmVscyA9IChhd2FpdCBhcGlfZ2V0X2xhYmVscyh0aGlzLm9jb3RvQnVuZGxlLm9jdG9raXQsIHJlcG8oKSEpKS5tYXAobGFiZWwgPT4gbGFiZWwubmFtZSk7XG5cblx0XHRcdHNwaW5uZXIucmVtb3ZlKCk7XG5cdFx0XHQvL3RpdGxlIGlucHV0IGZpZWxkXG5cdFx0XHRjb25zdCB0aXRsZUlucHV0ID0gY29udGVudEVsLmNyZWF0ZUVsKCdpbnB1dCcpXG5cdFx0XHR0aXRsZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jylcblx0XHRcdHRpdGxlSW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdUaXRsZScpXG5cdFx0XHR0aXRsZUlucHV0LnN0eWxlLndpZHRoID0gJzEwMCUnXG5cdFx0XHR0aXRsZUlucHV0LnN0eWxlLnBhZGRpbmcgPSAnNXB4J1xuXHRcdFx0dGl0bGVJbnB1dC5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTBweCdcblxuXHRcdFx0Ly9kZXNjcmlwdGlvbiBpbnB1dCBmaWVsZFxuXHRcdFx0Y29uc3QgZGVzY3JpcHRpb25JbnB1dCA9IGNvbnRlbnRFbC5jcmVhdGVFbCgndGV4dGFyZWEnKVxuXHRcdFx0ZGVzY3JpcHRpb25JbnB1dC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpXG5cdFx0XHRkZXNjcmlwdGlvbklucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnRGVzY3JpcHRpb24nKVxuXHRcdFx0ZGVzY3JpcHRpb25JbnB1dC5zdHlsZS53aWR0aCA9ICcxMDAlJ1xuXHRcdFx0ZGVzY3JpcHRpb25JbnB1dC5zdHlsZS5tYXhXaWR0aCA9ICcxMDAlJ1xuXHRcdFx0ZGVzY3JpcHRpb25JbnB1dC5zdHlsZS5taW5XaWR0aCA9ICcxMDAlJ1xuXHRcdFx0ZGVzY3JpcHRpb25JbnB1dC5zdHlsZS5wYWRkaW5nID0gJzVweCdcblx0XHRcdGRlc2NyaXB0aW9uSW5wdXQuc3R5bGUubWFyZ2luQm90dG9tID0gJzEwcHgnXG5cdFx0XHRkZXNjcmlwdGlvbklucHV0LnN0eWxlLmhlaWdodCA9ICcxMDBweCdcblx0XHRcdGRlc2NyaXB0aW9uSW5wdXQuc3R5bGUubWF4SGVpZ2h0ID0gJzUwMHB4J1xuXHRcdFx0Ly9kaXNwbGF5IGFzIG1hcmtkb3duXG5cdFx0XHRkZXNjcmlwdGlvbklucHV0LnN0eWxlLmZvbnRGYW1pbHkgPSAnbW9ub3NwYWNlJ1xuXHRcdFx0ZGVzY3JpcHRpb25JbnB1dC5zdHlsZS5mb250U2l6ZSA9ICcxMnB4J1xuXG5cdFx0XHQvL3NlbGVjdGVkIGxhYmVscyBmaWVsZFxuXHRcdFx0Y29uc3Qgc2VsZWN0ZWRMYWJlbHMgPSBjb250ZW50RWwuY3JlYXRlRWwoJ2RpdicpO1xuXHRcdFx0c2VsZWN0ZWRMYWJlbHMuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xuXHRcdFx0c2VsZWN0ZWRMYWJlbHMuc3R5bGUuZmxleFdyYXAgPSAnd3JhcCdcblxuXHRcdFx0Ly9kcm9wZG93biB3aGVyZSB5b3UgY2FuIHNlbGVjdCBtdWx0aXBsZSBsYWJlbHNcblx0XHRcdGNvbnN0IGxhYmVsRHJvcGRvd24gPSBjb250ZW50RWwuY3JlYXRlRWwoJ3NlbGVjdCcpXG5cdFx0XHRsYWJlbERyb3Bkb3duLnN0eWxlLndpZHRoID0gJzEwMCUnXG5cdFx0XHRsYWJlbERyb3Bkb3duLnN0eWxlLnBhZGRpbmcgPSAnNXB4J1xuXHRcdFx0bGFiZWxEcm9wZG93bi5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTBweCdcblx0XHRcdGxhYmVsRHJvcGRvd24uc3R5bGUuaGVpZ2h0ID0gJzMwcHgnXG5cdFx0XHRsYWJlbERyb3Bkb3duLnN0eWxlLm1heEhlaWdodCA9ICczMHB4J1xuXHRcdFx0bGFiZWxEcm9wZG93bi5zdHlsZS5tYXhXaWR0aCA9ICcxMDAlJ1xuXHRcdFx0bGFiZWxEcm9wZG93bi5zdHlsZS5mb250U2l6ZSA9ICcxMnB4J1xuXHRcdFx0bGFiZWxEcm9wZG93bi5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnNXB4J1xuXG5cdFx0XHQvL2FkZCB0aGUgbGFiZWxzIHRvIHRoZSBkcm9wZG93blxuXHRcdFx0bGFiZWxEcm9wZG93bi5jcmVhdGVFbCgnb3B0aW9uJywge1xuXHRcdFx0XHR2YWx1ZTogJ1NlbGVjdCBMYWJlbHMnLFxuXHRcdFx0XHR0ZXh0OiAnU2VsZWN0IExhYmVscydcblx0XHRcdH0pXG5cblx0XHRcdGZvciAoY29uc3QgbGFiZWwgb2YgbGFiZWxzKSB7XG5cdFx0XHRcdGNvbnN0IG9wdGlvbiA9IGxhYmVsRHJvcGRvd24uY3JlYXRlRWwoJ29wdGlvbicpXG5cdFx0XHRcdG9wdGlvbi5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgbGFiZWwpXG5cdFx0XHRcdG9wdGlvbi50ZXh0ID0gbGFiZWxcblx0XHRcdH1cblxuXHRcdFx0bGV0IGVsZW1lbnRzOiBzdHJpbmdbXSA9IFtdXG5cblx0XHRcdC8vYWRkIHRoZSBzZWxlY3RlZCBsYWJlbCB0byB0aGUgc2VsZWN0ZWQgbGFiZWxzIGZpZWxkXG5cdFx0XHRsYWJlbERyb3Bkb3duLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcblx0XHRcdFx0Y29uc3QgdmFsdWUgPSBsYWJlbERyb3Bkb3duLnZhbHVlXG5cdFx0XHRcdGxhYmVsRHJvcGRvd24udmFsdWUgPSAnU2VsZWN0IExhYmVscydcblx0XHRcdFx0Y29uc3QgdGFnID0gc2VsZWN0ZWRMYWJlbHMuY3JlYXRlRWwoJ2RpdicpO1xuXHRcdFx0XHR0YWcuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xuXHRcdFx0XHR0YWcuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInXG5cdFx0XHRcdHRhZy5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdjZW50ZXInXG5cdFx0XHRcdHRhZy5zdHlsZS5wYWRkaW5nID0gJzVweCdcblx0XHRcdFx0dGFnLnN0eWxlLm1hcmdpbiA9ICc1cHgnXG5cdFx0XHRcdHRhZy5zdHlsZS5tYXJnaW5Cb3R0b20gPSAnMTBweCdcblx0XHRcdFx0dGFnLnN0eWxlLmJvcmRlclJhZGl1cyA9ICc1cHgnXG5cdFx0XHRcdHRhZy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndmFyKC0tYmFja2dyb3VuZC1tb2RpZmllci1mb3JtLWZpZWxkKSdcblx0XHRcdFx0Ly9jcmVhdGUgYnV0dG9uIHRvIHJlbW92ZSB0aGUgdGFnXG5cdFx0XHRcdHRhZy5jcmVhdGVFbCgnc3BhbicsIHt0ZXh0OiB2YWx1ZX0pXG5cdFx0XHRcdGNvbnN0IHJlbW92ZUJ1dHRvbiA9IHRhZy5jcmVhdGVFbCgnYnV0dG9uJyk7XG5cdFx0XHRcdHJlbW92ZUJ1dHRvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImluaGVyaXRcIjtcblx0XHRcdFx0cmVtb3ZlQnV0dG9uLnN0eWxlLmJvcmRlciA9ICdub25lJ1xuXHRcdFx0XHRyZW1vdmVCdXR0b24uc3R5bGUub3V0bGluZSA9ICdub25lJ1xuXHRcdFx0XHRyZW1vdmVCdXR0b24uc3R5bGUuYm94U2hhZG93ID0gJ25vbmUnXG5cdFx0XHRcdHJlbW92ZUJ1dHRvbi5zdHlsZS5wYWRkaW5nID0gJzAnXG5cdFx0XHRcdHJlbW92ZUJ1dHRvbi5zdHlsZS5tYXJnaW4gPSAnMCdcblx0XHRcdFx0c2V0SWNvbihyZW1vdmVCdXR0b24sICd4JylcblxuXHRcdFx0XHRyZW1vdmVCdXR0b24ub25jbGljayA9ICgpID0+IHtcblx0XHRcdFx0XHRzZWxlY3RlZExhYmVscy5yZW1vdmVDaGlsZCh0YWcpXG5cdFx0XHRcdFx0ZWxlbWVudHMgPSBlbGVtZW50cy5maWx0ZXIoZSA9PiBlICE9PSB2YWx1ZSk7XG5cdFx0XHRcdFx0bGFiZWxEcm9wZG93bi5jaGlsZE5vZGVzLmZvckVhY2goKG5vZGU6IENoaWxkTm9kZSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKG5vZGUgaW5zdGFuY2VvZiBIVE1MT3B0aW9uRWxlbWVudCkge1xuXHRcdFx0XHRcdFx0XHRpZiAobm9kZS52YWx1ZSA9PT0gdmFsdWUpIHtcblx0XHRcdFx0XHRcdFx0XHRub2RlLmRpc2FibGVkID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblx0XHRcdFx0cmVtb3ZlQnV0dG9uLnN0eWxlLm1hcmdpbkxlZnQgPSAnNXB4J1xuXHRcdFx0XHRlbGVtZW50cy5wdXNoKHZhbHVlKVxuXHRcdFx0XHRsYWJlbERyb3Bkb3duLmNoaWxkTm9kZXMuZm9yRWFjaCgobm9kZTogQ2hpbGROb2RlKSA9PiB7XG5cdFx0XHRcdFx0aWYgKG5vZGUgaW5zdGFuY2VvZiBIVE1MT3B0aW9uRWxlbWVudCkge1xuXHRcdFx0XHRcdFx0aWYgKG5vZGUudmFsdWUgPT09IHZhbHVlKSB7XG5cdFx0XHRcdFx0XHRcdG5vZGUuZGlzYWJsZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdFx0fSk7XG5cblxuXG5cdFx0XHQvL3N1Ym1pdCBidXR0b25cblx0XHRcdGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnYnV0dG9uJywge3RleHQ6ICdTdWJtaXQnfSlcblxuXHRcdFx0Ly9zdWJtaXQgdGhlIGlzc3VlXG5cdFx0XHRzdWJtaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG5cblx0XHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cblx0XHRcdFx0Y29uc3Qgc3VibWl0dGVkID0gYXdhaXQgYXBpX3N1Ym1pdF9pc3N1ZSh0aGlzLm9jb3RvQnVuZGxlLm9jdG9raXQscmVwbygpISwge1xuXHRcdFx0XHRcdGxhYmVsczogZWxlbWVudHMsXG5cdFx0XHRcdFx0dGl0bGU6IHRpdGxlSW5wdXQudmFsdWUsXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uSW5wdXQudmFsdWUsXG5cdFx0XHRcdH0gYXMgU3VibWl0dGFibGVJc3N1ZSlcblxuXHRcdFx0XHRpZiAoc3VibWl0dGVkKSB7XG5cdFx0XHRcdFx0bmV3IE5vdGljZSgnU3VibWl0dGVkIElzc3VlJylcblx0XHRcdFx0XHR0aGlzLmNsb3NlKClcblx0XHRcdFx0XHRhd2FpdCB1cGRhdGVJc3N1ZXModGhpcy5hcHAsIHRoaXMub2NvdG9CdW5kbGUub2N0b2tpdClcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKCdGYWlsZWQgdG8gc3VibWl0IGlzc3VlJylcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXcgTm90aWNlKCdZb3UgYXJlIG5vdCBpbiBhIEdpdEh1YiByZXBvJylcblx0XHRcdHRoaXMuY2xvc2UoKVxuXHRcdH1cblxuXHR9XG59XG5cbiIsICJpbXBvcnQge0FwcCwgTW9kYWwsIE5vdGljZX0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQge0lzc3VlfSBmcm9tIFwiLi4vLi4vSXNzdWVzL0lzc3VlXCI7XG5pbXBvcnQge09jdG9raXR9IGZyb20gXCJAb2N0b2tpdC9jb3JlXCI7XG5pbXBvcnQge2dldFBhc3RlYWJsZVRpbWVEZWx0YX0gZnJvbSBcIi4uLy4uL1V0aWxzL1V0aWxzXCI7XG5pbXBvcnQge2xvYWRpbmdTcGlubmVyfSBmcm9tIFwiLi4vLi4vVXRpbHMvTG9hZGVyXCI7XG5pbXBvcnQge1xuXHRhcGlfY29tbWVudF9vbl9pc3N1ZSxcblx0YXBpX2dldF9pc3N1ZV9jb21tZW50cyxcblx0YXBpX2dldF9pc3N1ZV9kZXRhaWxzLFxuXHRhcGlfdXBkYXRlX2lzc3VlXG59IGZyb20gXCIuLi8uLi9BUEkvQXBpSGFuZGxlclwiO1xuaW1wb3J0IHt1cGRhdGVJc3N1ZXN9IGZyb20gXCIuLi8uLi9Jc3N1ZXMvSXNzdWVVcGRhdGVyXCI7XG5pbXBvcnQge2dldFRleHRDb2xvcn0gZnJvbSBcIi4uLy4uL1V0aWxzL0NvbG9yLnV0aWxzXCI7XG5cbi8qKlxuICogTW9kYWwgZm9yIHNlZWluZyB0aGUgaXNzdWUgZGV0YWlsc1xuICovXG5leHBvcnQgY2xhc3MgSXNzdWVzRGV0YWlsc01vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRpc3N1ZTogSXNzdWU7XG5cdG9jdG9raXQ6IE9jdG9raXQ7XG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBpc3N1ZTogSXNzdWUsIG9jdG9raXQ6IE9jdG9raXQpIHtcbiAgICAgICAgc3VwZXIoYXBwKTtcblx0XHR0aGlzLmlzc3VlID0gaXNzdWU7XG5cdFx0dGhpcy5vY3Rva2l0ID0gb2N0b2tpdDtcblx0fVxuXG5cdGFzeW5jIG9uT3BlbigpIHtcblx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XG5cdFx0Y29uc3QgdGl0bGUgPSBjb250ZW50RWwuY3JlYXRlRWwoXCJoMlwiLCB7dGV4dDogdGhpcy5pc3N1ZS50aXRsZSArIFwiIFx1MjAyMiAjXCIgKyB0aGlzLmlzc3VlLm51bWJlcn0pO1xuXHRcdHRpdGxlLnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xuXG5cdFx0Y29uc3QgYXV0aG9yQW5kU3V0ZmYgPSBjb250ZW50RWwuY3JlYXRlU3Bhbih7XG5cdFx0XHR0ZXh0OiBgQ3JlYXRlZCBieSAke3RoaXMuaXNzdWUuYXV0aG9yfSAke2dldFBhc3RlYWJsZVRpbWVEZWx0YSh0aGlzLmlzc3VlLmNyZWF0ZWRfYXQpfWBcblx0XHR9KTtcblx0XHRhdXRob3JBbmRTdXRmZi5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLWF1aHRvclwiKVxuXG5cdFx0Y29udGVudEVsLmNyZWF0ZUVsKFwiYnJcIik7XG5cdFx0Y29uc3QgaXNzdWVMaW5rID0gY29udGVudEVsLmNyZWF0ZUVsKFwiYVwiLCB7dGV4dDogXCJWaWV3IG9uIEdpdEh1YlwifSk7XG5cdFx0aXNzdWVMaW5rLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCJodHRwczovL2dpdGh1Yi5jb20vXCIgKyB0aGlzLmlzc3VlLnJlcG8/Lm93bmVyICsgXCIvXCIgKyB0aGlzLmlzc3VlLnJlcG8/Lm5hbWUgKyBcIi9pc3N1ZXMvXCIgKyB0aGlzLmlzc3VlLm51bWJlcik7XG5cdFx0aXNzdWVMaW5rLmNsYXNzTGlzdC5hZGQoXCJpc3N1ZS1saW5rXCIpXG5cdFx0Y29uc3Qgc3Bpbm5lciA9IGxvYWRpbmdTcGlubmVyKCk7XG5cdFx0Y29udGVudEVsLmFwcGVuZENoaWxkKHNwaW5uZXIpO1xuXG5cdFx0Ly9mZXRjaCB0aGUgaXNzdWUgZGV0YWlsc1xuXHRcdGNvbnN0IGRldGFpbHMgPSBhd2FpdCBhcGlfZ2V0X2lzc3VlX2RldGFpbHModGhpcy5vY3Rva2l0LCB0aGlzLmlzc3VlKTtcblx0XHRzcGlubmVyLnJlbW92ZSgpO1xuXHRcdGlmICghZGV0YWlscyl7XG5cdFx0XHRjb250ZW50RWwuY3JlYXRlRWwoXCJoM1wiLCB7dGV4dDogXCJDb3VsZCBub3QgZmV0Y2ggaXNzdWUgZGV0YWlsc1wifSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3RhdGVBbmRMYWJlbHNDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0c3RhdGVBbmRMYWJlbHNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1zdGF0ZS1hbmQtbGFiZWwtY29udGFpbmVyXCIpXG5cblx0XHRjb25zdCBzdGF0ZVBpbGwgPSBzdGF0ZUFuZExhYmVsc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRzdGF0ZVBpbGwuY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1zdGF0ZS1waWxsXCIpXG5cdFx0Ly9tYWtlIGl0IGdyZWVuIGlmIHN0YXRlIGlzIG9wZW5cblx0XHRpZiAoZGV0YWlscz8uc3RhdGUgPT09IFwib3BlblwiKXtcblx0XHRcdHN0YXRlUGlsbC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMzEsIDExOCwgNDEsIDAuNSlcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3RhdGVQaWxsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgxMTYsIDU4LCAyMjIsIDAuNSlcIjtcblx0XHR9XG5cblxuXHRcdGNvbnN0IHN0YXRlID0gc3RhdGVQaWxsLmNyZWF0ZUVsKFwic3BhblwiLCB7dGV4dDogZGV0YWlscz8uc3RhdGV9KTtcblx0XHRzdGF0ZS5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLXN0YXRlXCIpXG5cblx0XHRjb25zdCBsYWJlbHMgPSBzdGF0ZUFuZExhYmVsc0NvbnRhaW5lci5jcmVhdGVEaXYoKTtcblx0XHRsYWJlbHMuY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1sYWJlbHNcIilcblx0XHRpZihkZXRhaWxzPy5sYWJlbHMubGVuZ3RoID4gMCl7XG5cdFx0XHQvL2xvb3AgdGhyb3VnaCB0aGUgbGFiZWxzXG5cdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5zYWZlLW9wdGlvbmFsLWNoYWluaW5nXG5cdFx0XHRmb3IgKGNvbnN0IGxhYmVsIG9mIGRldGFpbHM/LmxhYmVscyl7XG5cdFx0XHRcdGNvbnN0IGxhYmVsUGlsbCA9IGxhYmVscy5jcmVhdGVEaXYoKTtcblx0XHRcdFx0bGFiZWxQaWxsLmNsYXNzTGlzdC5hZGQoXCJpc3N1ZXMtbGFiZWwtcGlsbFwiKVxuXHRcdFx0XHRsYWJlbFBpbGwuc3R5bGUuYmFja2dyb3VuZCA9IFwiI1wiICsgbGFiZWwuY29sb3I7XG5cblx0XHRcdFx0Y29uc3QgbGFiZWxOYW1lID0gbGFiZWxQaWxsLmNyZWF0ZUVsKFwic3BhblwiLCB7dGV4dDogbGFiZWwubmFtZX0pO1xuXHRcdFx0XHRsYWJlbE5hbWUuY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1sYWJlbC1uYW1lXCIpXG5cdFx0XHRcdGxhYmVsTmFtZS5zdHlsZS5jb2xvciA9IGdldFRleHRDb2xvcihsYWJlbC5jb2xvcik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cblxuXHRcdGlmIChkZXRhaWxzLmFzc2lnbmVlLmxvZ2luICE9IHVuZGVmaW5lZCl7XG5cdFx0XHRjb25zdCBhc3NpZ25lZUNvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRcdGFzc2lnbmVlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpc3N1ZXMtYXNpZ25lZS1jb250YWluZXJcIilcblxuXHRcdFx0Ly9hc3NpZ25lZSBpY29uXG5cdFx0XHRjb25zdCBhc3NpZ25lZUljb24gPSBhc3NpZ25lZUNvbnRhaW5lci5jcmVhdGVFbChcImltZ1wiKTtcblx0XHRcdGFzc2lnbmVlSWNvbi5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLWFzc2lnbmVlLWljb25cIilcblx0XHRcdGFzc2lnbmVlSWNvbi5zcmMgPSBkZXRhaWxzPy5hc3NpZ25lZS5hdmF0YXJfdXJsO1xuXG5cdFx0XHQvL2FzaWduZWUgbG9naW5cblx0XHRcdGNvbnN0IGFzc2lnbmVlID0gYXNzaWduZWVDb250YWluZXIuY3JlYXRlU3Bhbih7XG5cdFx0XHRcdHRleHQ6IGBBc3NpZ25lZCB0byAke2RldGFpbHM/LmFzc2lnbmVlLmxvZ2lufWBcblx0XHRcdH0pO1xuXHRcdFx0YXNzaWduZWUuY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1hc3NpZ25lZVwiKVxuXHRcdH1cblxuXHRcdGNvbnN0IGJvZHlDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0Ym9keUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLWJvZHktY29udGFpbmVyXCIpXG5cblx0XHRjb25zdCBjb250YWluZXJUaXRsZSA9IGJvZHlDb250YWluZXIuY3JlYXRlRWwoXCJoM1wiLCB7dGV4dDogXCJEZXNjcmlwdGlvblwifSk7XG5cdFx0Y29udGFpbmVyVGl0bGUuY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1jb250YWluZXItdGl0bGVcIilcblxuXHRcdGNvbnN0IGJvZHkgPSBib2R5Q29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdGJvZHkuY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1ib2R5XCIpXG5cdFx0Ym9keS5pbm5lclRleHQgPSBkZXRhaWxzPy5ib2R5O1xuXG5cblx0XHQvL2xvYWQgdGhlIGNvbW1lbnRzXG5cdFx0Y29uc3Qgc3Bpbm5lcjIgPSBsb2FkaW5nU3Bpbm5lcigpO1xuXHRcdGNvbnRlbnRFbC5hcHBlbmRDaGlsZChzcGlubmVyMik7XG5cdFx0Y29uc3QgY29tbWVudHMgPSBhd2FpdCBhcGlfZ2V0X2lzc3VlX2NvbW1lbnRzKHRoaXMub2N0b2tpdCwgdGhpcy5pc3N1ZSk7XG5cdFx0c3Bpbm5lcjIucmVtb3ZlKCk7XG5cdFx0aWYgKCFjb21tZW50cyl7XG5cdFx0XHRjb250ZW50RWwuY3JlYXRlRWwoXCJoM1wiLCB7dGV4dDogXCJDb3VsZCBub3QgZmV0Y2ggY29tbWVudHNcIn0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmKGNvbW1lbnRzLmxlbmd0aCA+IDApe1xuXHRcdFx0Y29udGVudEVsLmNyZWF0ZUVsKFwiaDNcIiwge3RleHQ6IFwiQ29tbWVudHNcIn0pO1xuXHRcdH1cblxuXHRcdGNvbW1lbnRzLmZvckVhY2goY29tbWVudCA9PiB7XG5cdFx0XHRjb25zdCBjb21tZW50c0NvbnRhaW5lciA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRcdGNvbW1lbnRzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpc3N1ZXMtY29tbWVudHMtY29udGFpbmVyXCIpXG5cblx0XHRcdGNvbnN0IGF1dGhvckNvbnRhaW5lciA9IGNvbW1lbnRzQ29udGFpbmVyLmNyZWF0ZURpdigpO1xuXHRcdFx0YXV0aG9yQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpc3N1ZXMtYXV0aG9yLWNvbnRhaW5lclwiKVxuXG5cdFx0XHRjb25zdCBhdXRob3JJY29uID0gYXV0aG9yQ29udGFpbmVyLmNyZWF0ZUVsKFwiaW1nXCIpO1xuXHRcdFx0YXV0aG9ySWNvbi5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLWF1dGhvci1pY29uXCIpXG5cdFx0XHRhdXRob3JJY29uLnNyYyA9IGNvbW1lbnQ/LmF2YXRhcl91cmw7XG5cblx0XHRcdGNvbnN0IGF1dGhvck5hbWUgPSBhdXRob3JDb250YWluZXIuY3JlYXRlRWwoXCJzcGFuXCIsIHt0ZXh0OiBjb21tZW50Py5sb2dpbn0pO1xuXHRcdFx0YXV0aG9yTmFtZS5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLWF1dGhvci1uYW1lXCIpXG5cblx0XHRcdGNvbnN0IGNvbW1lbnRCb2R5ID0gY29tbWVudHNDb250YWluZXIuY3JlYXRlRGl2KCk7XG5cdFx0XHRjb21tZW50Qm9keS5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLWNvbW1lbnQtYm9keVwiKVxuXG5cdFx0XHRjb25zdCBjb21tZW50VGV4dCA9IGNvbW1lbnRCb2R5LmNyZWF0ZUVsKFwic3BhblwiLCB7dGV4dDogY29tbWVudD8uYm9keX0pO1xuXHRcdFx0Y29tbWVudFRleHQuY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1jb21tZW50LXRleHRcIilcblxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgY29tbWVudHNJbnB1dCA9IGNvbnRlbnRFbC5jcmVhdGVFbChcInRleHRhcmVhXCIpO1xuXHRcdGNvbW1lbnRzSW5wdXQuY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1jb21tZW50cy1pbnB1dFwiKVxuXHRcdC8vc2V0IHRoZSBsYWJlbFxuXHRcdGNvbnN0IGNvbW1lbnRzSW5wdXRMYWJlbCA9IGNvbnRlbnRFbC5jcmVhdGVFbChcImxhYmVsXCIsIHt0ZXh0OiBcIldyaXRlIGEgY29tbWVudFwifSk7XG5cdFx0Y29tbWVudHNJbnB1dExhYmVsLmNsYXNzTGlzdC5hZGQoXCJpc3N1ZXMtY29tbWVudHMtaW5wdXQtbGFiZWxcIilcblx0XHRjb21tZW50c0lucHV0TGFiZWwuaHRtbEZvciA9IGNvbW1lbnRzSW5wdXQuaWQ7XG5cblxuXHRcdGNvbnN0IGJ1dHRvbnNDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0YnV0dG9uc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaXNzdWVzLWJ1dHRvbnMtY29udGFpbmVyXCIpXG5cblx0XHRjb25zdCBjb21tZW50QnV0dG9uID0gYnV0dG9uc0NvbnRhaW5lci5jcmVhdGVFbChcImJ1dHRvblwiLCB7dGV4dDogXCJDb21tZW50XCJ9KTtcblx0XHRjb21tZW50QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJpc3N1ZXMtY29tbWVudC1idXR0b25cIilcblxuXHRcdGNvbnN0IGNsb3NlQnV0dG9uID0gYnV0dG9uc0NvbnRhaW5lci5jcmVhdGVFbChcImJ1dHRvblwiLCB7dGV4dDogXCJDbG9zZSBJc3N1ZVwifSk7XG5cdFx0Y2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImlzc3Vlcy1jbG9zZS1idXR0b25cIilcblxuXHRcdGNvbW1lbnRCdXR0b24ub25jbGljayA9IGFzeW5jICgpID0+IHtcblx0XHRcdGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBhcGlfY29tbWVudF9vbl9pc3N1ZSh0aGlzLm9jdG9raXQsIHRoaXMuaXNzdWUsIGNvbW1lbnRzSW5wdXQudmFsdWUpO1xuXHRcdFx0aWYodXBkYXRlZCl7XG5cdFx0XHRcdG5ldyBOb3RpY2UoXCJDb21tZW50IHBvc3RlZFwiKTtcblx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNsb3NlQnV0dG9uLm9uY2xpY2sgPSBhc3luYyAoKSA9PiB7XG5cdFx0XHRjb25zdCB1cGRhdGVkID0gYXdhaXQgYXBpX3VwZGF0ZV9pc3N1ZSh0aGlzLm9jdG9raXQsIHRoaXMuaXNzdWUsIHtcblx0XHRcdFx0c3RhdGU6IFwiY2xvc2VkXCJcblx0XHRcdH0pO1xuXG5cdFx0XHRpZih1cGRhdGVkKXtcblx0XHRcdFx0dGhpcy5jbG9zZSgpO1xuXHRcdFx0XHRuZXcgTm90aWNlKFwiSXNzdWUgY2xvc2VkXCIpO1xuXHRcdFx0XHRhd2FpdCB1cGRhdGVJc3N1ZXModGhpcy5hcHAsIHRoaXMub2N0b2tpdClcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5ldyBOb3RpY2UoXCJDb3VsZCBub3QgY2xvc2UgaXNzdWVcIik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdH1cbn1cbiIsICIvKipcbiAqIFJldHVybnMgYSBzdWl0YWJsZSBjb2xvciwgdGhhdHMgc2ltaWxhciB0byB0aGUgZ2l2ZW4gY29sb3IgYnV0IHdpdGggYSBjb250cmFzdCBvZiBhdCBsZWFzdCA0LjUgdG8gdGhlIGdpdmVuIGNvbG9yXG4gKiBAcGFyYW0gaGV4Q29sb3JcbiAqIEByZXR1cm5zIGEgc3VpdGFibGUgY29sb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFRleHRDb2xvcihoZXhDb2xvcjogc3RyaW5nKXtcblx0aWYgKGhleENvbG9yID09IHVuZGVmaW5lZCkgcmV0dXJuIFwiIzAwMDAwMFwiXG5cdGNvbnN0IGNvbG9yID0gaGV4Q29sb3IuY29udGFpbnMoXCIjXCIpID8gaGV4Q29sb3IucmVwbGFjZSgnIycsICcnKSA6IGhleENvbG9yO1xuXHRjb25zdCByID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDAsIDIpLCAxNik7IC8vIGhleFRvUlxuXHRjb25zdCBnID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDIsIDQpLCAxNik7IC8vIGhleFRvR1xuXHRjb25zdCBiID0gcGFyc2VJbnQoY29sb3Iuc3Vic3RyaW5nKDQsIDYpLCAxNik7IC8vIGhleFRvQlxuXG5cdGNvbnN0IHlpcSA9ICgociAqIDI5OSkgKyAoZyAqIDU4NykgKyAoYiAqIDExNCkpIC8gMTAwMDtcblx0cmV0dXJuICh5aXEgPj0gMTI4KSA/ICcjMDAwMDAwJyA6ICcjZmZmZmZmJztcbn1cbiIsICJpbXBvcnQge0lzc3VlfSBmcm9tIFwiLi4vSXNzdWVzL0lzc3VlXCI7XG5pbXBvcnQge2dldFBhc3RlYWJsZVRpbWVEZWx0YX0gZnJvbSBcIi4uL1V0aWxzL1V0aWxzXCI7XG5pbXBvcnQge0lzc3Vlc0RldGFpbHNNb2RhbH0gZnJvbSBcIi4vTW9kYWxzL0lzc3Vlc0RldGFpbHNNb2RhbFwiO1xuaW1wb3J0IHtBcHB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHtPY3Rva2l0fSBmcm9tIFwiQG9jdG9raXQvY29yZVwiO1xuaW1wb3J0IHtnZXRUZXh0Q29sb3J9IGZyb20gXCIuLi9VdGlscy9Db2xvci51dGlsc1wiO1xuXG4vKlxuICogQ3JlYXRlcyBhIGRlZmF1bHQgaXNzdWUgZWxlbWVudFxuICogQHBhcmFtIGVsIC0gdGhlIGVsZW1lbnQgdG8gYXBwZW5kIHRoZSBpc3N1ZSB0b1xuICogQHBhcmFtIGlzc3VlIC0gdGhlIGlzc3VlIHRvIGFwcGVuZFxuICogQHBhcmFtIHJlcG9uYW1lIC0gdGhlIG5hbWUgb2YgdGhlIHJlcG8gdGhlIGlzc3VlIGlzIGluXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVEZWZhdWx0SXNzdWVFbGVtZW50KGVsOiBIVE1MRWxlbWVudCwgaXNzdWU6IElzc3VlLCBvY290b2tpdDogT2N0b2tpdCwgYXBwOiBBcHApe1xuXG5cblx0Y29uc3QgY29udGFpbmVyID0gZWwuY3JlYXRlRGl2KHtjbHM6IFwiaXNzdWUtY29udGFpbmVyXCJ9KTtcblx0Y29udGFpbmVyLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xuXHRjb250YWluZXIuc3R5bGUucGFkZGluZyA9IFwiMFwiO1xuXHRjb250YWluZXIuc3R5bGUubWFyZ2luID0gXCIwXCI7XG5cdGNvbnRhaW5lci5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjVweFwiO1xuXHRjb250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gXCI3cHhcIjtcblx0Y29udGFpbmVyLnN0eWxlLmJveFNoYWRvdyA9IFwidmFyKC0tZW1iZWQtYmxvY2stc2hhZG93LWhvdmVyKVwiO1xuXHRjb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCJ2YXIoLS1yYWRpdXMtcylcIjtcblx0Y29udGFpbmVyLnN0eWxlLndpZHRoID0gXCI4MCVcIjtcblx0Y29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0Y29udGFpbmVyLnN0eWxlLnRleHRPdmVyZmxvdyA9IFwiZWxsaXBzaXNcIjtcblx0Y29udGFpbmVyLnN0eWxlLndoaXRlU3BhY2UgPSBcIm5vd3JhcFwiO1xuXG5cdGNvbnN0IHRpdGxlID0gY29udGFpbmVyLmNyZWF0ZUVsKFwiaDVcIiwge3RleHQ6IGlzc3VlLnRpdGxlfSk7XG5cdHRpdGxlLnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xuXHR0aXRsZS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG5cdHRpdGxlLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcInJvd1wiO1xuXHR0aXRsZS5zdHlsZS5hbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcblx0dGl0bGUuc3R5bGUubWFyZ2luTGVmdCA9IFwiN3B4XCI7XG5cdHRpdGxlLnN0eWxlLm1hcmdpblRvcCA9IFwiN3B4XCI7XG5cdHRpdGxlLnN0eWxlLnBhZGRpbmcgPSBcIjBcIjtcblx0dGl0bGUuc3R5bGUudGV4dE92ZXJmbG93ID0gXCJlbGxpcHNpc1wiO1xuXHR0aXRsZS5zdHlsZS53aGl0ZVNwYWNlID0gXCJub3dyYXBcIjtcblx0dGl0bGUuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXG5cblx0Y29uc3QgZGV0YWlscyA9IGNvbnRhaW5lci5jcmVhdGVEaXYoe2NsczogXCJpc3N1ZS1kZXRhaWxzXCJ9KTtcblx0ZGV0YWlscy5zdHlsZS5wYWRkaW5nID0gXCIwXCI7XG5cdGRldGFpbHMuc3R5bGUubWFyZ2luID0gXCIwXCI7XG5cdGRldGFpbHMuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuXHRkZXRhaWxzLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcInJvd1wiO1xuXHRkZXRhaWxzLnN0eWxlLmFsaWduSXRlbXMgPSBcInRvcFwiXG5cdGNvbnN0IGRldGFpbHNUZXh0ID0gZGV0YWlscy5jcmVhdGVFbChcInNwYW5cIiwge3RleHQ6IGAjJHtpc3N1ZS5udW1iZXJ9IG9wZW5lZCAke2dldFBhc3RlYWJsZVRpbWVEZWx0YShpc3N1ZS5jcmVhdGVkX2F0KX0gYnkgJHtpc3N1ZS5hdXRob3J9YH0pO1xuXHRkZXRhaWxzVGV4dC5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcblx0ZGV0YWlsc1RleHQuc3R5bGUuZm9udFNpemUgPSBcIjE0cHhcIjtcblx0ZGV0YWlsc1RleHQuc3R5bGUubWFyZ2luTGVmdCA9IFwiN3B4XCI7XG5cdGRldGFpbHNUZXh0LnN0eWxlLm1hcmdpbkJvdHRvbSA9IFwiN3B4XCI7XG5cdGRldGFpbHNUZXh0LnN0eWxlLnBhZGRpbmcgPSBcIjBcIjtcblx0ZGV0YWlsc1RleHQuc3R5bGUub3BhY2l0eSA9IFwiMC43XCJcblxuXHRpc3N1ZS5sYWJlbHMuZm9yRWFjaChsYWJlbCA9PiB7XG5cdFx0Y29uc3QgbGFiZWxFbCA9IHRpdGxlLmNyZWF0ZURpdih7Y2xzOiBcImxhYmVsXCJ9KTtcblx0XHRsYWJlbEVsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGAjJHtsYWJlbC5jb2xvcn1gO1xuXHRcdGxhYmVsRWwuc3R5bGUuY29sb3IgPSBnZXRUZXh0Q29sb3IobGFiZWwuY29sb3IpO1xuXHRcdGxhYmVsRWwuc3R5bGUucGFkZGluZyA9IFwiMnB4XCI7XG5cdFx0bGFiZWxFbC5zdHlsZS5tYXJnaW4gPSBcIjJweFwiO1xuXHRcdGxhYmVsRWwuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCJ2YXIoLS1yYWRpdXMtcylcIjtcblx0XHRsYWJlbEVsLnN0eWxlLmZvbnRTaXplID0gXCIxMHB4XCI7XG5cdFx0bGFiZWxFbC5zdHlsZS5vcGFjaXR5ID0gXCIwLjhcIjtcblx0XHRsYWJlbEVsLmlubmVyVGV4dCA9IGxhYmVsLm5hbWU7XG5cdH0pXG5cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsICgpID0+IHtcblx0XHRjb250YWluZXIuc3R5bGUub3BhY2l0eSA9IFwiMC43XCI7XG5cdH0pO1xuXG5cdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG5cdFx0Y29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcblx0fSk7XG5cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0Y29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSBcIjAuNVwiO1xuXHRcdG5ldyBJc3N1ZXNEZXRhaWxzTW9kYWwoYXBwLCBpc3N1ZSwgb2NvdG9raXQpLm9wZW4oKTtcblx0fSk7XG5cbn1cblxuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNvbXBhY3RJc3N1ZUVsZW1lbnQoZWw6IEhUTUxFbGVtZW50LCBpc3N1ZTogSXNzdWUsIG9jb3Rva2l0OiBPY3Rva2l0LCBhcHA6IEFwcCl7XG5cblx0Y29uc3QgY29udGFpbmVyID0gZWwuY3JlYXRlRGl2KHtjbHM6IFwiaXNzdWUtY29udGFpbmVyXCJ9KTtcblx0Y29udGFpbmVyLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xuXHRjb250YWluZXIuc3R5bGUucGFkZGluZyA9IFwiMFwiO1xuXHRjb250YWluZXIuc3R5bGUubWFyZ2luID0gXCIwXCI7XG5cdGNvbnRhaW5lci5zdHlsZS5tYXJnaW5Cb3R0b20gPSBcIjVweFwiO1xuXHRjb250YWluZXIuc3R5bGUubWFyZ2luVG9wID0gXCI1cHhcIjtcblx0Y29udGFpbmVyLnN0eWxlLmJveFNoYWRvdyA9IFwidmFyKC0tZW1iZWQtYmxvY2stc2hhZG93LWhvdmVyKVwiO1xuXHRjb250YWluZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCJ2YXIoLS1yYWRpdXMtcylcIjtcblx0Y29udGFpbmVyLnN0eWxlLndpZHRoID0gXCI4MCVcIjtcblx0Y29udGFpbmVyLnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcblx0Y29udGFpbmVyLnN0eWxlLnRleHRPdmVyZmxvdyA9IFwiZWxsaXBzaXNcIjtcblx0Y29udGFpbmVyLnN0eWxlLndoaXRlU3BhY2UgPSBcIm5vd3JhcFwiO1xuXHRjb250YWluZXIuc3R5bGUuZm9udFNpemUgPSBcIjEuMWVtXCI7XG5cblx0Y29uc3QgdGV4dCA9IGNvbnRhaW5lci5jcmVhdGVTcGFuKHt0ZXh0OlxuXHRcdGAjJHtpc3N1ZS5udW1iZXJ9IFx1MjAyMiAke2lzc3VlLnRpdGxlfSBgXG5cdH0pO1xuXHR0ZXh0LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xuXHR0ZXh0LnN0eWxlLm1hcmdpbkxlZnQgPSBcIjVweFwiO1xuXHR0ZXh0LnN0eWxlLnBhZGRpbmcgPSBcIjBcIjtcblx0dGV4dC5zdHlsZS50ZXh0T3ZlcmZsb3cgPSBcImVsbGlwc2lzXCI7XG5cdHRleHQuc3R5bGUud2hpdGVTcGFjZSA9IFwibm93cmFwXCI7XG5cdHRleHQuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xuXG5cdGNvbnN0IHRleHQyID0gY29udGFpbmVyLmNyZWF0ZVNwYW4oe3RleHQ6XG5cdFx0YG9wZW5lZCAke2dldFBhc3RlYWJsZVRpbWVEZWx0YShpc3N1ZS5jcmVhdGVkX2F0KX0gYnkgJHtpc3N1ZS5hdXRob3J9YFxuXHR9KTtcblx0dGV4dDIuc3R5bGUub3BhY2l0eSA9IFwiMC43XCI7XG5cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWVudGVyXCIsICgpID0+IHtcblx0XHRjb250YWluZXIuc3R5bGUub3BhY2l0eSA9IFwiMC43XCI7XG5cdH0pO1xuXG5cdGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XG5cdFx0Y29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcblx0fSk7XG5cblx0Y29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0Y29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSBcIjAuNVwiO1xuXHRcdG5ldyBJc3N1ZXNEZXRhaWxzTW9kYWwoYXBwLCBpc3N1ZSwgb2NvdG9raXQpLm9wZW4oKTtcblx0fSk7XG5cbn1cbiIsICJcbmV4cG9ydCBjb25zdCBlcnJvcnMgID0ge1xuXHRub0NyZWRzOiBcIlBsZWFzZSBlbnRlciB5b3VyIHVzZXJuYW1lIGFuZCBwYXNzd29yZCBpbiB0aGUgc2V0dGluZ3MuIFlvdSBtYXkgbmVlZCB0byB0b2dnbGUgdGhlIGV4dGVuc2lvbiBvZmYgYW5kIG9uIGFnYWluIGZvciB0aGUg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TyxVQUEyQjtBQUMzQyxjQUFRLElBQUksaUJBQWlCLEtBQUs7QUFDbEMsV0FBSyxPQUFPLFNBQVMsbUJBQW1CO0FBQ3hDLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUVoQyxDQUFDLENBQUM7QUFDSixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxnQkFBZ0IsRUFDeEIsUUFBUSxpREFBaUQsRUFDekQsVUFBVSxZQUFVLE9BQ25CLFNBQVMsS0FBSyxPQUFPLFNBQVMsY0FBYyxFQUM1QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixjQUFRLElBQUkscUJBQXFCLEtBQUs7QUFDdEMsV0FBSyxPQUFPLFNBQVMsaUJBQWlCO0FBQ3RDLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFBQSxJQUdoQyxDQUFDLENBQUM7QUFBQSxFQUNMO0FBQ0Q7IiwKICAibmFtZXMiOiBbIm1vZHVsZSIsICJuYW1lIiwgIm1ldGhvZCIsICJtb2R1bGUiLCAiaG9vayIsICJtb2R1bGUiLCAibW9kdWxlIiwgImhvb2siLCAibW9kdWxlIiwgIm1vZHVsZSIsICJjYiIsICJtb2R1bGUiLCAib25jZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAidmFsdWUiLCAiREVGQVVMVFMiLCAiZW5kcG9pbnQiLCAib25jZSIsICJWRVJTSU9OIiwgIm5vZGVGZXRjaCIsICJ3aXRoRGVmYXVsdHMiLCAiVkVSU0lPTiIsICJ3aXRoRGVmYXVsdHMiLCAicmVxdWVzdCIsICJlbmRwb2ludCIsICJjcmVhdGVUb2tlbkF1dGgiLCAiVkVSU0lPTiIsICJob29rIiwgImF1dGgiLCAiX2EiLCAiX2IiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJhcHAiLCAiYXBwIiwgImltcG9ydF9vYnNpZGlhbiIsICJhcHAiLCAiYXBwIiwgImltcG9ydF9vYnNpZGlhbiIsICJhcHAiLCAicmVwbyIsICJpbXBvcnRfb2JzaWRpYW4iLCAiYXBwIiwgImFwcCIsICJJc3N1ZUFwcGVhcmFuY2UiLCAiYXBwIl0KfQo=
